<div class="records-row">
    <div class="column operations-column">
        <div class="card">
            <div class="header">
                <h2>{{heading}}</h2>
            </div>
            <div class="tableBody">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <tbody>
                            <tr class="pointer-cursor" *ngFor="let visit of records"
                                (click)="actionClick('details', visit)">
                                <ng-container *ngIf="visit.waitlist">
                                    <td class="consumer-appthistory">
                                        <i *ngIf="!visit.waitlist.showToken" class="fa chckn-icon"
                                            [matTooltip]="'Check-in'"></i>
                                        <i *ngIf="visit.waitlist.showToken" class="fa token-icon"
                                            [matTooltip]="'Token'"></i>
                                    </td>
                                    <td> {{visit.waitlist.date | date: newDateFormat}}
                                        <div *ngIf="visit.waitlist.token">Token#
                                            {{visit.waitlist.token}} </div>
                                    </td>
                                    <td> <i *ngIf="visit.waitlist.service.serviceType === 'virtualService' && visit.waitlist.service.virtualCallingModes[0].callingMode === 'GoogleMeet'"
                                            class="fa meet-icon"></i>
                                        <i *ngIf="visit.waitlist.service.serviceType === 'virtualService' && visit.waitlist.service.virtualCallingModes[0].callingMode === 'Zoom'"
                                            class="fa zoom-icon"></i>
                                        <i *ngIf="visit.waitlist.service.serviceType === 'virtualService' && visit.waitlist.service.virtualCallingModes[0].callingMode === 'VideoCall'"
                                            class="fa jvideo-icon jvideo-icon-s jvideo-icon-mgm5"></i>
                                        <i *ngIf="visit.waitlist.service.serviceType === 'virtualService' && visit.waitlist.service.virtualCallingModes[0].callingMode === 'Phone'"
                                            class="fa phon-icon"></i>
                                        <i *ngIf="visit.waitlist.service.serviceType === 'virtualService' && visit.waitlist.service.virtualCallingModes[0].callingMode === 'WhatsApp' && visit.waitlist.service.virtualServiceType === 'audioService'"
                                            class="fa wtsapaud-icon"></i>
                                        <i *ngIf="visit.waitlist.service.serviceType === 'virtualService' && visit.waitlist.service.virtualCallingModes[0].callingMode === 'WhatsApp' && visit.waitlist.service.virtualServiceType === 'videoService'"
                                            class="fa wtsapvid-icon"></i>
                                        {{visit.waitlist.service.name}}
                                    </td>
                                    <td>
                                        <ng-container *ngIf="visit.waitlist.showToken">
                                            {{tokenWaitlistModes[visit.waitlist.waitlistMode]}}
                                        </ng-container>
                                        <ng-container *ngIf="!visit.waitlist.showToken">
                                            {{waitlistModes[visit.waitlist.waitlistMode]}}
                                        </ng-container>
                                    </td>
                                    <td>
                                        <span class="rupee-font" *ngIf="visit.waitlist.amountPaid > 0">
                                            {{visit.waitlist.amountPaid |
                                            currency:'&#8377;' }} Paid</span>
                                    </td>
                                    <!-- <td>
                                        <button mat-icon-button [matMenuTriggerFor]="visitMenu"
                                            (click)="stopprop($event)">
                                            <mat-icon>more_vert</mat-icon>
                                        </button>
                                        <mat-menu #visitMenu="matMenu">
                                            <button class="recent"
                                                *ngIf="(domain === 'healthCare' || domain === 'veterinaryPetcare')  && subdomain !=='laboratory' && subdomain !=='pharmacy'"
                                                mat-menu-item (click)="actionClick(visit)">
                                                <i class="medicalrecord-icon"></i>
                                                MedicalRecord
                                            </button>
                                            <button class="recent"
                                                *ngIf="(domain === 'healthCare' || domain === 'veterinaryPetcare')  && subdomain !=='laboratory' && subdomain !=='pharmacy'"
                                                mat-menu-item (click)="actionClick(visit)">
                                                <i class="mr-rx-icon"></i>
                                                Prescription
                                            </button>
                                            <button mat-menu-item (click)="actionClick(visit)">
                                                <i class="comm-history-icon"></i>
                                                Communication history
                                            </button>
                                            <button *ngIf="visit.waitlist.consumerNote" mat-menu-item
                                                (click)="actionClick(visit)">
                                                <i class="customernote-icon"></i>
                                                {{customer_label | capitalizeFirst}} note
                                            </button>
                                        </mat-menu>
                                    </td> -->
                                </ng-container>
                                <ng-container *ngIf="visit.appointmnet">
                                    <td class="consumer-appthistory">
                                        <i class="fa appt-icon" [matTooltip]="'Appointment'"></i>
                                    </td>
                                    <td> {{visit.appointmnet.appmtDate | date: newDateFormat}}
                                        <div> {{getSingleTime(visit.appointmnet.appmtTime)}}</div>
                                    </td>
                                    <td> <i *ngIf="visit.appointmnet.service.serviceType === 'virtualService' && visit.appointmnet.service.virtualCallingModes[0].callingMode === 'GoogleMeet'"
                                            class="fa meet-icon"></i>
                                        <i *ngIf="visit.appointmnet.service.serviceType === 'virtualService' && visit.appointmnet.service.virtualCallingModes[0].callingMode === 'Zoom'"
                                            class="fa zoom-icon"></i>
                                        <i *ngIf="visit.appointmnet.service.serviceType === 'virtualService' && visit.appointmnet.service.virtualCallingModes[0].callingMode === 'VideoCall'"
                                            class="fa jvideo-icon jvideo-icon-s jvideo-icon-mgm5"></i>
                                        <i *ngIf="visit.appointmnet.service.serviceType === 'virtualService' && visit.appointmnet.service.virtualCallingModes[0].callingMode === 'Phone'"
                                            class="fa phon-icon"></i>
                                        <i *ngIf="visit.appointmnet.service.serviceType === 'virtualService' && visit.appointmnet.service.virtualCallingModes[0].callingMode === 'WhatsApp' && visit.appointmnet.service.virtualServiceType === 'audioService'"
                                            class="fa wtsapaud-icon"></i>
                                        <i *ngIf="visit.appointmnet.service.serviceType === 'virtualService' && visit.appointmnet.service.virtualCallingModes[0].callingMode === 'WhatsApp' && visit.appointmnet.service.virtualServiceType === 'videoService'"
                                            class="fa wtsapvid-icon"></i>
                                        {{visit.appointmnet.service.name}}
                                    </td>
                                    <td>
                                        {{waitlistModes[visit.appointmnet.appointmentMode]}}
                                    </td>
                                    <td>
                                        <span class="rupee-font" *ngIf="visit.appointmnet.amountPaid > 0">
                                            {{visit.appointmnet.amountPaid |
                                            currency:'&#8377;' }} Paid</span>
                                    </td>
                                    <!-- <td>
                                        <button mat-icon-button [matMenuTriggerFor]="visitMenu"
                                            (click)="stopprop($event)">
                                            <mat-icon>more_vert</mat-icon>
                                        </button>
                                        <mat-menu #visitMenu="matMenu">
                                            <button class="recent"
                                                *ngIf="(domain === 'healthCare' || domain === 'veterinaryPetcare')  && subdomain !=='laboratory' && subdomain !=='pharmacy'"
                                                mat-menu-item (click)="actionClick(visit)">
                                                <i class="medicalrecord-icon"></i>
                                                MedicalRecord
                                            </button>
                                            <button class="recent"
                                                *ngIf="(domain === 'healthCare' || domain === 'veterinaryPetcare')  && subdomain !=='laboratory' && subdomain !=='pharmacy'"
                                                mat-menu-item (click)="actionClick(visit)">
                                                <i class="mr-rx-icon"></i>
                                                Prescription
                                            </button>
                                            <button mat-menu-item (click)="actionClick(visit)">
                                                <i class="comm-history-icon"></i>
                                                Communication history
                                            </button>
                                            <button *ngIf="visit.appointmnet.consumerNote" mat-menu-item
                                                (click)="actionClick(visit)">
                                                <i class="customernote-icon"></i>
                                                {{customer_label | capitalizeFirst}} note
                                            </button>
                                        </mat-menu>
                                    </td> -->
                                </ng-container>
                                <ng-container *ngIf="source == 'order'">
                                    <td class="consumer-appthistory"> <i *ngIf="visit.storePickup"
                                            class="storepickup-icon" [matTooltip]="'Store Pickup'"
                                            aria-hidden="true"></i> <i *ngIf="visit.homeDelivery" class="delivery-icon"
                                            [matTooltip]="'Home Delivery'" aria-hidden="true"></i>
                                    </td>
                                    <td> {{visit.orderDate | date: newDateFormat}}
                                        <div *ngIf="visit.orderNumber">Order#
                                            {{visit.orderNumber}} </div>
                                    </td>
                                    <td> {{visit.orderStatus}}
                                    </td>
                                    <td>
                                        <span *ngIf="visit.storePickup">Store Pickup</span>
                                        <span *ngIf="visit.homeDelivery">Home Delivery</span>
                                    </td>
                                    <td>
                                        <ng-container *ngIf="visit.orderMode === 'WALKIN_ORDER'">
                                            Walk in Order
                                        </ng-container>
                                        <ng-container *ngIf="visit.orderMode === 'ONLINE_ORDER'">
                                            Online Order</ng-container>
                                        <ng-container *ngIf="visit.orderMode === 'PHONE_ORDER'">
                                            Phone in Order</ng-container>
                                    </td>
                                    <td><span class="rupee-font" *ngIf="visit.totalAmountPaid > 0">
                                            {{visit.totalAmountPaid |
                                            currency:'&#8377;' }} Paid</span> </td>
                                    <!-- <td>
                                        <button mat-icon-button [matMenuTriggerFor]="visitMenu"
                                            (click)="stopprop($event)">
                                            <mat-icon>more_vert</mat-icon>
                                        </button>
                                        <mat-menu #visitMenu="matMenu">

                                            <button mat-menu-item (click)="actionClick(visit)">
                                                <i class="comm-history-icon"></i>
                                                Communication history
                                            </button>
                                        </mat-menu>
                                    </td> -->
                                </ng-container>
                            </tr>
                        </tbody>
                    </table>
                    <div class="showLinks mgn-bt-10" *ngIf="count > 5">
                        <a *ngIf="!showMore" (click)="actionClick('more')">Show more</a>
                        <a *ngIf="showMore" (click)="actionClick('less')">Show less</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>