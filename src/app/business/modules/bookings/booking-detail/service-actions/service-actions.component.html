<!--begin::Header-->
<div class="card rounded-0 card-custom gutter-b wave wave-animate-fast wave-success pl-0 pr-0">
<div class="card-header border-0 py-1 pl-1 pr-1">
    <h3 class="card-title align-items-start flex-column pl-2">
      <span class="card-label font-weight-bolder text-dark"><i *ngIf="waitlist_data.service.serviceType === 'virtualService'"></i>
        {{waitlist_data.service.name |
        capitalizeFirst}}
      </span>
      <span *ngIf="bookingType === 'checkin'" class="text-success mt-3 font-weight-bold font-size-sm">
        <i class="fa fa-dot-circle-o" aria-hidden="true"></i>
        {{waitlist_data.waitlistStatus | capitalizeFirst}}</span>
        <span *ngIf="bookingType === 'appointment'" class="text-success mt-3 font-weight-bold font-size-sm">
          <i class="fa fa-dot-circle-o" aria-hidden="true"></i>
          {{waitlist_data.apptStatus | capitalizeFirst}}</span>
    </h3>
    <div *ngIf="bookingType === 'checkin'" class="card-toolbar pr-2 disp-grid">
      <div>
        <button *ngIf="showStart" type="button" class="start-video-btn btn btn-lg lh-1 btn-start font-size-xs mb-2 btn-square btn-block"
            (click)="changeWaitlistStatus('STARTED')">
          Start
        </button>
      </div>
      <div *ngIf="showTeleserviceStart">
        <button  type="button" class="start-video-btn btn btn-lg lh-1 btn-start font-size-xs mb-2 btn-square btn-block"
        (click)="showCallingModes(waitlist_data)">
          <div class="action-box-sub">
            <span class="meet-icon"
                *ngIf="waitlist_data.service.serviceType === 'virtualService' && waitlist_data.service.virtualCallingModes[0].callingMode === 'GoogleMeet'"></span>
            <span class="zoom-icon"
                *ngIf="waitlist_data.service.serviceType === 'virtualService' && waitlist_data.service.virtualCallingModes[0].callingMode === 'Zoom'"></span>
            <span class="phon-icon"
                *ngIf="waitlist_data.service.serviceType === 'virtualService' && waitlist_data.service.virtualCallingModes[0].callingMode === 'Phone'"></span>
            <span class="wtsapaud-icon"
                *ngIf="waitlist_data.service.serviceType === 'virtualService' && waitlist_data.service.virtualCallingModes[0].callingMode === 'WhatsApp' && waitlist_data.service.virtualServiceType === 'audioService'"></span>
            <span class="wtsapvid-icon"
                *ngIf="waitlist_data.service.serviceType === 'virtualService' && waitlist_data.service.virtualCallingModes[0].callingMode === 'WhatsApp' && waitlist_data.service.virtualServiceType === 'videoService'"></span>
            <div class="icon-text">
                {{waitlist_data.waitlistStatus == 'Started' ? 'Resume' : 'Start'}} Service
            </div>
        </div>
        </button>
      </div>
      <div>
        <a *ngIf="showCall" class="btn btn-light-danger font-weight-bold btn-square font-size-xs mr-3 lh-1" (click)="callingWaitlist()">Stop</a>
        <a *ngIf="waitlist_data.waitlistStatus == 'checkedIn' || waitlist_data.waitlistStatus == 'arrived'"
        class="btn btn-light-primary mr-3 btn-square font-weight-bold  font-size-xs lh-1" (click)="witlistRescheduleActionClicked()">Reschedule</a>
        <a *ngIf="showCancel" class="btn btn-danger btn-square lh-1 font-size-xs" (click)="changeWaitlistStatus('CANCEL')">
          Cancel
        </a>
      </div>
      <div class="mt-3">
        <a *ngIf="waitlist_data.waitlistStatus==='blocked'" class="btn btn-light-danger font-weight-bold btn-square font-size-xs mr-3 lh-1">Unblock</a>
        <a *ngIf="showArrived"
        class="btn btn-light-primary mr-3 btn-square font-weight-bold  font-size-xs lh-1" (click)="changeWaitlistStatus('REPORT')">Mark as arrived</a>
        <a *ngIf="waitlist_data.waitlistStatus == 'started'" class="btn btn-danger btn-square lh-1 font-size-xs" (click)="changeWaitlistStatus('DONE')">
          Complete
        </a>
      </div>
      <div>
        <a *ngIf="showUndo" class="btn btn-light-danger font-weight-bold btn-square font-size-xs mr-3 lh-1" (click)="changeWaitlistStatus('CHECK_IN')">Status change</a>
        <a *ngIf="showSendDetails"
        class="btn btn-light-primary mr-3 btn-square font-weight-bold  font-size-xs lh-1" (click)="smsCheckin()">Share booking info</a>
        <a *ngIf="trackStatus" class="btn btn-danger btn-square lh-1 font-size-xs" (click)="locateCustomer()">
          Where is my customer
        </a>
      </div>
    </div>



    <div *ngIf="bookingType === 'appointment'" class="card-toolbar pr-2 disp-grid">
      <div>
        <button *ngIf="showStart" type="button" class="start-video-btn btn btn-lg lh-1 btn-start font-size-xs mb-2 btn-square btn-block"
            (click)="changeWaitlistStatus('Started')">
          Start
        </button>
      </div>
      <div>
        <button *ngIf="showTeleserviceStart" type="button" class="start-video-btn btn btn-lg lh-1 btn-start font-size-xs mb-2 btn-square btn-block"
        (click)="showCallingModes(waitlist_data)">
        <div class="action-box-sub">
          <span class="meet-icon"
              *ngIf="waitlist_data.service.serviceType === 'virtualService' && waitlist_data.service.virtualCallingModes[0].callingMode === 'GoogleMeet'"></span>
          <span class="zoom-icon"
              *ngIf="waitlist_data.service.serviceType === 'virtualService' && waitlist_data.service.virtualCallingModes[0].callingMode === 'Zoom'"></span>
          <span class="phon-icon"
              *ngIf="waitlist_data.service.serviceType === 'virtualService' && waitlist_data.service.virtualCallingModes[0].callingMode === 'Phone'"></span>
          <span class="wtsapaud-icon"
              *ngIf="waitlist_data.service.serviceType === 'virtualService' && waitlist_data.service.virtualCallingModes[0].callingMode === 'WhatsApp' && waitlist_data.service.virtualServiceType === 'audioService'"></span>
          <span class="wtsapvid-icon"
              *ngIf="waitlist_data.service.serviceType === 'virtualService' && waitlist_data.service.virtualCallingModes[0].callingMode === 'WhatsApp' && waitlist_data.service.virtualServiceType === 'videoService'"></span>
          <div class="icon-text">
              {{waitlist_data.apptStatus == 'Started' ? 'Resume' : 'Start'}} Service
          </div>
      </div>
        </button>
      </div>
      <div>
        <a *ngIf="showCall" class="btn btn-light-danger font-weight-bold btn-square font-size-xs mr-3 lh-1"
        (click)="callingAppt()">Stop</a>
        <a *ngIf="waitlist_data.apptStatus == 'Confirmed' || waitlist_data.apptStatus == 'Arrived'"
        class="btn btn-light-primary mr-3 btn-square font-weight-bold  font-size-xs lh-1" (click)="apptRescheduleActionClicked()">Reschedule</a>
        <a *ngIf="showCancel" class="btn btn-danger btn-square lh-1 font-size-xs"
        (click)="changeWaitlistStatus('Cancelled')">
          Cancel
        </a>
      </div>
      <div class="mt-3">
        <a *ngIf="waitlist_data.apptStatus==='blocked'" class="btn btn-light-danger font-weight-bold btn-square font-size-xs mr-3 lh-1"
        (click)="unBlockAppt()">Unblock</a>
        <a *ngIf="showArrived"
        class="btn btn-light-primary mr-3 btn-square font-weight-bold  font-size-xs lh-1"
        (click)="changeWaitlistStatus('Arrived')">Mark as arrived</a>
        <a *ngIf="waitlist_data.apptStatus == 'Started'" class="btn btn-danger btn-square lh-1 font-size-xs"
        (click)="changeWaitlistStatus('Completed')">
          Complete
        </a>
      </div>
      <div>
        <a *ngIf="showUndo" class="btn btn-light-danger font-weight-bold btn-square font-size-xs mr-3 lh-1"
        (click)="changeWaitlistStatus('Confirmed')">Status change</a>
        <a *ngIf="showSendDetails"
        class="btn btn-light-primary mr-3 btn-square font-weight-bold  font-size-xs lh-1"
        (click)="smsApptmnt()">Share booking info</a>
        <a *ngIf="trackStatus" class="btn btn-danger btn-square lh-1 font-size-xs"
        (click)="locateApptCustomer()">
          Where is my customer
        </a>
      </div>
    </div>
  </div>
</div>