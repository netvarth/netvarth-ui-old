<section *ngIf="qParams.userid">
    <div class="card title-gb">
        <h5 class="no-margin">
            <span class="fa fa-arrow-left pointer-cursor" (click)="goBack()"></span>
            <img [src]="getUserImg()">
            {{bname}}
        </h5>
    </div>
</section>
<div class="subheader header-container subheader-solid" *ngIf="!qParams.userid">
    <div class="container-fluid d-flex flex-wrap flex-sm-nowrap">
        <div class="d-flex flex-column flex-wrap mr-2">
            <h1 class="text-dark font-weight-bold mt-2 mb-2 mr-5">
                <b>Dashboard</b>
            </h1>
            <h6>
                Manage your complete practice from one place
            </h6>
        </div>
    </div>
</div>
<div class="book-stats">
    <app-booking-stats [waitlistMgrSettings]="waitlistMgrSettings" [newApptsCount]="newAppts.length"
        [customer_count]="customers.length" [newWitlistCount]="newWaitlists.length" [ordersCount]="newOrders.length"
        [donationsCount]="donations.length" [admin]="admin">
    </app-booking-stats>
</div>
<div class="row pt-0 px-6 pb-6 dashboard-content">
    <div class="col-lg-4 col-xxl-5 pr-0 col-md-4">
        <app-upcoming-bookings [nextWaitlist]="nextWaitlist" [nextAppt]="nextAppt"></app-upcoming-bookings>
    </div>
    <div class="col-lg-4 col-xxl-3 pl-0 col-md-4">
        <app-booking-quick-actions></app-booking-quick-actions>
    </div>
    <div class="col-lg-4 col-xxl-4 col-md-4 mgn-bt-15">
        <app-booking-feeds></app-booking-feeds>
    </div>
    <div class="col-lg-12 col-xxl-12 col-md-12 appointments-and-doctors-row no-padding">
        <div class="column">
            <app-records-datagrid [source]="'appt'" [heading]="'Appointments'" [records]="newAppts"
                [providerId]="providerId" [view]="'small'">
            </app-records-datagrid>
        </div>
        <div class="column">
            <app-records-datagrid [source]="'waitlist'" [records]="newWaitlists"
                [heading]="(waitlistMgrSettings && waitlistMgrSettings.showTokenId) ? 'Tokens' : 'Check-ins'"
                [waitlistMgrSettings]="waitlistMgrSettings" [providerId]="providerId" [view]="'small'">
            </app-records-datagrid>
        </div>
        <div class="column">
            <app-records-datagrid [source]="'order'" [heading]="'Orders'" [records]="newOrders" [view]="'small'">
            </app-records-datagrid>
        </div>
        <div class="column" *ngIf="admin">
            <app-records-datagrid [source]="'donation'" [heading]="'Donations'" [records]="donations" [view]="'small'">
            </app-records-datagrid>
        </div>
        <div class="column" *ngIf="admin">
            <app-records-datagrid [source]="'customers'" [records]="customers" [heading]="customer_label + 's'" [view]="'small'">
            </app-records-datagrid>
        </div>
        <div class="column">
            <app-booking-documents [bookingType]="'dashboard'" [widget]="true"></app-booking-documents>
        </div>
        <div class="column" *ngIf="bills && bills.length > 0">
            <app-records-datagrid [heading]="'Bills'" [source]="'bill'" [records]="bills" [providerId]="providerId" [view]="'small'">
            </app-records-datagrid>
        </div>
        <div class="column">
            <app-booking-medical-records-rx [providerId]="providerId" [source]="'dashboard'" [type]="'mr'">
            </app-booking-medical-records-rx>
        </div>
        <div class="column">
            <app-booking-medical-records-rx [providerId]="providerId" [source]="'dashboard'" [type]="'rx'">
            </app-booking-medical-records-rx>
        </div>
    </div>
</div>