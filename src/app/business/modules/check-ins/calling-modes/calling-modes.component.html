<ng-container *ngIf="data.action !== 'normalStart'">
    <h1 *ngIf="step === 1" class="mat-dialog-title">Teleservice
        <button (click)="makeCompleted()" class="modal_close" tabindex="-1">
            <i class="fa fa-window-close" aria-hidden="true"></i>
        </button>
    </h1>
</ng-container>
<ng-container *ngIf="data.action !== 'normalStart'">
    <div *ngIf="step === 1">
        <mat-dialog-content>
            <div class="form-group" style="padding-left: 15px;">
                <div class="border-style locate-customer">
                    <div *ngIf="callingModes === 'WhatsApp'">
                        <button *ngIf="!is_web"
                            [ngClass]="{'btn-primary-n tele-btn': !btndisabled, 'disabled cs-btn bt1': btndisabled}"
                            (click)="asktoLaunch()">
                            <i class="fa fa-whatsapp fa-lg whtsap-ic"></i>
                            <a class="tspace" [ngClass]="{'teli-wtsap-a': !btndisabled, 'tel-serv-a': btndisabled}"
                                *ngIf="callingModes !== 'Phone'" style="color:white" target="_blank"
                                [href]="starting_url">Launch WhatsApp</a>
                            <a class="tspace" [ngClass]="{'teli-wtsap-a': !btndisabled, 'tel-serv-a': btndisabled}"
                                *ngIf="callingModes === 'Phone'" style="color:white" target="_blank"
                                [href]="'tel:' + starting_url">Launch WhatsApp</a>
                        </button>
                        <button *ngIf="is_web" class="cs-btn bt2 disabled">
                            <i class="fa fa-whatsapp fa-lg"></i>
                            <span style="padding-left: 20px;">Launch WhatsApp</span>
                        </button>
                    </div>
                    <div *ngIf="callingModes === 'Zoom'">
                        <button (click)="asktoLaunch()"
                            [ngClass]="{'btn-primary-n tele-btn': !btndisabled, 'disabled cs-btn bt1': btndisabled}">
                            <!-- <img class="tool-pading" src="https://img.icons8.com/color/16/000000/zoom.png" /> -->
                            <i class="fa zoom-icon"></i>
                            <a [ngClass]="{'tspace': !btndisabled, 'tspace tel-serv-a': btndisabled}" target="_blank"
                                [href]="starting_url">Launch Zoom</a>
                        </button>
                    </div>
                    <div *ngIf="callingModes === 'GoogleMeet'">
                        <button (click)="asktoLaunch()"
                            [ngClass]="{'btn-primary-n tele-btn': !btndisabled, 'disabled cs-btn bt1': btndisabled}">
                            <!-- <img class="tool-pading" src="https://img.icons8.com/ultraviolet/16/000000/video-message.png"/> -->
                            <i class="fa meet-icon"></i>
                            <a [ngClass]="{'tspace': !btndisabled, 'tspace tel-serv-a': btndisabled}" target="_blank"
                                [href]="starting_url">Launch Google Meet</a>
                        </button>
                    </div>
                    <div *ngIf="callingModes === 'Phone'">
                        <button *ngIf="!is_web"
                            [ngClass]="{'btn-primary-n tele-btn': !btndisabled, 'disabled cs-btn bt1': btndisabled}"
                            (click)="asktoLaunch()">
                            <i class="fa fa-mobile fa-lg" aria-hidden="true"></i>
                            <a class="tspace teli-wtsap-a">Call this number</a>
                        </button>
                        <button *ngIf="is_web" class="cs-btn bt2 disabled">
                            <i class="fa fa-mobile fa-lg tool-pading" aria-hidden="true"></i>
                            <span style="padding-left: 20px;">Call this number</span>
                        </button>
                    </div>
                    <div class="coupon-outer">
                        <a *ngIf="callingModes !== 'WhatsApp'" class="custId-cursor" (click)="meetingDetails()">Meeting
                            Details</a>
                        <a *ngIf="callingModes === 'WhatsApp' && !is_web" class="custId-cursor"
                            (click)="meetingDetails()">Meeting Details</a>
                    </div>
                </div>
                <div *ngIf="callingModes === 'WhatsApp' && is_web">You're using web browser. Send <a
                        class="custId-cursor" (click)="meetingDetails()">meeting details</a> to your phone to launch
                    WhatsApp</div>
            </div>
        </mat-dialog-content>
        <mat-dialog-actions>
            <div style="width: 100%;padding: 20px;">
                <div class="pull-left">
                    <i class="fa fa-bell-o" aria-hidden="true" style="color: #afaf0f;"></i> <a
                        class="tspace custId-cursor" (click)="reminder()">Reminder</a>
                </div>
                <div class="pull-right">
                    <i class="fa fa-hourglass-half" aria-hidden="true" style="color: chocolate;"></i> <a
                        class="tspace custId-cursor" (click)="waitingFor()">Waiting for you!</a>
                </div>
            </div>
        </mat-dialog-actions>
    </div>
    <div *ngIf="step === 2">
        <mat-dialog-content>
            <div class="example-full-width" style="padding-top: 30px;">
                <div class="tspace"><span style="font-size: x-large;">Reminder</span></div>
            </div>
            <mat-form-field class="example-full-width" style="padding-top: 30px;">
                <div class="telemode-msg">Message to {{customer_label}}</div>
                <textarea class="tele_srv_txtarea" matInput placeholder="" [(ngModel)]="msg_to_user"></textarea>
            </mat-form-field>
            <div class="mgtop40 form-group">
                Send message via
                <div class="coupon-outer">
                    <mat-checkbox class="mgright50 example-margin" [(ngModel)]="sms">
                        SMS
                    </mat-checkbox>
                    <mat-checkbox class="mgright50 example-margin" [(ngModel)]="email">Email
                    </mat-checkbox>
                    <mat-checkbox class="mgright50 example-margin" [(ngModel)]="pushnotify">Jaldee App
                        notification
                    </mat-checkbox>
                </div>
            </div>
        </mat-dialog-content>
        <mat-dialog-actions>
            <button type="button" class="cs-btn bt1" (click)="sendMessage()">Send</button>
            <button type="button" class="cs-btn bt2 travelmodeEdit" (click)="back()">Cancel</button>
        </mat-dialog-actions>
    </div>
    <div *ngIf="step === 3">
        <mat-dialog-content>
            <div class="example-full-width" style="padding-top: 30px;">
                <div class="tspace"><span style="font-size: x-large;">Waiting for you!</span></div>
            </div>
            <mat-form-field class="example-full-width" style="padding-top: 30px;">
                <div class="telemode-msg">Message to {{customer_label}}</div>
                <textarea class="tele_srv_txtarea" matInput placeholder="" [(ngModel)]="msg_to_user"></textarea>
            </mat-form-field>
            <div class="mgtop40 form-group">
                Send message via
                <div class="coupon-outer">
                    <mat-checkbox class="mgright50 example-margin" [(ngModel)]="sms">
                        SMS
                    </mat-checkbox>
                    <mat-checkbox class="mgright50 example-margin" [(ngModel)]="email">Email
                    </mat-checkbox>
                    <mat-checkbox class="mgright50 example-margin" [(ngModel)]="pushnotify">Jaldee App
                        notification
                    </mat-checkbox>
                </div>
            </div>
        </mat-dialog-content>
        <mat-dialog-actions>
            <button type="button" class="cs-btn bt1" (click)="sendMessage()">Send</button>
            <button type="button" class="cs-btn bt2 travelmodeEdit" (click)="back()">Cancel</button>
        </mat-dialog-actions>
    </div>
    <div *ngIf="step === 4">
        <mat-dialog-content>
            <button type="button" (click)="back()"><i class="fa fa-arrow-left tool-pading"
                    aria-hidden="true"></i>Back</button>
            <div class="example-full-width" style="padding-top: 30px;">
                <div><span style="font-size: x-large;">Meeting Details</span></div>
            </div>
            <div *ngIf="data.type === 'checkin'" class="example-full-width" style="padding-top: 30px;">
                <div>
                    <div id="meetinInfochekin">
                        <p>Checkin for : {{consumer_fname}} {{consumer_lname}}</p>
                        <p>Service : {{serv_name}}</p>
                        <p>Date & Time: {{date}}, {{time}}</p>
                        <p>Service Provider: {{serv_provider}}</p>
                        <p>Location: {{location}}</p>
                        <!-- <p>Jaldee token id: {{jalde_q_id}}</p> -->
                        <p>Join {{callingModes}} Meeting</p>
                        <p class="tel-serv-wrap"><a target="_blank" [href]="starting_url">{{starting_url}}</a></p>
                    </div>
                    <span class="btn-primary-n custId-cursor" (click)="shareUrl()">
                        <i class="fa fa-share-alt" aria-hidden="true"></i>
                        Share
                    </span>
                    <span class="btn-primary-n custId-cursor" (click)="copyInfo()">
                        <i class="fa fa-clone" aria-hidden="true"></i> Copy Info
                    </span>
                </div>
            </div>
            <div *ngIf="data.type === 'appt'" class="example-full-width" style="padding-top: 30px;">
                <div>
                    <div id="meetinInfoappt">
                        <p>Appointment for : {{consumer_fname}}</p>
                        <p>Service : {{serv_name}}</p>
                        <p>Date & Time: {{date}}, {{time}}</p>
                        <p>Service Provider: {{serv_provider}}</p>
                        <p>Location: {{location}}</p>
                        <p>Join {{callingModes}} Meeting</p>
                        <p><a target="_blank" [href]="starting_url">{{starting_url}}</a></p>
                    </div>
                    <span class="btn-primary-n custId-cursor" (click)="shareUrl()">
                        <i class="fa fa-share-alt" aria-hidden="true"></i>
                        Share
                    </span>
                    <span class="btn-primary-n custId-cursor" (click)="copyInfo()">
                        <i class="fa fa-clone" aria-hidden="true"></i> Copy Info
                    </span>
                </div>
            </div>
        </mat-dialog-content>
    </div>
    <div *ngIf="step === 5">
        <mat-dialog-content>
            <div>
                <h1 class="mat-dialog-title wtsap-ip-wdth fl-right">
                    <button mat-dialog-close class="modal_close" tabindex="-1">
                        <i class="fa fa-window-close" aria-hidden="true"></i>
                    </button>
                </h1>
                <button type="button" (click)="back()"><i class="fa fa-arrow-left tool-pading"
                        aria-hidden="true"></i>Back</button>
            </div>
            <div class="example-full-width" style="padding-top: 30px;text-align: center;">
                <span *ngIf="callingModes === 'Phone'">Audio</span><span *ngIf="callingModes !== 'Phone'">Video</span>
                call completed? <br> Change <span *ngIf="data.type === 'checkin'">Checkin</span> <span
                    *ngIf="data.type === 'appt'">Appointment</span> status to completed?
            </div>
        </mat-dialog-content>
        <mat-dialog-actions style="padding-left: 30%;">
            <button type="button" class="cs-btn bt1" style="background: #00cc96;"
                (click)="selectCompleted()">Yes</button>&nbsp;&nbsp;&nbsp;
            <button type="button" mat-dialog-close class="cs-btn bt1" style="background: #f24949;">No</button>
        </mat-dialog-actions>
    </div>
    <!-- <div *ngIf="step === 6">
    <mat-dialog-content>
        <div class="example-full-width" style="padding-top: 30px;text-align: center;">
            Change status to "Started"
        </div>
    </mat-dialog-content>
    <mat-dialog-actions style="padding-left: 30%;">
            <a *ngIf="callingModes !== 'Phone'" style="color:white" target="_blank" [href]="starting_url">
            <button type="button" class="cs-btn bt1" style="background: #00cc96;"
            (click)="makeStarted()">Yes</button></a>

            <a *ngIf="callingModes === 'Phone'" style="color:white" target="_blank" [href]="'tel:' + starting_url">
            <button type="button" class="cs-btn bt1" style="background: #00cc96;"
            (click)="makeStarted()">Yes</button>
            </a>
            &nbsp;&nbsp;&nbsp;
            <a *ngIf="callingModes !== 'Phone'" (click)="back()" style="color:white" target="_blank" [href]="starting_url">
                <button type="button" class="cs-btn bt1" style="background: #f24949;">No
                </button>
            </a>
            <a *ngIf="callingModes === 'Phone'" (click)="back()" style="color:white" target="_blank" [href]="'tel:' + starting_url">
                <button type="button" class="cs-btn bt1" style="background: #f24949;">No
                </button>
            </a>
    </mat-dialog-actions>

</div> -->
    <app-form-success-display [displayMsg]="true" *ngIf="api_success" successMsg="{{api_success}}">
    </app-form-success-display>
</ng-container>
<ng-container *ngIf="data.action === 'normalStart'">
    <mat-dialog-content>
        <div class="example-full-width" style="padding-top: 30px;text-align: center;">
            Have you started the teleservice?
            If not, go back and click on 'Teleservice'
        </div>
    </mat-dialog-content>
    <mat-dialog-actions style="padding-left: 30%;">
        <button type="button" class="cs-btn bt1" style="background: #00cc96;"
            (click)="selectCompleted()">Yes</button>&nbsp;&nbsp;&nbsp;
        <button type="button" mat-dialog-close class="cs-btn bt1" style="background: #f24949;">GO BACK</button>
    </mat-dialog-actions>
</ng-container>