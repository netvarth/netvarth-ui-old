<section class="">
  <div class="card title-gb">
    <h5 class="mgn-up-10">
      <span class="fa fa-arrow-left pointer-cursor"  (click)="redirecToPrescriptionHome()"></span>&nbsp;&nbsp;&nbsp;&nbsp;
     {{heading}}
   </h5>

        </div>
        <app-common-innerloading-spinner *ngIf="loading"></app-common-innerloading-spinner>
  <!-- </section>
  <section>
      <div class="content loc-list">
          <div class="col-md-12 no-padding-small"> -->
                  <div class="card title-gb" >
                          <div class="mgn-up-10" *ngIf="!loading">

                              <!-- <p>
                                <b>Patient:</b>
                                <span color="blue"> {{patientDetails.jaldeeId}} &nbsp;</span>
                                <span>{{patientDetails.firstName | capitalizeFirst}} {{patientDetails.lastName}}</span>
                                <span *ngIf="patientDetails.dob|| patientDetails.gender ">({{patientDetails.dob}} {{patientDetails.gender | capitalizeFirst}})</span>
                              </p> -->
                              <hr>
                             <label>{{customer_label | capitalizeFirst}} Name :</label>  <span> {{patientDetails.firstName | capitalizeFirst}} {{patientDetails.lastName}} </span><br>
                             <label>{{customer_label | capitalizeFirst}} Id :</label> <span> {{display_PatientId}}</span><br *ngIf="display_PatientId">
                             <label *ngIf="patientDetails.dob">DOB :</label>  <span *ngIf="patientDetails.dob"> {{patientDetails.dob  | date:newDateFormat}}</span><br *ngIf="patientDetails.dob">
                             <label *ngIf="patientDetails.gender">Gender :</label> <span *ngIf="patientDetails.gender"> {{patientDetails.gender | capitalizeFirst}}</span>
                              <hr>

                          </div>
                          
<ng-container *ngIf="!loading">
  <div class="w-dta" *ngIf="drugList && drugList.length>0">
    <div class="row">
        <div class="copy">
            <div class="table-outer q-itm">
 <div class="drugdetailslist pad-20 " >
  <h5> Medicines added to the prescription</h5>
<table class="table" >
    <thead>
    <tr >
      <th>
          Medicine
      </th>
      <th>
          Duration(days)
      </th>
       <th>
          Dosage
      </th>
      <th>
          Frequency
      </th>
      <th>
          Instructions
      </th>
      <th>

      </th>
    </tr>
  </thead>
    <tbody>
      <tr *ngFor="let drug of drugList; let i = index;" >
        <td data-title="Medicine">
          {{drug.medicine_name? drug.medicine_name : ''}} 
        </td>
        <td data-title="Duration(days)">
          {{drug.duration? drug.duration : ''}}
        </td>
        <td data-title="Dosage">
          {{drug.dosage? drug.dosage : ''}}
           </td>
        <td data-title="Frequency">
          {{drug.frequency? drug.frequency : ''}}
            </td>
            <td data-title="Instructions" *ngIf="instrutionType(drug.instructions) === 0">
              <span>{{truncateInst(drug.instructions)}}...<span (click)="instructPopUp(drug)"><u style="color: #3c8dbc ; font-size: smaller;cursor: pointer;">more</u></span></span>
             </td>
             <td data-title="Instructions" *ngIf="instrutionType(drug.instructions) === 1">
              {{drug.instructions? drug.instructions : ''}}
           </td>
         <!-- <td>
          <span (click)="deleteDrug(i)"> <i class="fa fa-trash" aria-hidden="true"></i></span> &nbsp;<span (click)="editDrug(drug,i)"><i class="fa fa-pencil" aria-hidden="true"></i></span>
         </td> -->
         <td class="action">
          <span class="mbt">
              <button type="button" mat-icon-button
                  [matMenuTriggerFor]="menu">
                  <mat-icon>more_vert</mat-icon>
              </button>
              <mat-menu #menu="matMenu">
                  <button type="button" (click)="editDrug(drug,i)" mat-menu-item
                     >
                      <i class="icon-edit"></i>
                      Edit
                  </button>
                  
                  <button type="button" (click)="deleteDrug(i)"
                      mat-menu-item>
                      <i class="icon-delete"></i>
                      Delete
                  </button>
              </mat-menu>
          </span>
          <span class="mbt-mobile-show">
              <button class="editcls" type="button"
                  (click)="editDrug(drug,i)">Edit</button>
             
              <button class="deletecls" type="button"
                  (click)="deleteDrug(i)">Delete</button>
          </span>
      </td>

      </tr>
    </tbody>
  </table>
  <div>
      <div class="form-group notesize">
          
              <label>Instructions to the patient</label>
            <textarea  class="form-control" id="message"
            [(ngModel)]="note" 
              maxlength="500"> </textarea>
         </div>
    <!-- <div>
       <textarea class="form-control" id="message" 
      [(ngModel)]="note" maxlength="360">
   </textarea>
   </div> -->
  </div>
  <span (click)="addDrug()" class="lnk action pointlist" style="color: #3c8dbc; font-size: smaller"><u>Add more</u></span>
  

 

  <div  *ngIf="drugList && drugList.length > 0 && showSave" class="mgn-up-10">
      <button type="button" mat-button  class="cs-btn bt1" [disabled]="disable" (click)="saveRx()">Save Prescription </button>
  </div>
  <!-- <div *ngIf="drugList.length > 0 && !showSave && digitalSign">
          <button type="button" mat-button  style= "margin-left: 40%; margin-top: 4%;" class="cs-btn bt1" (click)="shareManualRx()" >

              <i class="fa fa-share-alt" aria-hidden="true"></i>&nbsp;Share Rx</button>

      </div> -->
      <!-- <div *ngIf="drugList.length > 0 && !showSave && !digitalSign">
          <button type="button"   style= "margin-left: 40%; margin-top: 4%;" class="cs-btn bt2"  >

              <i class="fa fa-share-alt" aria-hidden="true"></i>&nbsp;Share Rx</button>

      </div> -->
</div></div></div></div>
</div>
<div class="btm-pad-20" *ngIf="drugList && drugList.length == 0">
     <div>
      Medicines are not added
     </div>
            <span (click)="addDrug()" class="lnk action pointlist" style="color: #3c8dbc; font-size: smaller"><u>Add</u></span>

</div>
</ng-container>
<!-- </div>
</div> -->
</div>
</section>