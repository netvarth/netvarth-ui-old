<section>
  <div class="card title-gb">
    <h5 class="mgn-up-10">
      <span class="fa fa-arrow-left pointer-cursor" (click)="goback()"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      Medical Record
    </h5>
  </div>
</section>
<app-common-innerloading-spinner *ngIf="loading"></app-common-innerloading-spinner>
<section *ngIf="!loading" class="medical-record">
  <div class="col-md-10 col-xs-12 col-sm-12 col-lg-9 mgn-up-10 no-padding-small">
    <div class="card title-gb no-padding">
      <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 mgn-up-10">
          <label *ngIf="customerDetails.firstName ||customerDetails.lastName">{{customer_label | capitalizeFirst}} Name :</label>&nbsp; <span>{{customerDetails.firstName | capitalizeFirst}} {{customerDetails.lastName}} </span><br>
          <label>{{customer_label | capitalizeFirst}} Id  :</label>&nbsp; <span>{{display_PatientId}}</span> <br *ngIf="display_PatientId">
          <label  *ngIf="customerDetails.dob">DOB :</label> &nbsp;<span  *ngIf="customerDetails.dob">{{customerDetails.dob  | date:newDateFormat}} </span> <br  *ngIf="customerDetails.dob">
          <label *ngIf="customerDetails.gender">Gender :</label> &nbsp;<span *ngIf="customerDetails.gender">{{customerDetails.gender | capitalizeFirst}} </span>

        <!-- <span>Patient Name: {{customerDetails.firstName | capitalizeFirst}} {{customerDetails.lastName}} </span><br>
        <span>Patient Id: {{display_PatientId}}</span><br *ngIf="display_PatientId">
        <span *ngIf="customerDetails.dob">DOB: {{customerDetails.dob  | date:display_dateFormat}}</span><br
          *ngIf="customerDetails.dob">
        <span *ngIf="customerDetails.gender">Gender: {{customerDetails.gender | capitalizeFirst}}</span> -->
        <hr>
      </div>
      <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 ">
        <h5 class="heading2b">Add or view medical records</h5>
        <div class="col-md-8 col-xs-12 col-sm-12 col-lg-8"  style="padding-left:0px;padding-right:0px;"><span class="normal-sz">{{customer_label | capitalizeFirst}} visit date </span>
          <button *ngIf="dateShow">{{visitdate }} &nbsp;</button>
          <button *ngIf="isShowList" (click)="VisitList()">{{visitdate}} &nbsp; <i class="arrow down"></i></button>
        </div><div class="col-md-4 col-xs-12 col-sm-12 col-lg-4"  style="padding-left:0px;padding-right:0px;">
          <span *ngIf="mrId !== 0"  class="custId-cursor  mr-20" (click)="activitylogs()"><u style="color: blue;">Activity Logs</u></span>
          <!-- <span>(Recent visit)</span> -->
        </div>
        <div class="clearfix"></div>
      <hr>
      </div>
      
     
      <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12">
        <div class="col-md-7 col-lg-7 col-xs-12 col-sm-12" style="padding-left:0px;padding-right:0px;">
          <label *ngIf="department">Department :</label><span *ngIf="department">
            {{department | capitalizeFirst}}</span><br *ngIf="department">
          <label *ngIf="serviceName">Service/Consultation :</label><span *ngIf="serviceName">
            {{serviceName | capitalizeFirst}}</span><br *ngIf="serviceName">
            <label *ngIf="doctorName">Doctor :</label><span *ngIf="doctorName">
              {{doctorName | capitalizeFirst}}</span><br *ngIf="doctorName">
          <!-- <label *ngIf="bookingType && bookingType !='FOLLOWUP'">Consultation Mode: </label><span  *ngIf="bookingType && bookingType !='FOLLOWUP'"> {{consultationMode}}</span> -->
          <!-- <span *ngIf="bookingType === 'FOLLOWUP'"> <label>Consultation Mode: </label>&nbsp;
          <select [(ngModel)]="patientConsultationType" (ngModelChange)="modeChanged($event)">
            <option *ngFor="let mode of patientConsultationModes" [value]="mode.name">{{mode.displayName}}</option>
          </select>
        </span> -->
        </div>
        <div  class="col-md-5 col-lg-5 col-xs-12 col-sm-12 no-padding">
          <label *ngIf="mrId !== 0">Medical Record# :</label><span *ngIf="mrId !== 0"> {{mrNumber}}</span><br>
          <div *ngIf="mrId !== 0">
            <label>Created On :</label>
            <span>&nbsp;{{mrCreatedDate}}</span>
          </div>
        </div>
        <div class="clearfix"></div>
        <hr>
      </div>
      <div class="col-md-8 col-xs-12 col-sm-12 col-lg-8">
          <span class="normal-sz mgn-bt-10">For uploading files </span> <button (click)="uploadFileforMr()">Click here</button>
        </div>
        <div class="col-md-4 col-xs-12 col-sm-12 col-lg-4" *ngIf="uploadFiles && uploadFiles.length > 0">
           <span class="pointer-cursor" (click)="uploadedFileforMr()"><u style="color: blue;">Uploaded files</u></span>
        </div>
      
      <div class="clearfix"></div>
      <hr>
      <div class="content w-manager settings ">
        <div style="padding: 5px;">
          <nav mat-tab-nav-bar>
            <a mat-tab-link *ngFor="let routeLink of routeLinks; let i = index;" [routerLink]="routeLink.link"
           routerLinkActive="mat-tab-link-active" #rla="routerLinkActive"
              class="routerLink.active heading2" [active]="rla.isActive" (click)="activeLinkIndex = i"
              [routerLinkActiveOptions]="{exact: true}">
              {{routeLink.label}}
            </a>
          </nav>
          <router-outlet></router-outlet>
          <div class="clearfix"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="clearfix"></div>
</section>

