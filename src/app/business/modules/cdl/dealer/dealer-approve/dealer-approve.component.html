<section class="card">
  <div class="title-gb no-padding">
    <div class="dash-head">
      <div> <i class="fa fa-arrow-left colorHeaderIcon" aria-hidden="true" (click)="goBack()"></i></div>
      <div class="colorHeaderIcon" *ngIf="headerName">{{headerName |capitalizeFirst}}</div>
    </div>
  </div>
</section>
<section>
  <div class="row mb-2">
    <div class="card remarks-card marginClass px-5">
      <div *ngIf="status!='pending'">
        <div>Description</div>
        <span class="details-title" *ngIf="dealerData && dealerData.description">{{dealerData.description}}</span>
      </div>
    </div>
  </div>
  <div class="row mt-2">
    <div class="col-md-5">
      <div class="card">

        <div *ngIf="status=='redirected' && user.userType!=2" class="text-warning mt-2 text-right">
          <div class="btn btn-action" (click)="takeAction()">Take Actions</div>
        </div>
        <div class="text-center mt-2"
          *ngIf="dealerData && dealerData.partnerAttachments && dealerData.partnerAttachments[0] && dealerData.partnerAttachments[0].s3path">
          <img [src]="dealerData.partnerAttachments[0].s3path" alt="Dealer Photo" width="100" height="100">
        </div>
        <div class="text-center my-2">
          <span class="loan-name"
            *ngIf="dealerData && dealerData.partnerName && dealerData.partnerName">{{dealerData.partnerName}}</span>
        </div>
        <div class="text-center">
          <span class="loan-tag">Dealer</span>
        </div>
        <div *ngIf="dealerData && dealerData.referenceNo" class="font-medium">
          <span>Dealer Id : <span class="font-weight-bold">{{dealerData.referenceNo}}</span></span>
        </div>
        <br>
        <div class="text-left">
          <h6 class="font-weight-bold">Personal Details</h6>
          <hr>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="bggrey my-2">
              <div>
                <div>
                  <div class="table-responsive">
                    <table class="table table-borderless">
                      <tbody>
                        <tr style="width: 100%;" *ngIf="dealerData && dealerData.partnerUserFirstName">
                          <td style="width: 50%;" class="details-title">Dealer Owner Name</td>
                          <th style=" width: 50%;" class="details-sub-title">
                            <span
                              *ngIf="dealerData && dealerData.partnerUserFirstName">{{dealerData.partnerUserFirstName}}</span>&nbsp;
                            <span
                              *ngIf="dealerData && dealerData.partnerUserLastName">{{dealerData.partnerUserLastName}}</span>
                          </th>
                        </tr>
                        <tr style="width: 100%;" *ngIf="dealerData && dealerData.partnerMobile">
                          <td style="width: 50%;" class="details-title">Phone Number</td>
                          <th style=" width: 50%;" class="details-sub-title">+91 {{dealerData.partnerMobile}}</th>
                        </tr>
                        <tr style="width: 100%;" *ngIf="dealerData && dealerData.partnerEmail">
                          <td style="width: 50%;" class="details-title">Email</td>
                          <th style=" width: 50%;" class="details-sub-title">{{dealerData.partnerEmail}}</th>
                        </tr>
                        <tr style="width: 100%;" *ngIf="dealerData && dealerData.partnerAddress1">
                          <td style="width: 50%;" class="details-title">Address 1</td>
                          <th style=" width: 50%;" class="details-sub-title">{{dealerData.partnerAddress1}}</th>
                        </tr>
                        <tr style="width: 100%;" *ngIf="dealerData && dealerData.partnerAddress2">
                          <td style="width: 50%;" class="details-title">Address 2</td>
                          <th style=" width: 50%;" class="details-sub-title">{{dealerData.partnerAddress2}}</th>
                        </tr>
                        <tr style="width: 100%;" *ngIf="dealerData && dealerData.partnerDistrict">
                          <td style="width: 50%;" class="details-title">District</td>
                          <th style=" width: 50%;" class="details-sub-title">{{dealerData.partnerDistrict}}</th>
                        </tr>
                        <tr style="width: 100%;" *ngIf="dealerData && dealerData.partnerState">
                          <td style="width: 50%;" class="details-title">State</td>
                          <th style=" width: 50%;" class="details-sub-title">{{dealerData.partnerState}}</th>
                        </tr>
                        <tr style="width: 100%;" *ngIf="dealerData && dealerData.partnerPin">
                          <td style="width: 50%;" class="details-title">Pincode</td>
                          <th style=" width: 50%;" class="details-sub-title">{{dealerData.partnerPin}}</th>
                        </tr>
                        <tr style="width: 100%;" *ngIf="dealerData && dealerData.category && dealerData.category.name">
                          <td style="width: 50%;" class="details-title">Category</td>
                          <th style=" width: 50%;" class="details-sub-title">{{dealerData.category.name}}</th>
                        </tr>
                        <tr style="width: 100%;" *ngIf="dealerData && dealerData.type && dealerData.type.name">
                          <td style="width: 50%;" class="details-title">Type</td>
                          <th style=" width: 50%;" class="details-sub-title">{{dealerData.type.name}}</th>
                        </tr>
                        <tr style="width: 100%;" *ngIf="dealerData && dealerData.partnerSize">
                          <td style="width: 50%;" class="details-title">Size</td>
                          <th style=" width: 50%;" class="details-sub-title">{{dealerData.partnerSize}}</th>
                        </tr>
                        <tr style="width: 100%;" *ngIf="dealerData && dealerData.partnerTrade">
                          <td style="width: 50%;" class="details-title">Trade</td>
                          <th style=" width: 50%;" class="details-sub-title">{{dealerData.partnerTrade}}</th>
                        </tr>
                        <tr style="width: 100%;"
                          *ngIf="dealerData && dealerData.branch && dealerData.branch.branchName">
                          <td style="width: 50%;" class="details-title">Nearest Branch Name</td>
                          <th style=" width: 50%;" class="details-sub-title">{{dealerData.branch.branchName}}</th>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="mt-3"
                    *ngIf="dealerData && dealerData.storeAttachments && dealerData.storeAttachments[0] && dealerData.storeAttachments[0].s3path">
                    <img class="img-fluid pb-0" [src]="dealerData.storeAttachments[0].s3path">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-7">
      <div class="card">
        <div class="font-weight-bold">KYC Details</div>
        <div class="row mt-2">
          <div class="col-md-12">
            <div *ngIf="dealerData && dealerData.aadhaar">
              <div class="text-left details-title">Aadhar Number
              </div>
              <div class="d-flex justify-content-between">
                <div class="d-flex align-items-center">
                  <div class="text-left details-sub-title"><b>{{dealerData.aadhaar}}</b></div>
                </div>
                <div *ngIf="dealerData.aadhaarAttachments">
                  <div class="mt-2" *ngFor="let attachment of dealerData.aadhaarAttachments;let i=index;">
                    <a [href]="attachment.s3path" target="_blank" class="btn btn-primary p-1">
                      <span>View File <span *ngIf="dealerData.aadhaarAttachments.length > 1">{{i+1}}</span></span>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>


          <div class="col-md-12">
            <div *ngIf="dealerData && dealerData.pan">
              <div class="text-left details-title">Pan Number
              </div>
              <div class="d-flex justify-content-between">
                <div class="d-flex align-items-center">
                  <div class="text-left details-sub-title"><b>{{dealerData.pan}}</b></div>
                </div>
                <div *ngIf="dealerData.panAttachments">
                  <div class="mt-2" *ngFor="let attachment of dealerData.panAttachments;let i=index;">
                    <a [href]="attachment.s3path" target="_blank" class="btn btn-primary p-1">
                      <span>View File <span *ngIf="dealerData.panAttachments.length > 1">{{i+1}}</span></span>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-12">
            <div *ngIf="dealerData && dealerData.gstin">
              <div class="text-left details-title">GSTIN
              </div>
              <div class="d-flex justify-content-between">
                <div class="d-flex align-items-center">
                  <div class="text-left details-sub-title"><b>{{dealerData.gstin}}</b></div>
                </div>
                <div *ngIf="dealerData.gstAttachments">
                  <div class="mt-2" *ngFor="let attachment of dealerData.gstAttachments;let i=index;">
                    <a [href]="attachment.s3path" target="_blank" class="btn btn-primary p-1">
                      <span>View File <span *ngIf="dealerData.gstAttachments.length > 1">{{i+1}}</span></span>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-12">
            <div *ngIf="dealerData && dealerData.licenceAttachments">
              <div class="text-left details-title">Dealer Agreement
              </div>
              <div class="d-flex justify-content-between">
                <div *ngIf="dealerData.licenceAttachments" class="d-flex">
                  <div class="mt-2 mr-2" *ngFor="let attachment of dealerData.licenceAttachments;let i=index;">
                    <a [href]="attachment.s3path" target="_blank" class="btn btn-primary p-1">
                      <span>View File <span *ngIf="dealerData.licenceAttachments.length > 1">{{i+1}}</span></span>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>


      </div>

      <br>

      <div class="card">
        <div class="font-weight-bold">Bank Details</div>
        <div class="row">
          <div class="col-md-4 mt-2 no-padding-small" *ngIf="dealerData && dealerData.bankAccountNo">
            <div class="details-title">Account Number</div>
            <div class="details-sub-title">{{dealerData.bankAccountNo}}</div>
          </div>
          <div class="col-md-4 mt-2 no-padding-small" *ngIf="dealerData && dealerData.bankName">
            <div class="details-title">Bank</div>
            <div class="details-sub-title">{{dealerData.bankName}} Bank</div>
          </div>
          <div class="col-md-4 mt-2 no-padding-small" *ngIf="dealerData && dealerData.bankIfsc">
            <div class="details-title">IFSC Code</div>
            <div class="details-sub-title">{{dealerData.bankIfsc}}</div>
          </div>
        </div>

        <div>

          <div *ngIf="dealerData && dealerData.bankAttachments">
            <div class="text-left details-title">Cheque / Passbook Front
            </div>
            <div class="d-flex justify-content-between">
              <div *ngIf="dealerData.bankAttachments" class="d-flex">
                <div class="mt-2 mr-2" *ngFor="let attachment of dealerData.bankAttachments;let i=index;">
                  <a [href]="attachment.s3path" target="_blank" class="btn btn-primary p-1">
                    <span>View File <span *ngIf="dealerData.bankAttachments.length > 1">{{i+1}}</span></span>
                  </a>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>

      <br>

      <div *ngIf="dealerData && dealerData.spInternalStatus && dealerData.spInternalStatus != 'Rejected'">
        <div class="card mb-2" *ngIf="capabilities && capabilities.canApprovePartner">
          <div class="font-weight-bold">Actions</div>
          <div class="d-flex mt-2">
            <div class="btn-sanctioned mr-2 pointer-cursor" (click)="approveDealer(dealerData.uid)">
              Approve
            </div>
            <div class="btn-redirect mr-2 pointer-cursor" (click)="suspendDealer(dealerData.uid)"
              *ngIf="dealerData && dealerData.spInternalStatus && dealerData.spInternalStatus == 'Approved'">
              Suspend
            </div>
            <div class="btn-reject pointer-cursor" (click)="rejectDealer(dealerData.uid)">
              Reject
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<br>