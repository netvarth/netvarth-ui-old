<section class="card">
  <div class="title-gb no-padding">
    <div class="dash-head">
      <div> <i class="fa fa-arrow-left colorHeaderIcon" aria-hidden="true" (click)="goBack()"></i></div>
      <div class="colorHeaderIcon" *ngIf="headerName">{{headerName |capitalizeFirst}}</div>
    </div>
  </div>
</section>
<section>
  <div class="row mb-2">
    <div class="card remarks-card marginClass px-5">
      <div *ngIf="status!='pending'">
        <div>Description</div>
        <span class="details-title" *ngIf="dealerData && dealerData.description">{{dealerData.description}}</span>
      </div>
    </div>
  </div>
  <div class="row mt-2">
    <div class="col-md-5">
      <div class="card">

        <div *ngIf="status=='redirected' && user.userType!=2" class="text-warning mt-2 text-right">
          <div class="btn btn-action" (click)="takeAction()">Take Actions</div>
        </div>
        <div class="text-center mt-2">
          <img src="../../../../assets/images/cdl/avatar1.png" alt="Card image cap" width="100" height="100">
        </div>
        <div class="text-center my-2">
          <span class="loan-name"
            *ngIf="dealerData && dealerData.partnerName && dealerData.partnerName">{{dealerData.partnerName}}</span>
        </div>
        <div class="text-center">
          <span class="loan-tag">Dealer</span>
        </div><br><br>
        <div class="text-left">
          <h6 class="font-weight-bold">Personal Details</h6>
          <hr>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="bggrey my-2">
              <div>
                <div>
                  <div class="row text-left my-2">
                    <div class="col-md-5 details-title">Phone Number</div>
                    <div class="col-md-1 details-title no-padding">:</div>
                    <div>
                      <span class="col-md-6 details-sub-title no-padding"
                        *ngIf="dealerData && dealerData.partnerMobile">{{dealerData.partnerMobile}}</span>
                    </div>
                  </div>
                  <div class="row text-left my-2">
                    <div class="col-md-5 details-title">Email</div>
                    <div class="col-md-1 details-title no-padding">:</div>
                    <div><span class="col-md-6 details-sub-title no-padding"
                        *ngIf="dealerData && dealerData.partnerEmail">{{dealerData.partnerEmail}}</span>
                    </div>
                  </div>
                  <div class="row text-left my-2">
                    <div class="col-md-5 details-title">Address 1</div>
                    <div class="col-md-1 details-title no-padding">:</div>
                    <div><span class="col-md-6 details-sub-title no-padding"
                        *ngIf="dealerData && dealerData.partnerAddress1">{{dealerData.partnerAddress1}}</span>
                    </div>
                  </div>
                  <div class="row text-left my-2">
                    <div class="col-md-5 details-title">Address 2</div>
                    <div class="col-md-1 details-title no-padding">:</div>
                    <div><span class="col-md-6 details-sub-title no-padding"
                        *ngIf="dealerData && dealerData.partnerAddress2">{{dealerData.partnerAddress2}}</span>
                    </div>
                  </div>
                  <div class="row text-left my-2">
                    <div class="col-md-5 details-title">City</div>
                    <div class="col-md-1 details-title no-padding">:</div>
                    <div><span class="col-md-6 details-sub-title no-padding"
                        *ngIf="dealerData && dealerData.partnerCity">{{dealerData.partnerCity}}</span>
                    </div>
                  </div>
                  <div class="row text-left my-2">
                    <div class="col-md-5 details-title">Permanent Address State</div>
                    <div class="col-md-1 details-title no-padding">:</div>
                    <div><span class="col-md-6 details-sub-title no-padding"
                        *ngIf="dealerData && dealerData.partnerState">{{dealerData.partnerState}}</span>
                    </div>
                  </div>

                  <div class="row text-left my-2">
                    <div class="col-md-5 details-title">Permanent Address Pincode</div>
                    <div class="col-md-1 details-title no-padding">:</div>
                    <div><span class="col-md-6 details-sub-title no-padding"
                        *ngIf="dealerData && dealerData.partnerPin">{{dealerData.partnerPin}}</span>
                    </div>
                  </div>


                  <div class="row text-left my-2">
                    <div class="col-md-5 details-title">Category</div>
                    <div class="col-md-1 details-title no-padding">:</div>
                    <div><span class="col-md-6 details-sub-title no-padding"
                        *ngIf="dealerData && dealerData.category && dealerData.category.name">{{dealerData.category.name}}</span>
                    </div>
                  </div>
                  <div class="row text-left my-2">
                    <div class="col-md-5 details-title">Type</div>
                    <div class="col-md-1 details-title no-padding">:</div>
                    <div><span class="col-md-6 details-sub-title no-padding"
                        *ngIf="dealerData && dealerData.type && dealerData.type.name">{{dealerData.type.name}}</span>
                    </div>
                  </div>
                  <div class="row text-left my-2">
                    <div class="col-md-5 details-title">Size</div>
                    <div class="col-md-1 details-title no-padding">:</div>
                    <div><span class="col-md-6 details-sub-title no-padding"
                        *ngIf="dealerData && dealerData.partnerSize">{{dealerData.partnerSize}}</span>
                    </div>
                  </div>

                  <div class="row text-left my-2">
                    <div class="col-md-5 details-title">Trade</div>
                    <div class="col-md-1 details-title no-padding">:</div>
                    <div><span class="col-md-6 details-sub-title no-padding"
                        *ngIf="dealerData && dealerData.partnerTrade">{{dealerData.partnerTrade}}</span>
                    </div>
                  </div>



                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-7">

      <br>

      <div class="card">
        <div class="font-weight-bold">KYC Details</div>
        <div class="row mt-2">
          <div class="col-md-6">
            <div *ngIf="dealerData && dealerData.aadhaar">
              <div>
                <div class="text-left details-title">Aadhar Number</div>
                <div class="text-left details-sub-title">{{dealerData.aadhaar}}</div>
              </div>
              <div class="mt-2"
                *ngIf="dealerData && dealerData.aadhaarAttachments && dealerData.aadhaarAttachments[0] && dealerData.aadhaarAttachments[0].s3path">
                <a [href]="dealerData.aadhaarAttachments[0].s3path" target="_blank" class="btn btn-primary"
                  type="button">
                  <span>View Aadhar</span>
                </a>
              </div>
            </div>
          </div>

          <div class="col-md-6">
            <div *ngIf="dealerData && dealerData.pan">
              <div>
                <div class="text-left details-title">Pan Number</div>
                <div class="text-left details-sub-title">{{dealerData.pan}}</div>
              </div>
              <div class="mt-2"
                *ngIf="dealerData && dealerData.panAttachments && dealerData.panAttachments[0] && dealerData.panAttachments[0].s3path">
                <a [href]="dealerData.panAttachments[0].s3path" target="_blank" class="btn btn-primary" type="button">
                  <span>View Pancard</span>
                </a>
              </div>
            </div>
          </div>
        </div>


        <div class="row mt-2">
          <div class="col-md-6">
            <div *ngIf="dealerData && dealerData.gstin">
              <div>
                <div class="text-left details-title">GSTIN</div>
                <div class="text-left details-sub-title">{{dealerData.gstin}}</div>
              </div>
            </div>
          </div>

          <div class="col-md-6">
            <div
              *ngIf="dealerData && dealerData.storeAttachments && dealerData.storeAttachments[0] && dealerData.storeAttachments[0].s3path">
              <div>
                <div class="text-left details-title">Store</div>
                <div class="text-left details-sub-title"></div>
              </div>
              <div class="mt-2"
                *ngIf="dealerData && dealerData.storeAttachments && dealerData.storeAttachments[0] && dealerData.storeAttachments[0].s3path">
                <a [href]="dealerData.storeAttachments[0].s3path" target="_blank" class="btn btn-primary" type="button">
                  <span>View Store Photo</span>
                </a>
              </div>
            </div>
          </div>
        </div>


        <div class="row mt-3">
          <div class="col-md-6">
            <div *ngIf="dealerData && dealerData.gstin">
              <div>
                <div class="text-left details-title">GSTIN</div>
                <div class="text-left details-sub-title">{{dealerData.gstin}}</div>
              </div>
              <div class="mt-2">
                <button (click)="viewFile('aadhar')" class="btn btn-primary" type="button">
                  <span>View GSTIN</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <br>

      <div class="card mb-2" *ngIf="user.userType=='2'">
        <div class="font-weight-bold">Actions</div>
        <div class="d-flex mt-2">
          <div class="btn-sanctioned mr-2 pointer-cursor" (click)="approveDealer(dealerData.uid)">
            Approve
          </div>

          <div class="btn-redirect mr-2 pointer-cursor" (click)="suspendDealer(dealerData.uid)">
            Suspend
          </div>

          <div class="btn-reject pointer-cursor" (click)="rejectDealer(dealerData.uid)">
            Reject
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<br>
