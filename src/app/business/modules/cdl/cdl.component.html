<div class="card">
  <div class="d-flex">
    <div>
      <img width="60" height="60" src="../../../../assets/images/cdl/profile.png">
    </div>
    <div class="pt-1">
      <span class="font-weight-bold">Welcome back, {{user.userName}}</span><br>
      <span class="sub-title"><i class="fa fa-stop-circle" aria-hidden="true"></i>&nbsp;You have new
        notifications</span>
    </div>
  </div>
</div>

<div>
  <div class="no-padding">
    <div class="cauroselsection">
      <owl-carousel [options]="customOptions">
        <div class="recentcards item">
          <img src="../../../../assets/images/cdl/carousal-1.jpg" alt="Card image cap">
        </div>
        <div class="recentcards item">
          <img src="../../../../assets/images/cdl/carousal-2.png" alt="Card image cap">
        </div>
        <div class="recentcards item">
          <img src="../../../../assets/images/cdl/carousal-3.png" alt="Card image cap">
        </div>
      </owl-carousel>
    </div>
  </div>
  <div class="no-padding" *ngIf="user.userType==1 || user.userType==2">
    <div class="card">
      <div class="row">
        <div class="col-md-3 mt-2">
          <div class="dashboard-card text-center border px-3">
            <div class="d-flex">
              <div>
                <i class="fa fa-certificate approved-loan-head-icon" aria-hidden="true"></i>
              </div>&nbsp;&nbsp;
              <div class="text-left">
                <span class="head-card-title">Approved Loans</span><br>
                <span class="font-weight-bold" *ngIf="approvedLoansCount">{{approvedLoansCount}}</span>
              </div>
            </div>
          </div>
        </div>


        <div class="col-md-3 mt-2">
          <div class="dashboard-card text-center border px-3">
            <div class="d-flex">
              <div>
                <i class="fa fa-clock-o approved-amount-head-icon" aria-hidden="true"></i>
              </div>&nbsp;&nbsp;
              <div class="text-left">
                <span class="head-card-title">Pending Loans</span><br>
                <span class="font-weight-bold" *ngIf="pendingLoansCount">{{pendingLoansCount}}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-3 mt-2">
          <div class="dashboard-card text-center border px-3">
            <div class="d-flex">
              <div>
                <i class="fa fa-money approved-amount-head-icon" aria-hidden="true"></i>
              </div>&nbsp;&nbsp;
              <div class="text-left">
                <span class="head-card-title">Total Approved Amount</span><br>
                <span class="font-weight-bold"><i class="fa fa-inr"></i>&nbsp;30,000</span>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-3 mt-2">
          <div class="dashboard-card text-center border px-3">
            <div class="d-flex">
              <div>
                <i class="fa fa-signal rejected-loan-head-icon" aria-hidden="true"></i>
              </div>&nbsp;&nbsp;
              <div class="text-left">
                <span class="head-card-title">Rejected Loans</span><br>
                <span class="font-weight-bold" *ngIf="rejectedLoansCount">{{rejectedLoansCount}}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-3 mt-2" *ngIf="user.userType==1">
          <div class="dashboard-card text-center border px-3">
            <div class="d-flex">
              <div>
                <i class="fa fa-users total-amount-head-icon" aria-hidden="true"></i>
              </div>&nbsp;&nbsp;
              <div class="text-left">
                <span class="head-card-title">Leads</span><br>
                <span class="font-weight-bold">80</span>
              </div>
            </div>
          </div>
        </div>
        <!-- <div class="col-md-3 mt-2" *ngIf="user.userType==2">
          <div class="dashboard-card text-center border px-3 pointer-cursor">
            <div class="d-flex" (click)="reports()">
              <div>
                <i class="fa fa-files-o total-amount-head-icon" aria-hidden="true"></i>
              </div>&nbsp;&nbsp;
              <div class="text-left">
                <span class="head-card-title">Reports</span><br>
                <span class="font-weight-bold">80</span>
              </div>
            </div>
          </div>
        </div> -->
      </div>
    </div>
  </div>
</div>

<div class="card m-2">
  <div class="mb-2">
    <span class="font-weight-bold">Quick Actions</span>
  </div>
  <div class="row">
    <div class="col-md-2 mt-2" (click)="CreateLoan()" *ngIf="user.userType==1 || user.userType==5">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor shadow">
        <div>
          <i class="fa fa-plus add-loan-icon"></i>
        </div>
        <div class="mt-1">
          <span class="card-title">Create Loan</span>
        </div>
      </div>
    </div>



    <div class="col-md-2 mt-2" (click)="approvedLoans()" *ngIf="user.userType==5">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-check approved-loan-icon"></i>
        </div>
        <div class="mt-1">
          <span class="card-title">Approved Loans</span>
        </div>
      </div>
    </div>
    <!-- <div class="col-md-2 mt-2" (click)="redirectedLoans()" *ngIf="user.userType==5">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-spinner redirected-loan-icon"></i>
        </div>
        <div class="mt-1">
          <span class="card-title">Redirected Loans</span>
        </div>
      </div>
    </div> -->



    <div class="col-md-2 mt-2" (click)="rejectedLoans()" *ngIf="user.userType==5">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-times rejected-loan-icon"></i>
        </div>
        <div class="mt-1">
          <span class="card-title">Rejected Loans</span>
        </div>
      </div>
    </div>


    <div class="col-md-2 mt-2" (click)="allSchemes()" *ngIf="user.userType==5">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-globe schemes-loan-icon"></i>
        </div>
        <div class="mt-1">
          <span class="card-title">All Schemes</span>
        </div>
      </div>
    </div>


    <div class="col-md-2 mt-2" *ngIf="user.userType==1 || user.userType==2" (click)="allLoans()">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-clock-o all-loans-icon"></i>
        </div>
        <div>
          <span class="card-title">All Loans</span>
        </div>
      </div>
    </div>

    <div class="col-md-2 mt-2" (click)="pendingLoans()" *ngIf="user.userType==2">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-clock-o redirected-loan-icon"></i>
        </div>
        <div class="mt-1">
          <span class="card-title">Pending Loans</span>
        </div>
      </div>
    </div>

    <div class="col-md-2 mt-2" *ngIf="user.userType==1" (click)="createDealer()">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-user create-dealer-icon"></i>
        </div>
        <div class="mt-1">
          <span class="card-title">Create Dealer</span>
        </div>
      </div>
    </div>

    <div class="col-md-2 mt-2" *ngIf="user.userType==1 || user.userType==2" (click)="allDealers()">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-users all-leads-icon"></i>
        </div>
        <div>
          <span class="card-title">All Dealers</span>
        </div>
      </div>
    </div>



    <div class="col-md-2 mt-2" *ngIf="user.userType==1 || user.userType==2" (click)="allLeads()">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-users all-leads-icon"></i>
        </div>
        <div>
          <span class="card-title">All Leads</span>
        </div>
      </div>
    </div>


    <div class="col-md-2 mt-2" *ngIf="user.userType==2" (click)="requestedDealers()">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-users all-leads-icon"></i>
        </div>
        <div>
          <span class="card-title">Requested Dealers</span>
        </div>
      </div>
    </div>

    <div class="col-md-2 mt-2" *ngIf="user.userType==2">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-user create-dealer-icon"></i>
        </div>
        <div class="mt-1">
          <span class="card-title">Create Scheme</span>
        </div>
      </div>
    </div>




    <div class="col-md-2 mt-2" (click)="viewFile('emicalc')">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-calculator emi-calc-icon"></i>
        </div>
        <div class="mt-1">
          <span class="card-title">EMI Calculator</span>
        </div>
      </div>
    </div>



    <div class="col-md-2 mt-2" (click)="reports()">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-files-o all-leads-icon"></i>
        </div>
        <div>
          <span class="card-title">Reports</span>
        </div>
      </div>
    </div>


  </div>
</div>

<div class="row">
  <div class="col-md-8">
    <div class="card">
      <div class="d-flex justify-content-between">
        <div class="form-group col-md-4 no-padding">
          <select class="form-control" (change)="transform($event)">
            <option value="all"><span class="text-capitalize">All Loans</span></option>
            <option value="approved"><span class="text-capitalize">Approved Loans</span></option>
            <option value="pending"><span class="text-capitalize">Pending Loans</span></option>
            <option value="redirected"><span class="text-capitalize">Redirected Loans</span></option>
            <option value="rejected"><span class="text-capitalize">Rejected Loans</span></option>
          </select>
        </div>
        <div>
          <nav class="navbar navbar-light bg-light">
            <form class="form-inline">
              <div class="form-group">
                <input class="form-control" type="search" (keyup)="searchText($event)" class="form-control"
                  placeholder="Search with Name,Status,Loan Amount" />
              </div>
            </form>
          </nav>
        </div>
      </div>
      <div class="table-responsive dash-list">
        <table class="table">
          <thead>
            <tr class="tble-filtr-tr heght">
              <th class="head_color">Loan Id</th>
              <th class="head_color">Customer Name</th>
              <th class="head_color">Dealer</th>
              <th class="head_color">Status</th>
            </tr>
          </thead>
          <tbody class="table_data">
            <ng-container *ngIf="loans && loans.length > 0">
              <tr style="cursor:pointer" *ngFor="let item of loans;let i=index">
                <td data-title="Loan Details" class="td1" *ngIf="item && item.id">{{item.id}}</td>
                <td data-title="Loan Details" class="td1" *ngIf="item && item.customer && item.customer.firstName">
                  {{item.customer.firstName}} {{item.customer.lastName}}</td>
                <td data-title="Loan Details" class="td1" *ngIf="item && item.partner && item.partner.partnerName">
                  {{item.partner.partnerName}}</td>
                <td data-title="Loan Details" class="td1" *ngIf="item && !item.partner">
                  --</td>
                <td data-title=" Loan Details" class="td1 loanStatus" *ngIf="item && item.spInternalStatus">
                  {{item.spInternalStatus}}
                </td>
                <td>
                  <div *ngIf="item && item.uid" (click)="loanDetails(item.uid)">
                    <a class="btn btn-primary">View</a>
                  </div>
                </td>
              </tr>
            </ng-container>
            <ng-container *ngIf="loans && loans.length == 0">
              <tr class="my-2">
                <td class="text-primary">No Loan Applications Found</td>
              </tr>
            </ng-container>
          </tbody>
        </table>
        <span class="text-primary font-weight-bold pointer-cursor" *ngIf="loans && loans.length>3"
          (click)="viewMoreLoans()">View
          All</span>
      </div>
    </div>
  </div>
  <div class="col-md-4" *ngIf="user.userType==5">
    <div class="card">
      <div class="mb-2">
        <span class="font-weight-bold">News Feed</span>
      </div>
      <div class="d-flex">
        <div>
          <i class="fa fa-newspaper-o id-card-1" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="news-title">Please check the Credit report</span><br>
          <span class="news-sub-title">We will target growth of 10-15% in gold loans in coming fiscal year
          </span>
        </div>
      </div>

      <div class="d-flex">
        <div>
          <i class="fa fa-newspaper-o id-card-2" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="news-title">Please check the Credit report</span><br>
          <span class="news-sub-title">We will target growth of 10-15% in gold loans in coming fiscal year
          </span>
        </div>
      </div>

      <div class="d-flex">
        <div>
          <i class="fa fa-newspaper-o id-card-3" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="news-title">Please check the Credit report</span><br>
          <span class="news-sub-title">We will target growth of 10-15% in gold loans in coming fiscal year
          </span>
        </div>
      </div>

      <div class="d-flex">
        <div>
          <i class="fa fa-newspaper-o id-card-1" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="news-title">Please check the Credit report</span><br>
          <span class="news-sub-title">We will target growth of 10-15% in gold loans in coming fiscal year
          </span>
        </div>
      </div>

      <div class="d-flex">
        <div>
          <i class="fa fa-newspaper-o id-card-2" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="news-title">Please check the Credit report</span><br>
          <span class="news-sub-title">We will target growth of 10-15% in gold loans in coming fiscal year
          </span>
        </div>
      </div>

      <div class="d-flex">
        <div>
          <i class="fa fa-newspaper-o id-card-3" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="news-title">Please check the Credit report</span><br>
          <span class="news-sub-title">We will target growth of 10-15% in gold loans in coming fiscal year
          </span>
        </div>
      </div>


    </div>
  </div>


  <div class="col-md-4" *ngIf="user.userType==1 || user.userType==2">
    <div class="card min-height">
      <div class="mb-2">
        <span class="font-weight-bold">Alerts</span>
      </div>
      <div class="d-flex mt-2" *ngFor="let loan of loans">
        <div *ngIf="loan && loan.alertMessage">
          <i class="fa fa-bell alerts-icon" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div *ngIf="loan && loan.alertMessage">
          <span class="alerts-title">{{loan.alertMessage}}</span>
        </div>
      </div>

    </div>
  </div>
</div>
<br>

<div class="row mt-1" *ngIf="user.userType==1 || user.userType==2">
  <div class="col-md-8">
    <div class="card">
      <div>
        <span class="font-weight-bold text-primary">Dealers</span>
      </div>
      <div class="table-responsive dash-list">
        <table class="table">
          <thead>
            <tr class="tble-filtr-tr heght">
              <th class="head_color">Dealer Id</th>
              <th class="head_color">Status</th>
              <th class="head_color">Dealer</th>
              <th class="head_color">Phone</th>
              <th class="head_color"></th>
            </tr>
          </thead>
          <tbody class="table_data">
            <ng-container *ngFor="let dealer of dealers;let i=index">
              <tr style="cursor:pointer" (click)="showDealer(dealer.uid)">
                <td data-title="Loan Details" class="td1">{{dealer.id}}</td>
                <td data-title="Loan Details" class="td1 loanStatus">
                  <div class="approvedColor text-capitalize">{{dealer.partnerStatus}}</div>
                </td>
                <td data-title="Loan Details" class="td1 text-capitalize">{{dealer.partnerName}}</td>
                <td data-title="Loan Details" class="td1">{{dealer.partnerMobile}}</td>
                <td data-title="Loan Details" class="td1" (click)="showDealer(dealer.uid)">
                  <a class="btn btn-primary">View</a>
                </td>
              </tr>
            </ng-container>
          </tbody>
        </table>
        <span class="text-primary font-weight-bold pointer-cursor" (click)="viewMoreDealers()">View All</span>
      </div>
    </div>
  </div>
  <div class="col-md-4" *ngIf="user.userType==1 || user.userType==2">
    <div class="card" *ngIf="customers">
      <div class="mb-2">
        <span class="font-weight-bold">Customers</span>
      </div>
      <div class="d-flex justify-conent-around mt-2 loan-data">
        <table>
          <tbody class="small-font">
            <ng-container *ngFor="let customer of customers;let i=index">
              <tr style="cursor:pointer">
                <td class="mr-2" *ngIf="customer.id">Id : {{customer.id}}</td>
                <td class="loanStatus">
                  <div class="approvedColor text-capitalize mx-3 my-1" *ngIf="customer.firstName">{{customer.firstName}}
                    {{customer.lastName}}</div>
                </td>
                <td class="text-capitalize" *ngIf="customer.status">
                  <span class="active">{{customer.status}}</span>
                </td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
      <div>
        <span class="text-primary font-weight-bold pointer-cursor" (click)="viewAllCustomers()">View
          All</span>
      </div>
    </div>
  </div>
</div>
<br><br>
