<section>
    <app-breadcrumb [breadcrumbs]="breadcrumbs"></app-breadcrumb>
</section>
<section>
    <div class="content loc-list labels">
        <div class="col-md-12 no-padding-small">
            <div class="row">
                <div class="card p0">
                    <div class="copy locd">
                        <div class="lbl col-md-12">
                            <div class="cl1" *ngIf="actionparam === 'view' && labelData">
                                <span class="editbt" (click)="editLabel(labelData.id)"></span>
                                <div class="ot-it">
                                    <h3>{{ labelData.displayName | capitalizeFirst}} </h3>
                                    <div class="c-ot m0">
                                        <div class="item displyfont">
                                            <span class="ttle">Description</span>
                                            <span *ngIf="!labelData.description">-</span>
                                            <span
                                                *ngIf="labelData.description">{{ labelData.description | capitalizeFirst}}</span>
                                        </div>
                                        <div class="item displyfont">
                                            <span class="ttle">Data type</span>
                                            <span>Text</span>
                                        </div>
                                    </div>
                                    <div class="c-ot m0 mgn-up-20">
                                        <div class="item desfont"
                                            *ngIf="labelData && labelData.valueSet && labelData.valueSet.length > 0">
                                            <span class="ttle">Value Set</span>
                                            <p class="form-level-settings">Actual Value(Short Value)</p>
                                            <span class="mgn-rt-5" *ngFor="let labelvalue of labelData.valueSet">
                                                {{labelvalue.value}}({{labelvalue.shortValue}})</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12" *ngIf="actionparam !== 'view'">
                                <form novalidate (keyup)="resetApiErrors()"
                                    class="ynw-common-form-nm wiz-service labelForm serviceform">
                                    <ng-container>
                                        <div class="form-group">
                                            <!-- <mat-form-field>
                                                <input matInput type="text" class="form-control" id="label_name"
                                                    placeholder="{{label_name_cap}}" [(ngModel)]="label"
                                                    [ngModelOptions]="{standalone: true}" autocomplete="off">
                                            </mat-form-field> -->
                                        </div>
                                        <div class="c-ot m0 col-md-12 no-padding">
                                        <div class="form-group col-md-7 no-padding">
                                            <mat-form-field>
                                                <input matInput type="text" class="form-control" id="displayName"
                                                    placeholder="{{label_name_cap}}*" [(ngModel)]="displayName"
                                                    [ngModelOptions]="{standalone: true}" autocomplete="off">
                                            </mat-form-field>
                                        </div>
                                        <div class="form-group item col-md-5 no-padding-small mgn-up-20">
                                            <span class="ttle">Data type</span>
                                            <span>Text</span>
                                        </div>
                                        </div>
                                        <div class="form-group">
                                            <mat-form-field>
                                                <textarea matInput class="form-control" id="description"
                                                    placeholder="Briefly describe label" [(ngModel)]="description"
                                                    [ngModelOptions]="{standalone: true}" (keyup)="setCharCount($event)"
                                                    (focus)="setDescFocus()" (blur)="lostDescFocus()"
                                                    maxlength="500"> </textarea>
                                            </mat-form-field>
                                        </div>
                                        <div class="notifications mgn-bt-10">
                                            <span class="shortcut pull-left"> Value Set</span>
                                            <div class="pull-left" [class.icon-add]="!showAddsec"
                                                [class.icon-minus]="showAddsec" (click)="showAddsection()"></div>
                                            <div class="clearfix"></div>
                                            <p class="form-level-settings">Actual Value(Short Value)</p>
                                        </div>
                                        <div class="form-group col-md-12 shortcuts no-padding  mgn-bt-20"
                                            *ngIf="showAddsec">
                                            <div class="col-md-4 no-padding">
                                                <mat-form-field>
                                                    <input matInput type="text" class="form-control" id="value"
                                                        maxlength="10" [(ngModel)]="value"
                                                        [ngModelOptions]="{standalone: true}"
                                                        placeholder="Enter  Value*" autocomplete="off">
                                                    <app-field-error-display [displayError]="true"
                                                        *ngIf="api_error['value']" errorMsg="{{api_error['value']}}">
                                                    </app-field-error-display>
                                                </mat-form-field>
                                                <div class="form-group col-md-12 no-padding">
                                                    <mat-checkbox [(ngModel)]="defaultShortValue"
                                                        [ngModelOptions]="{standalone: true}"
                                                        (change)="settingDeafultValue($event)">Set
                                                        same as short value
                                                    </mat-checkbox>
                                                </div>
                                            </div>
                                            <div class="col-md-4 no-padding-small" *ngIf="!defaultShortValue">
                                                <mat-form-field>
                                                    <input matInput type="text" class="form-control" id="shortcut"
                                                        maxlength="10" [(ngModel)]="shortValue"
                                                        [ngModelOptions]="{standalone: true}"
                                                        placeholder="Enter  short value*" autocomplete="off">
                                                    <app-field-error-display [displayError]="true"
                                                        *ngIf="api_error['short']" errorMsg="{{api_error['short']}}">
                                                    </app-field-error-display>
                                                </mat-form-field>
                                            </div>
                                            <div class="mgn-up-25 col-md-2 no-padding-small">
                                                <!-- <button type="submit" (click)="onbtnCancel()"
                                                    class="cs-btn bt2">Cancel</button> -->
                                                <!-- </div> -->
                                                <!-- <div class="col-md-2"> -->
                                                <button type="submit" (click)="addtoValueSet(value, shortValue)"
                                                    class="cs-btn bt3">Add</button>
                                            </div>
                                        </div>
                                        <div class="no-padding col-md-12 label-list" *ngIf="!showAddsec">
                                            <div class="no-padding col-md-10 labeladsmall mgn-bt-10"
                                                *ngFor="let valueset of valueSet; let j=index">
                                                <div class="no-padding col-md-3 col-xs-5">
                                                    {{valueset.value}}({{valueset.shortValue}})
                                                </div>
                                                <!-- <div class="col-md-4 col-xs-6">
                                                    {{valueset.shortValue}}
                                                </div> -->
                                                <div class="col-md-2 col-xs-1">
                                                    <span class="icon-delete pull-right"
                                                        (click)="deleteValueforSet(j)"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="actiondiv labelsave" *ngIf="!showAddsec">
                                            <button (click)="onCancel()" type="button"
                                                class="cs-btn bt2">{{cancel_btn}}</button>
                                            &nbsp;
                                            <button (click)="onSubmit()" type="button" [disabled]="savedisabled"
                                                class="cs-btn bt2 jd_btn">{{button_title}}</button>
                                        </div>
                                        <br />
                                    </ng-container>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</section>