<section class="">
    <div class="card title-gb">
        <h5 class="mgn-up-10">
            <span class="fa fa-arrow-left pointer-cursor"
                (click)="redirecToSettings()"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;My Account
            <i class="fa fa-question-circle-o fa-lg fl-right" (click)="redirecToHelp()"></i>
        </h5>
    </div>
</section>
<section class="yourProfile">

    <!--New Revamp  -->
    <div class="content w-manager settings comn-cls lic-page">
        <app-common-innerloading-spinner *ngIf="loading"></app-common-innerloading-spinner>
        <div class="col-md-10 col-xs-12 col-sm-12 col-lg-9 no-padding-small" *ngIf="!loading">
            <div class="w-dta">
                <div class="row">
                    <div class="copy one col-xs-12 col-sm-12 no-padding">
                        <div class="col-a col-b pl0 col-md-12 col-lg-12 col-xl-12 col-xs-12">
                            <div class="card p0">
                                <div class="pubs card w-dta active bprof">
                                    <!-- Cover Photo -->
                                    <div class="coverFotoBorder cover-bg"
                                        [ngStyle]="{ 'background-image': 'url(' + imageToShow + ')'}">
                                        <!--Camera icon(cover) For large device -->
                                        <span mat-button [matMenuTriggerFor]="menu"
                                            class="edit-txt custId-cursor pad-10 edit-cover disp-flex">
                                            <span class="fa propic-cam-icon mgn-top-m3"></span><span
                                                class="mgn-top-m3">&nbsp;&nbsp;{{imageToShow ? 'Edit' : 'Upload'}} Cover
                                                Photo
                                            </span>
                                        </span>
                                        <!-- Camera icon(cover) for small device -->
                                        <span mat-button [matMenuTriggerFor]="menu"
                                            class="edit-txt custId-cursor pad-10 edit-cover-small">
                                            <span class="fa propic-cam-icon mgn-top-m3"></span>
                                        </span>
                                        <mat-menu #menu="matMenu">
                                            <button mat-menu-item (click)="changeProPic('cover')">
                                                <i class="fa fa-upload"></i>
                                                Upload Photo
                                                <input type="file" name="image_src" id="image_src"
                                                    accept="/*;capture=camera" #filed>
                                            </button>
                                            <button *ngIf="cover_url" mat-menu-item (click)="deleteCover()">
                                                <i class="fa fa-trash"></i>
                                                Remove Photo</button>
                                        </mat-menu>
                                    </div>
                                    <!-- Profile pic -->
                                    <div class="cd-t pro-pic-div">
                                        <div class="basic-i">
                                            <div class="bi-l mgn-center mgn-up-100" *ngIf="blogo">
                                                <div class="pro-pic pro-pic-bdr" [class.yes]="profimg_exists">
                                                    <div class="pro-pic-img">
                                                        <img [src]="showimg()" alt="" *ngIf="blogo[0] && blogo[0].url"
                                                            class="crop-img-fit">
                                                        <div class="camera-outline custId-cursor" data-toggle="modal"
                                                            data-target="#exampleModalSizeLg"
                                                            style="overflow: visible !important;"
                                                            (click)="clearModalData()">
                                                            <i class="fa propic-cam-icon" aria-hidden="true"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Open popup upload -->
                                    <div class="modal fade" id="exampleModalSizeLg" tabindex="-1" role="dialog"
                                        aria-labelledby="exampleModalSizeLg" aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLabel">Upload Profile Photo
                                                    </h5>
                                                </div>
                                                <div class="modal-body">
                                                    <!-- Before Img selection -->

                                                    <!-- <div class="uppy-Dashboard-AddFiles-list"
                                                        *ngIf="!imageChangedEvent">
                                                        <div class="button_center">
                                                            <div class="uppy-DashboardTab">
                                                                <button type="button" class="uppy-DashboardTab-btn"
                                                                    (click)="imgSel.click()">
                                                                    <svg aria-hidden="true" focusable="false" width="32"
                                                                        height="32" viewBox="0 0 32 32">
                                                                        <g fill="none" fill-rule="evenodd">
                                                                            <rect width="32" height="32" rx="16"
                                                                                fill="#2275D7"></rect>
                                                                            <path
                                                                                d="M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z"
                                                                                fill="#FFF"></path>
                                                                        </g>
                                                                    </svg>
                                                                    <div class="uppy-DashboardTab-name">My Device</div>
                                                                </button>
                                                            </div>
                                                            <input type="file" name="image_src" id="image_src"
                                                                accept="image/*" #imgSel (change)="imageSelect($event)"
                                                                class="ip_hide">
                                                        </div>
                                                    </div> -->


                                               
                                                        <div *ngIf="!imageChangedEvent" class="col-lg-12 col-md-9 col-sm-12" (click)="imgSel.click()">
                                                            <div
                                                                class="dropzone dropzone-default dropzone-success dz-clickable col-lg-12">
                                                                <div class="dropzone-msg dz-message needsclick">
                                                                    <h3 class="dropzone-msg-title">Click here to upload.</h3>
                                                                    <span class="dropzone-msg-desc">Only image(jpg, jpeg, png) is allowed for upload</span>
                                                                </div>
                                                                <input type="file" name="image_src" id="image_src"
                                                                accept="image/*" #imgSel (change)="imageSelect($event)"
                                                                class="ip_hide">
                                                            </div>
                                                        </div>








                                                    <!-- After Img selection cropper -->
                                                    <div>
                                                        <mat-progress-bar *ngIf="loadSymbol" mode="indeterminate"
                                                            class="mt-10"></mat-progress-bar>
                                                        <!-- cropper for pro pic -->
                                                        <image-cropper *ngIf="!imgType"
                                                            [imageChangedEvent]="imageChangedEvent"
                                                            [roundCropper]="true" [maintainAspectRatio]="true"
                                                            [aspectRatio]="1 / 1" [containWithinAspectRatio]="true"
                                                            [resizeToWidth]="500" [onlyScaleDown]="true"
                                                            [imageQuality]="99" [canvasRotation]="canvasRotation"
                                                            [transform]="transform" format="png"
                                                            (imageCropped)="imageCropped($event)"
                                                            (imageLoaded)="imageLoaded()"
                                                            (cropperReady)="cropperReady()"
                                                            (loadImageFailed)="loadImageFailed()"></image-cropper>
                                                        <div class="crop-img-div"
                                                            *ngIf="imageChangedEvent && imageChangedEvent.target.files">
                                                            <i class="fa fa-undo custId-cursor" aria-hidden="true"
                                                                (click)="rotateLeft()">&nbsp;Left</i>
                                                            <i class="fa fa-repeat custId-cursor pad-left-20"
                                                                aria-hidden="true"
                                                                (click)="rotateRight()">&nbsp;Right</i>
                                                            <i class="fa fa-search-plus custId-cursor pad-left-20"
                                                                aria-hidden="true" (click)="zoomIn()">&nbsp;Zoom+</i>
                                                            <i class="fa fa-search-minus custId-cursor pad-left-20"
                                                                aria-hidden="true" (click)="zoomOut()">&nbsp;Zoom-</i>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button"
                                                        class="btn btn-square ln-ht-1 btn-light-primary font-weight-bold"
                                                        data-dismiss="modal" #closebutton>Close</button>
                                                    <button *ngIf="fileToReturn" [class.btn_disable]="api_success"
                                                        type="button"
                                                        class="btn ln-ht-1 btn-square btn-primary font-weight-bold"
                                                        (click)="saveImages()">{{spinner_load ? 'Uploading': 'Save'}}
                                                        <i *ngIf="spinner_load" class="fas fa-spinner fa-spin"
                                                            style="font-family: 'FontAwesome';"></i>
                                                    </button>
                                                    <app-form-success-display class="wdth_full" [displayMsg]="true"
                                                        *ngIf="api_success" successMsg="{{api_success}}">
                                                    </app-form-success-display>
                                                </div>
                                            </div>
                                        </div>
                                    </div>



                                    <!-- Progress Bar -->
                                    <div class="col-md-12 col-sm-12 col-xs-12 no-padding mgn-up-50">
                                        <h6 style="margin-top: 0 !important;" *ngIf="normal_basicinfo_show!=1"
                                            class="bus-prof-strength">
                                            Profile Strength-
                                            <span
                                                [className]="'text-' + weightageClass">{{getBusinessProfileWeightageText()}}
                                            </span>
                                        </h6>
                                        <div class="warning" *ngIf="normal_basicinfo_show==1">
                                            <app-innerloading-spinner spinnerParams="loadingParams">
                                            </app-innerloading-spinner>
                                        </div>
                                        <div class="col-md-12 col-xs-12 col-sm-12 bus-bprof-strength no-padding"
                                            *ngIf="normal_basicinfo_show!=1">
                                            <div class="col-md-6 col-xs-6 col-sm-6 progress bar-wdth  mt-2 no-padding"
                                                style="height:16px;">
                                                <div class="progress-bar progress-bar-animated active"
                                                    role="progressbar" [style.width.%]="weightageValue"
                                                    aria-valuenow="weightageValue" aria-valuemin="0" aria-valuemax="100"
                                                    data-toggle="popover"></div>
                                            </div>
                                            <div class="col-md-6 col-xs-6 col-sm-6 mgn-up-5">
                                                <button (click)="scroll(basicInfoSection)" type="button"
                                                    [className]="'wght-btn btn btn-' + weightageClass">{{bprofile_btn_text}}
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- About You -->
                                    <div class="col-md-12 col-sm-12 col-xs-12 no-padding abt-you-box" #basicInfoSection>
                                        <div class="pad-10"><span *ngIf="aboutmefilled" class="sub-heads">About
                                                Us</span><span class="edit-txt custId-cursor" (click)="gotoAboutMe()"
                                                *ngIf="aboutmefilled">Manage</span></div>
                                        <div class="no-dta" *ngIf="!aboutmefilled">
                                            <span [ngClass]="{'no_abt_us':!aboutmefilled }" class="cs-btn bt3"
                                                (click)="gotoAboutMe()">About
                                                Us</span>
                                        </div>
                                        <div class="busns-name">
                                            {{bProfile.businessName}}
                                        </div>
                                        <div class="busns-usr-name" *ngIf="bProfile.businessUserName">
                                            {{bProfile.businessUserName}}
                                        </div>
                                        <div class="bus-desc pad-10">
                                            {{bProfile.businessDesc}}
                                        </div>
                                    </div>
                                </div>

                                <!-- QR code -->
                                <div class="pubs card w-dta bprof no-shadow no-padding-up">
                                    <div *ngIf="showIncompleteButton || (reqFields.name || reqFields.location  ||reqFields.specialization) || bProfile.specialization.length === 0"
                                        class="incomplete-msg">
                                        <div>
                                            Please complete your profile to activate your Jaldee Link and QR Code
                                        </div>
                                    </div>
                                    <div
                                        [class.all_disabled]="showIncompleteButton || (reqFields.name || reqFields.location  ||reqFields.specialization) || bProfile.specialization.length === 0">
                                        <div>
                                            <h6 class="sub-heads">Here is your QR code and Link
                                                <sup><span class="inactive"
                                                        *ngIf="!onlinepresence_status">Inactive</span>
                                                    <span class="active"
                                                        *ngIf="onlinepresence_status">Active</span></sup>
                                                <span class="edit-txt custId-cursor"
                                                    (click)="reDirectToJaldeeOnline()">{{onlinepresence_status?
                                                    'Manage' : 'Enable'}}</span>
                                            </h6>
                                            <div class="clearfix"></div>
                                            <div class="bus-prof-qr-sec">
                                                <div class="mgn-up-10">
                                                    <!-- If there is NO Custom ID -->
                                                    <div *ngIf="!bProfile.customId">
                                                        <div class="bprof-qr-border mgn-bt-10 col-sm-12 col-md-12 col-lg-12 col-xs-12 no-padding"
                                                            #qrCodeOnlineId>
                                                            <div
                                                                class="col-sm-3 col-md-3 col-lg-3 col-xs-12 txt-center">
                                                                <ngx-qrcode #accQR [elementType]="elementType"
                                                                    [value]="qr_value"
                                                                    (click)="qrCodegeneraterOnlineID(bProfile.accEncUid)"
                                                                    class="custId-cursor">
                                                                </ngx-qrcode>
                                                            </div>
                                                            <div
                                                                class="col-sm-9 col-md-9 col-lg-9 col-xs-12 no-padding-small">
                                                                <div class="mgn-up-10 prof-url">
                                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{wndw_path}}{{bProfile.accEncUid}}
                                                                </div>
                                                                <div class="mgn-up-10">
                                                                    <div class="disp-flex smal-device-wt">
                                                                        <div class="trackSlide bprof-icons share-ico">
                                                                            <share-buttons [theme]="'circles-dark'"
                                                                                [include]="['facebook','whatsapp','email','telegram','copy']"
                                                                                [url]="shareLink" [image]="qrCodePath"
                                                                                [showIcon]="true" [showText]="true"
                                                                                [size]="-4">
                                                                            </share-buttons>
                                                                        </div>
                                                                        <div class="dwnld-bdr custId-cursor">
                                                                            <a class="ngx-qr-btn" [href]="qrCodePath"
                                                                                download>
                                                                                <i
                                                                                    class="fa fa-cloud-download dwnld-icon"></i>
                                                                            </a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- If there is Custom ID -->
                                                    <div *ngIf="bProfile.customId">
                                                        <div class="bprof-qr-border mgn-bt-10 col-sm-12 col-md-12 col-lg-12 col-xs-12 no-padding"
                                                            #qrCodeOnlineId>
                                                            <div
                                                                class="col-sm-3 col-md-3 col-lg-3 col-xs-12 txt-center">
                                                                <ngx-qrcode #custQR [elementType]="elementType"
                                                                    [value]="qr_value"
                                                                    (click)="qrCodegeneraterOnlineID(bProfile.customId)"
                                                                    class="custId-cursor">
                                                                </ngx-qrcode>
                                                            </div>
                                                            <div
                                                                class="col-sm-9 col-md-9 col-lg-9 col-xs-12 no-padding-small">
                                                                <div class="mgn-up-10 prof-url">
                                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{wndw_path}}{{bProfile.customId}}
                                                                </div>
                                                                <div class="mgn-up-10">
                                                                    <div class="disp-flex smal-device-wt">
                                                                        <div class="trackSlide bprof-icons share-ico">
                                                                            <share-buttons [theme]="'circles-dark'"
                                                                                [include]="['facebook','whatsapp','email','telegram','copy']"
                                                                                [url]="shareLink" [image]="qrCodePath"
                                                                                [showIcon]="true" [showText]="true"
                                                                                [size]="-4">
                                                                            </share-buttons>
                                                                        </div>
                                                                        <div class="dwnld-bdr custId-cursor">
                                                                            <a class="ngx-qr-btn" [href]="qrCodePath"
                                                                                download>
                                                                                <i
                                                                                    class="fa fa-cloud-download dwnld-icon"></i>
                                                                            </a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <!-- Old Part-->
    <div class="content w-manager settings comn-cls lic-page">
        <!-- <app-common-innerloading-spinner *ngIf="loading"></app-common-innerloading-spinner> -->
        <div class="col-md-10 col-xs-12 col-sm-12 col-lg-9 no-padding-small" *ngIf="!loading">
            <div class="w-dta">
                <div class="row">
                    <div class="copy one col-xs-12 col-sm-12 no-padding">
                        <div class="col-a col-b pl0 col-md-12 col-lg-12 col-xl-12 col-xs-12">
                            <div class="card p0 w-dta active">
                                <div class="mgn-bt-20">

                                    <!-- Location -->
                                    <div class="cd-b" (click)="editLocation()">
                                        <div class="div-outline custId-cursor"
                                            [ngClass]="{'div-grn-outline':locationFilled,'div-red-outline':!locationFilled }">
                                            <i *ngIf="locationFilled" class="fa fa-check-circle fa-lg fa-grn fl-right"
                                                aria-hidden="true"></i>
                                            <i *ngIf="!locationFilled"
                                                class="fa fa-exclamation-circle fa-lg fa-red fl-right"
                                                aria-hidden="true"></i>
                                            <i class="fa locat-icon"></i> &nbsp;&nbsp;
                                            <span class="fontstyl">Location</span>
                                        </div>
                                    </div>
                                    <!-- Specialization -->
                                    <div class="cd-b" (click)="  gotoSpecializations()">
                                        <div class="div-outline custId-cursor"
                                            [ngClass]="{'div-grn-outline':specializeFilled,'div-red-outline':!specializeFilled }">
                                            <i *ngIf="specializeFilled" class="fa fa-check-circle fa-lg fa-grn fl-right"
                                                aria-hidden="true"></i>
                                            <i *ngIf="!specializeFilled"
                                                class="fa fa-exclamation-circle fa-lg fa-red fl-right"
                                                aria-hidden="true"></i>
                                            <i class="fa certify-icon"></i> &nbsp;&nbsp;
                                            <span class="fontstyl">Specializations</span>
                                        </div>
                                    </div>
                                    <!-- Languages Known -->
                                    <div class="cd-b" (click)="gotoLanguages()">
                                        <div class="div-outline custId-cursor"
                                            [ngClass]="{'div-grn-outline':languageFilled}">
                                            <i *ngIf="languageFilled" class="fa fa-check-circle fa-lg fa-grn fl-right"
                                                aria-hidden="true"></i>
                                            <i class="fa lang-icon"></i> &nbsp;&nbsp;
                                            <span class="fontstyl">Languages Known</span>
                                        </div>
                                    </div>

                                    <!-- Contact Information -->
                                    <div class="cd-b">
                                        <div class="div-outline custId-cursor"
                                            [ngClass]="{'div-grn-outline':(contactInfoPhFilled && contactInfoMailFilled)}"
                                            (click)="gotoPrivacy()">
                                            <i *ngIf="(contactInfoPhFilled && contactInfoMailFilled)"
                                                class="fa fa-check-circle fa-lg fa-grn fl-right" aria-hidden="true"></i>
                                            <i class="fa contct-icon"></i> &nbsp;&nbsp;
                                            <span class="fontstyl">Contact Information</span>
                                        </div>
                                    </div>
                                    <!-- My Account setttings -->
                                    <div class="cd-b">
                                        <div class="div-outline div-grn-outline custId-cursor"
                                            (click)="gotoAccountSettings()">
                                            <i class="fa fa-check-circle fa-lg fa-grn fl-right" aria-hidden="true"></i>
                                            <i class="fa fa-gears"></i> &nbsp;&nbsp;
                                            <span class="fontstyl">Account Settings</span>
                                        </div>
                                    </div>
                                    <!-- social media -->
                                    <div class="cd-b">
                                        <div class="div-outline custId-cursor" (click)="gotoSocialMedia()"
                                            [ngClass]="{'div-grn-outline':socialMediaFilled}">
                                            <i *ngIf="socialMediaFilled"
                                                class="fa fa-check-circle fa-lg fa-grn fl-right" aria-hidden="true"></i>
                                            <i class="socialmedia-icon"></i> &nbsp;&nbsp;
                                            <span class="fontstyl">Social Media Links and Listing Sites</span>
                                        </div>
                                    </div>
                                    <!-- Gallery View Grid -->
                                    <div class="cd-b">
                                        <div class="div-outline">
                                            <div class="sub-heads mgn-bt-20">Gallery
                                                <span class="edit-txt custId-cursor" *ngIf="image_list.length>0"
                                                    (click)="editImageGallery()">Add more</span>
                                            </div>
                                            <app-jaldee-gallery [status]="'ACTIVE'" [images]="image_list"
                                                [source]="'gallery'" [page]="'bProfile'">
                                            </app-jaldee-gallery>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Additional Info-->
                <div class="row">
                    <div class="copy one col-xs-12 col-sm-12">
                        <div class="col-md-12 col-lg-12 col-xs-12 0no-padding-small">
                            <div class="w-dta">
                                <div class="row">
                                    <div class="copy one col-a col-lg-12 col-md-12 col-xs-12 col-sm-12 no-padding">
                                        <div class="card p0 w-dta active add-extra">
                                            <mat-accordion class="mgn-up-5">
                                                <mat-expansion-panel [expanded]="true">
                                                    <mat-expansion-panel-header class="min90">
                                                        <mat-panel-title class="block-level">
                                                            Additional Info
                                                            <p class="form-level-settings">{{frm_additional_cap}}
                                                                <a class="learnmore-pointer" id="customer-help"
                                                                    (click)="learnmore_clicked('additional-info', $event)">Learn
                                                                    More
                                                                </a>
                                                            </p>
                                                        </mat-panel-title>
                                                    </mat-expansion-panel-header>
                                                    <div class="no-dta"
                                                        *ngIf="normal_domainfield_show==1 || normal_subdomainfield_show==1">
                                                        <app-innerloading-spinner spinnerParams="loadingParams">
                                                        </app-innerloading-spinner>
                                                    </div>
                                                    <div class="no-dta"
                                                        *ngIf="normal_domainfield_show== 4 && normal_subdomainfield_show== 4">
                                                        <p>{{have_not_add_cap}} {{additional_cap}} {{info_cap}}.</p>
                                                    </div>
                                                    <ng-container
                                                        *ngIf="normal_subdomainfield_show==3 || normal_subdomainfield_show==4">
                                                        <div class="acc-cont"
                                                            *ngFor="let fields of subdomain_fields_nonmandatory">
                                                            <ng-container>
                                                                <mat-accordion class="acc-btn"
                                                                    [class.acc-btn-data]="fields['value']">
                                                                    <mat-expansion-panel
                                                                        [expanded]="fields['value'] && fields['value'] != ''"
                                                                        [disabled]="!fields['value']"
                                                                        [hideToggle]="!fields['value']">
                                                                        <mat-expansion-panel-header
                                                                            [collapsedHeight]="'40px'"
                                                                            [expandedHeight]="'40px'">
                                                                            <mat-panel-title>
                                                                                {{fields.displayName}}
                                                                                <span *ngIf="fields.mandatory == true"
                                                                                    class="red">&nbsp;*</span>
                                                                                <span class="mci-warning"
                                                                                    *ngIf="!fields.value && fields.name==='docmci'">
                                                                                    <i class="fa fa-exclamation-triangle"
                                                                                        aria-hidden="true"> </i> Fill
                                                                                    within 2
                                                                                    weeks </span>
                                                                            </mat-panel-title>
                                                                            <mat-panel-description class="acc-plus-btn">
                                                                                <button mat-icon-button
                                                                                    *ngIf="!fields['value']"
                                                                                    (click)="addDynamicField(fields, 'subdomain_questions')">
                                                                                    <mat-icon>{{add_circle_outline}}
                                                                                    </mat-icon>
                                                                                </button>
                                                                            </mat-panel-description>
                                                                        </mat-expansion-panel-header>
                                                                        <ng-container [ngSwitch]="fields.dataType">
                                                                            <ng-container *ngSwitchCase="'TEXT'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value |
                                                                                        capitalizeFirst}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'subdomain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'TEXT_MED'">
                                                                                <div class="cont-btn">
                                                                                    <p
                                                                                        [innerHTML]="fields.value | nl2br | capitalizeFirst">
                                                                                        {{fields.value | nl2br |
                                                                                        capitalizeFirst}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'subdomain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Boolean'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{(fields.value == 'true' ||
                                                                                        fields.value == true ) ? 'Yes' :
                                                                                        'No'}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'subdomain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Age'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'subdomain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Number'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'subdomain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'URL'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'subdomain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Date'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value |
                                                                                        date:dateFormat}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'subdomain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'DOB'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'subdomain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Phone'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'subdomain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Email'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'subdomain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Enum'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{
                                                                                        getdispVal('subdomain',fields)}}
                                                                                    </p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'subdomain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'EnumList'">
                                                                                <div class="cont-btn">
                                                                                    <p>{{ getdispVal('subdomain',
                                                                                        fields)}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'subdomain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Gender'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value |
                                                                                        capitalizeFirst}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'subdomain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'DataGrid'">
                                                                                <div class="table-outer">
                                                                                    <table class="table table-striped">
                                                                                        <thead class="cf">
                                                                                            <tr>
                                                                                                <th class="cth"
                                                                                                    *ngFor="let column of fields.Columns">
                                                                                                    {{column.displayName}}
                                                                                                </th>
                                                                                                <th></th>
                                                                                            </tr>
                                                                                        </thead>
                                                                                        <tbody>
                                                                                            <tr
                                                                                                *ngFor="let row of fields.value;let i = index">
                                                                                                <td *ngFor="let column of fields.Columns;let j = index"
                                                                                                    [attr.data-title]="fields.Columns[j].displayName">
                                                                                                    {{column.type=='Enum'
                                                                                                    ?
                                                                                                    vkeyNameMap[row[column.key]]
                                                                                                    : row[column.key]}}
                                                                                                </td>
                                                                                                <td class="action">
                                                                                                    <span class="mbt">
                                                                                                        <button
                                                                                                            type="button"
                                                                                                            mat-icon-button
                                                                                                            [matMenuTriggerFor]="menu">
                                                                                                            <mat-icon>
                                                                                                                more_vert
                                                                                                            </mat-icon>
                                                                                                        </button>
                                                                                                        <mat-menu
                                                                                                            #menu="matMenu">
                                                                                                            <button
                                                                                                                type="button"
                                                                                                                mat-menu-item
                                                                                                                (click)="editGridDynamicField(fields.name,'subdomain_questions', i)">
                                                                                                                <i
                                                                                                                    class="icon-edit"></i>
                                                                                                                <span>{{edit_cap}}</span>
                                                                                                            </button>
                                                                                                            <button
                                                                                                                type="button"
                                                                                                                mat-menu-item
                                                                                                                (click)="deleteGridDynamicField(fields.name, 'subdomain_questions', i)">
                                                                                                                <i
                                                                                                                    class="icon-delete"></i>
                                                                                                                <span>{{delete_btn}}</span>
                                                                                                            </button>
                                                                                                        </mat-menu>
                                                                                                    </span>
                                                                                                    <span
                                                                                                        class="mbt-mobile-show">
                                                                                                        <button
                                                                                                            class="editcls"
                                                                                                            type="button"
                                                                                                            (click)="editGridDynamicField(fields.name,'subdomain_questions', i)">{{edit_cap}}</button>
                                                                                                        <button
                                                                                                            class="deletecls"
                                                                                                            type="button"
                                                                                                            (click)="deleteGridDynamicField(fields.name, 'subdomain_questions', i)">{{delete_btn}}</button>
                                                                                                    </span>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    </table>
                                                                                    <span
                                                                                        (click)="editGridDynamicField(fields.name,'subdomain_questions', null)"
                                                                                        class="addbt"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </mat-expansion-panel>
                                                                </mat-accordion>
                                                            </ng-container>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container
                                                        *ngIf="normal_domainfield_show==3 || normal_domainfield_show==4">
                                                        <div class="acc-cont"
                                                            *ngFor="let fields of domain_fields_nonmandatory">
                                                            <ng-container>
                                                                <mat-accordion class="acc-btn"
                                                                    [class.acc-btn-data]="fields['value']">
                                                                    <mat-expansion-panel [expanded]="fields['value']"
                                                                        [disabled]="!fields['value']"
                                                                        [hideToggle]="!fields['value']">
                                                                        <mat-expansion-panel-header
                                                                            [collapsedHeight]="'40px'"
                                                                            [expandedHeight]="'40px'">
                                                                            <mat-panel-title>
                                                                                {{fields.displayName}}
                                                                                <span *ngIf="fields.mandatory == true"
                                                                                    class="red">&nbsp;*</span>
                                                                            </mat-panel-title>
                                                                            <mat-panel-description class="acc-plus-btn">
                                                                                <button mat-icon-button
                                                                                    *ngIf="!fields['value']"
                                                                                    (click)="addDynamicField(fields, 'domain_questions')">
                                                                                    <mat-icon>{{add_circle_outline}}
                                                                                    </mat-icon>
                                                                                </button>
                                                                            </mat-panel-description>
                                                                        </mat-expansion-panel-header>
                                                                        <ng-container [ngSwitch]="fields.dataType">
                                                                            <ng-container *ngSwitchCase="'TEXT'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{ fields.value |
                                                                                        capitalizeFirst}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'domain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'TEXT_MED'">
                                                                                <div class="cont-btn">
                                                                                    <p
                                                                                        [innerHTML]="fields.value | nl2br | capitalizeFirst">
                                                                                        {{fields.value | nl2br |
                                                                                        capitalizeFirst }}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'domain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Boolean'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{(fields.value == 'true' ||
                                                                                        fields.value == true ) ? 'Yes' :
                                                                                        'No'}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'domain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Age'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'domain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Number'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'domain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'URL'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'domain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Date'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value |
                                                                                        date:dateFormat}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'domain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'DOB'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'domain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Phone'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'domain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Email'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'domain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Enum'">
                                                                                <div class="cont-btn">
                                                                                    <p>{{ getdispVal('domain', fields)}}
                                                                                    </p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'domain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'EnumList'">
                                                                                <div class="cont-btn">
                                                                                    <p>{{ getdispVal('domain', fields)}}
                                                                                    </p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'domain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'Gender'">
                                                                                <div class="cont-btn">
                                                                                    <p> {{fields.value |
                                                                                        capitalizeFirst}}</p>
                                                                                    <span class="editbt"
                                                                                        (click)="editDynamicField(fields.name, 'domain_questions')"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                            <ng-container *ngSwitchCase="'DataGrid'">
                                                                                <div class="table-outer">
                                                                                    <table class="table table-striped">
                                                                                        <thead class="cf">
                                                                                            <tr>
                                                                                                <th class="cth"
                                                                                                    *ngFor="let column of fields.Columns">
                                                                                                    {{column.displayName}}
                                                                                                </th>
                                                                                                <th></th>
                                                                                            </tr>
                                                                                        </thead>
                                                                                        <tbody>
                                                                                            <tr
                                                                                                *ngFor="let row of fields.value;let i = index">
                                                                                                <td *ngFor="let column of fields.Columns;let j = index"
                                                                                                    [attr.data-title]="fields.Columns[j].displayName">
                                                                                                    {{row[column.key]}}
                                                                                                </td>
                                                                                                <td class="action">
                                                                                                    <span class="mbt">
                                                                                                        <button
                                                                                                            type="button"
                                                                                                            mat-icon-button
                                                                                                            [matMenuTriggerFor]="menu">
                                                                                                            <mat-icon>
                                                                                                                more_vert
                                                                                                            </mat-icon>
                                                                                                        </button>
                                                                                                        <mat-menu
                                                                                                            #menu="matMenu">
                                                                                                            <button
                                                                                                                type="button"
                                                                                                                mat-menu-item
                                                                                                                (click)="editGridDynamicField(fields.name,'domain_questions', i)">
                                                                                                                <i
                                                                                                                    class="icon-edit"></i>
                                                                                                                <span>{{edit_cap}}</span>
                                                                                                            </button>
                                                                                                            <button
                                                                                                                type="button"
                                                                                                                mat-menu-item
                                                                                                                (click)="deleteGridDynamicField(fields.name, 'domain_questions', i)">
                                                                                                                <i
                                                                                                                    class="icon-delete"></i>
                                                                                                                <span>{{delete_btn}}</span>
                                                                                                            </button>
                                                                                                        </mat-menu>
                                                                                                    </span>
                                                                                                    <span
                                                                                                        class="mbt-mobile-show">
                                                                                                        <button
                                                                                                            class="editcls"
                                                                                                            type="button"
                                                                                                            (click)="editGridDynamicField(fields.name,'domain_questions', i)">{{edit_cap}}</button>
                                                                                                        <button
                                                                                                            class="deletecls"
                                                                                                            type="button"
                                                                                                            (click)="deleteGridDynamicField(fields.name, 'domain_questions', i)">{{delete_btn}}</button>
                                                                                                    </span>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    </table>
                                                                                    <span
                                                                                        (click)="editGridDynamicField(fields.name,'domain_questions', null)"
                                                                                        class="addbt"></span>
                                                                                </div>
                                                                            </ng-container>
                                                                        </ng-container>
                                                                    </mat-expansion-panel>
                                                                </mat-accordion>
                                                            </ng-container>
                                                        </div>
                                                    </ng-container>
                                                </mat-expansion-panel>
                                            </mat-accordion>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</section>