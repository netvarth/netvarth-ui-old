<section class="">
    <div class="card title-gb">
        <h5 class="mgn-up-10">
            <span class="fa fa-arrow-left pointer-cursor" (click)="redirectToBack()"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            item group
        </h5>
    </div>
</section>

<section class="aboutme">
    <div class="content w-manager settings comn-cls lic-page">
        <div class="col-md-12 no-padding-small">
            <div class="w-dta ">
                <div class="row">
                    <div class="one col-xs-12 col-sm-12 no-padding">
                        <div class="col-a col-b pl0 col-md-8 col-lg-6 col-sm-12 col-xl-12">
                            <div class="card p0">
                                <div class="pubs card w-dta active bprof">
                                    <div class="cd-t">
                                        <div class="basic-i">
                                            <h4 *ngIf="!itemGroupId">Create Item Group</h4>
                                            <h4 *ngIf="itemGroupId">Update Item Group</h4>
                                            <div class="bi-l">
                                                <div *ngIf="formStatus === 'edit' || itemGroupId" class="pro-pic" [class.yes]="profimg_exists">

                                                    <div class="pro-pic-img d-flex justify-content-center align-items-center">
                                                        <!-- <img  *ngIf="groupDetails && groupDetails.itemGroupImages && groupDetails.itemGroupImages.length === 0" [src]="imageToShow" alt=""
                                                            class="crop-img-fit">
                                                            <img  *ngIf="groupDetails && groupDetails.itemGroupImages && groupDetails.itemGroupImages[0] && groupDetails.itemGroupImages[0].url && groupDetails.itemGroupImages.length > 0 " [src]="groupDetails.itemGroupImages[0].url"  alt=""
                                                            class="crop-img-fit"> -->
                                                            <img [src]="showimg()" alt="" *ngIf="groupDetails && groupDetails.itemGroupImages && groupDetails.itemGroupImages[0] && groupDetails.itemGroupImages[0].url"
                                                            class="crop-img-fit">
                                                    </div>
                                                    <!-- <input #logofile type="file" accept="/*;capture=camera" style="display:none;" (change)="imageSelect(logofile,$event)"> -->
                                                    <div class="add">
                                                        <span data-toggle="modal" data-target="#exampleModalSizeLg"
                                                            (click)="clearModalData()">{{add_cap}}
                                                            <br /> {{profile_pic_cap}}
                                                        </span>
                                                    </div>
                                                    <div class="change">
                                                        <span class="change-pic" (click)="clearModalData()"
                                                            data-toggle="modal"
                                                            data-target="#exampleModalSizeLg">{{change_cap}}
                                                            <br /> {{pic_cap}}</span>
                                                        <!--<span class="del-pic" (click)="confirmLogoremove(blogo[0].keyName)">{{delete_pic}}</span>-->
                                                    </div>
                                                </div>
                                                <div class="modal fade" id="exampleModalSizeLg" tabindex="-1"
                                                    role="dialog" aria-labelledby="exampleModalSizeLg"
                                                    aria-hidden="true">
                                                    <div class="modal-dialog modal-dialog-centered modal-lg"
                                                        role="document">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="exampleModalLabel">Upload
                                                                    Group Photo</h5>
                                                            </div>
                                                            <div class="modal-body">
                                                                <!-- Before Img selection -->
                                                                <div class="uppy-Dashboard-AddFiles-list"
                                                                    *ngIf="!imageChangedEvent">
                                                                    <div class="button_center">
                                                                        <div class="uppy-DashboardTab">
                                                                            <button type="button"
                                                                                class="uppy-DashboardTab-btn"
                                                                                (click)="imgSel.click()">
                                                                                <svg aria-hidden="true"
                                                                                    focusable="false" width="32"
                                                                                    height="32" viewBox="0 0 32 32">
                                                                                    <g fill="none" fill-rule="evenodd">
                                                                                        <rect width="32" height="32"
                                                                                            rx="16" fill="#2275D7">
                                                                                        </rect>
                                                                                        <path
                                                                                            d="M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z"
                                                                                            fill="#FFF"></path>
                                                                                    </g>
                                                                                </svg>
                                                                                <div class="uppy-DashboardTab-name">My
                                                                                    Device</div>
                                                                            </button>
                                                                        </div>
                                                                        <input type="file" name="image_src"
                                                                            id="image_src" accept="image/*" #imgSel
                                                                            (change)="imageSelect1($event)"
                                                                            class="ip_hide">
                                                                    </div>
                                                                </div>

                                                                <!-- After Img selection cropper -->
                                                                <div>
                                                                    <mat-progress-bar *ngIf="loadSymbol"
                                                                        mode="indeterminate" class="mt-10">
                                                                    </mat-progress-bar>
                                                                    <image-cropper *ngIf="!imgType"
                                                                        [imageChangedEvent]="imageChangedEvent"
                                                                        [roundCropper]="true"
                                                                        [maintainAspectRatio]="true"
                                                                        [aspectRatio]="1 / 1"
                                                                        [containWithinAspectRatio]="true"
                                                                        [resizeToWidth]="500" [onlyScaleDown]="true"
                                                                        [imageQuality]="99"
                                                                        [canvasRotation]="canvasRotation"
                                                                        [transform]="transform" format="png"
                                                                        (imageCropped)="imageCropped($event)"
                                                                        (imageLoaded)="imageLoaded()"
                                                                        (cropperReady)="cropperReady()"
                                                                        (loadImageFailed)="loadImageFailed()">
                                                                    </image-cropper>
                                                                    <div class="crop-img-div"
                                                                        *ngIf="imageChangedEvent && imageChangedEvent.target.files">
                                                                        <i class="fa fa-undo custId-cursor"
                                                                            aria-hidden="true"
                                                                            (click)="rotateLeft()">&nbsp;Left</i>
                                                                        <i class="fa fa-repeat custId-cursor pad-left-20"
                                                                            aria-hidden="true"
                                                                            (click)="rotateRight()">&nbsp;Right</i>
                                                                        <i class="fa fa-search-plus custId-cursor pad-left-20"
                                                                            aria-hidden="true"
                                                                            (click)="zoomIn()">&nbsp;Zoom+</i>
                                                                        <i class="fa fa-search-minus custId-cursor pad-left-20"
                                                                            aria-hidden="true"
                                                                            (click)="zoomOut()">&nbsp;Zoom-</i>
                                                                    </div>

                                                                </div>

                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button"
                                                                    class="btn btn-square ln-ht-1 btn-light-primary font-weight-bold"
                                                                    data-dismiss="modal" #closebutton>Close</button>
                                                                <button *ngIf="fileToReturn"
                                                                    [class.btn_disable]="api_success" type="button"
                                                                    class="btn ln-ht-1 btn-square btn-primary font-weight-bold"
                                                                    (click)="saveImages()">{{spinner_load ? 'Uploading':
                                                                    'save'}}
                                                                    <i *ngIf="spinner_load"
                                                                        class="fas fa-spinner fa-spin"
                                                                        style="font-family: 'FontAwesome';"></i>
                                                                </button>
                                                                <app-form-success-display class="wdth_full"
                                                                    [displayMsg]="true" *ngIf="api_success"
                                                                    successMsg="{{api_success}}">
                                                                </app-form-success-display>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="">

                                                    <!-- <h4>Item Group</h4> -->
                                                    <!-- -->
                                                    <form *ngIf="amForm" [formGroup]="amForm" novalidate
                                                        (ngSubmit)="amForm.valid && onSubmit(amForm.value)"
                                                        (keyup)="resetApiErrors()" class="ynw-common-form-nm">
                                                        <div class="form-group">
                                                            <mat-form-field>
                                                                <input type="text" matInput class="form-control"
                                                                    id="groupName" #groupName
                                                                    formControlName="groupName" autocomplete="off"
                                                                    placeholder="Enter group name">
                                                            </mat-form-field>
                                                            <app-field-error-display
                                                                [displayError]="fed_service.isFieldValid(amForm,'groupName')"
                                                                errorMsg="Please enter the group name">
                                                            </app-field-error-display>
                                                        </div>
                                                        <div class="form-group">
                                                            <mat-form-field>
                                                                <textarea maxlength="2000" matInput class="form-control"
                                                                    id="groupDesc" #groupDesc
                                                                    formControlName="groupDesc" rows="4"
                                                                    placeholder=" About me (Max 2000 characters) *"></textarea>
                                                            </mat-form-field>
                                                            <app-field-error-display
                                                                [displayError]="fed_service.isFieldValid(amForm,'groupDesc')"
                                                                errorMsg="Please enter group description">
                                                            </app-field-error-display>
                                                        </div>
                                                        <div class="col-md-12"
                                                            style="margin-top: 10px;display: inline-flex;">
                                                            <button type="button" class="cs-btn bt2"
                                                                (click)="redirectToBack()"
                                                                [disabled]="disableButton">Cancel</button>
                                                            <button type="submit" style="margin-left: 15px;"
                                                                [disabled]="!amForm.valid || disableButton"
                                                                class="cs-btn bt1" mat-button>Save</button>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
</section>