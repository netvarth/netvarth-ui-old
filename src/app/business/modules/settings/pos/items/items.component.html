<section class="">
    <div class="card title-gb">
        <h5 class="mgn-up-10" *ngIf="isFrom === 'ordermanager'">
            <span class="fa fa-arrow-left pointer-cursor"
                (click)="redirecToJaldeeBilling()"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Item Groups
            &nbsp;
            <i class="fa fa-question-circle-o fa-lg fl-right" (click)="redirecToHelp()"></i>&nbsp;&nbsp;
            &nbsp;<a  *ngIf="itemGroupStatus" class="navbar-item-color bold pointer-cursor pull-right mgn-lt-5 disp-none-small">
                <button mat-flat-button class="btn btn mb-2 action-button  btn-primary action-button-add"
                (click)="addGroupItem()">
                <!-- data-toggle="modal"   data-target="#exampleModalCenter" -->
                  Create Item Group</button>
              </a>&nbsp;
              &nbsp;<a *ngIf="!itemGroupStatus" class="navbar-item-color bold pointer-cursor pull-right mgn-lt-5 disp-none-small">
                <button mat-flat-button class="btn btn mb-2 action-button  btn-primary action-button-add"
                (click)="handleItemGroupStatus()">
                Enable Item Group
              </button>
              <!-- <mat-slide-toggle class="m  gn-lt-20" [(ngModel)]="itemGroupStatus" (change)="handleItemGroupStatus($event)">
              </mat-slide-toggle>&nbsp;{{item_group_statusstr}} -->
            </a>&nbsp;
              &nbsp;<a class="navbar-item-color bold pointer-cursor pull-right mgn-lt-5 disp-none-small">
                <button mat-flat-button class="btn btn mb-2 action-button  btn-primary action-button-add"
                (click)="addItem()">
                  Create Item</button>
              </a>&nbsp;
              <a class="navbar-item-color bold pointer-cursor mgn-lt-5 disp-none-large">
                <button type="button" [matMenuTriggerFor]="appMenu"
                  class="btn btn mb-2 action-button  dropdown-toggle  pull-right">
                  Actions
                </button>
                <!--  data-toggle="modal" data-target="#exampleModalCenter" -->
                <mat-menu #appMenu="matMenu">
                  <button mat-menu-item (click)="addGroupItem()" *ngIf="itemGroupStatus">
                    Create item Group
                  </button>
                  <button mat-menu-item (click)="handleItemGroupStatus()" *ngIf="!itemGroupStatus">
                    Enable item Group
                  </button>
                  <!-- <a  *ngIf="!itemGroupStatus">
                  <mat-slide-toggle  class="mgn-lt-20" [(ngModel)]="itemGroupStatus" (change)="handleItemGroupStatus($event)">
                  </mat-slide-toggle>&nbsp;{{item_group_statusstr}}
                </a> -->
                  <button  mat-menu-item (click)="addItem()">
                    Create Item
                  </button>
                  <!-- <button  mat-menu-item *ngIf="items.length > 0 && selectedGroup === 'all'" (click)="sendmsgToAll()">
                    <i class="flaticon2-chat-1" aria-hidden="true"></i> {{customer_label | capitalizeFirst}}s
                  </button> -->
                  
                </mat-menu>
              </a>
        </h5>
        <h5 class="mgn-up-10" *ngIf="isFrom !== 'ordermanager'">
          <span class="fa fa-arrow-left pointer-cursor"
              (click)="redirecToJaldeeBilling()"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Items
          &nbsp;
          <i class="fa fa-question-circle-o fa-lg fl-right" (click)="redirecToHelp()"></i>&nbsp;&nbsp;

      </h5>
    </div>
</section>
<section class="mgn-up-15 p-2" *ngIf="isFrom === 'ordermanager'">
    <div class="card cursor-pointer" (click)="goToItems()" id="A">
        <div class="eachTab">
          <div>
            <img style="width: 55px;height:55px" src="./assets/images/order/Items.svg" /> &nbsp;&nbsp; <span class="bold">All items</span>
            <div class="my-2">
              <div class="pull-left">{{items.length}} items</div>
          </div>
          </div>
          <!-- <div class="my-2">
            <div class="pull-left">{{items.length}} items</div>
        </div> -->
          <div class="topicName" >
            <button mat-flat-button class="btn btn mb-2 action-button  btn-primary action-button-add"
            (click)="goToItems()">
                View items</button>
          </div>
        </div>
        <!-- <div class="bold my-2">
            All
            <p>All items</p>
        </div> -->
       
      </div>
      <div class="bold my-4" *ngIf="itemGroups.length > 0">
       Groups
    </div>
      <div class="threeTab customThreeCards" *ngIf="itemGroups.length > 0">
        <div class="d-flex justify-content-center align-items-center" *ngIf="api_loading">
          <app-common-innerloading-spinner></app-common-innerloading-spinner>
      </div>
      <div class="customCard"  id="C"
      *ngFor="let itemgroup of itemGroups">
        <div class="eachTab">
          <!-- (click)="goToGroupItems(itemgroup)" -->
          <!-- <div>
            <img style="width: 35px;height:35px" src="./assets/images/crmImages/reports.png" />
            
          </div> -->
          <!-- src="./assets/images/crmImages/reports.png" [src]="imageToShow"
          [ngStyle]="{ 'background-image': 'url(' + imageToShow + ')'}" -->
          <div class="copy" >
            <!-- <button type="button" class="pull-left p-button-rounded p-ripple p-button p-component mx-2 my-3 p-1">
              <a style="color: white !important;" #modal data-toggle="modal" data-target="#exampleModalCenter">
              </a>
              <a style="color: white !important;" class="pointer-cursor mr-1 p-2 "
                (click)="$event.target.value=null;imagefile1.click();"><input #imagefile1 type="file"
                  accept="/*;capture=camera" style="display:none;" multiple (change)="filesSelected($event, 'close')"><i
                  style="color: white !important;" class="fa fa-plus mgn-rt-5" aria-hidden="true"></i> Upload File </a>
            </button> showimg-->
            <!-- <img style="width: 55px;height:55px" class="img-hover" [src]="showimg()"/> -->

            <img style="width: 55px;height:55px" class="img-hover" *ngIf="itemgroup.itemGroupImages && itemgroup.itemGroupImages[0]" src="{{itemgroup.itemGroupImages[0].url}}" />

            <img style="width: 55px;height:55px" class="img-hover" *ngIf="itemgroup.itemGroupImages && !itemgroup.itemGroupImages[0]" src="{{imageToShow}}" />
            <!-- <span mat-button [matMenuTriggerFor]="menu"
            class="edit-txt custId-cursor pad-10 edit-cover-small">
            <span class="fa propic-cam-icon mgn-top-m3"></span>
        </span> -->
        <!-- <div class="camera-outline custId-cursor" style="overflow: visible !important;"
        mat-button [matMenuTriggerFor]="menu">
        <i class="show-img fa propic-cam-icon" aria-hidden="true"></i>
    </div> -->
        <i class="show-img fa fa-camera" mat-button [matMenuTriggerFor]="menu"></i>
              <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="changeGroupImg('itemGroup',itemgroup)">
                <i class="fa fa-upload"></i>
                Upload Photo
                <input type="file" name="image_src" id="image_src"
                    accept="/*;capture=camera" #filed>
            </button>
            <button  mat-menu-item (click)="deleteGroupImg(itemgroup)">
                <i class="fa fa-trash"></i>
                Remove Photo</button>
        </mat-menu>
          </div>
          <!-- <div class="topicName">
            <button mat-flat-button class="btn btn mb-2 action-button  btn-primary action-button-add"  data-toggle="modal"
            data-target="#itemListsModal">
                Add item</button>
          </div> -->
          <div class="copy">
            <span class="">
              <button type="button" mat-icon-button class="action_bt" [matMenuTriggerFor]="groupMenu"
               >
               <!-- (click)="stopprop($event);" -->
                <mat-icon>more_vert</mat-icon>
              </button>
            </span>
            <mat-menu #groupMenu="matMenu">
           <button mat-menu-item (click)="editGroup(itemgroup)">
            <i class="fa fa-edit" aria-hidden="true"></i> Edit
           </button>
           <button class="text-capitalize" mat-menu-item (click)="removeItemGroup(itemgroup)">
            <!-- (click)="openShareFileWindow(file)"  -->
            <i class="fa fa-trash" aria-hidden="true"></i> Remove
           </button>
            </mat-menu>
          </div>
        </div>
        <div class="bold my-2" (click)="goToGroupItems(itemgroup)">
            {{itemgroup.groupName}}
            <p style="width: 100px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;">{{itemgroup.groupDesc}}</p>
        </div>
        <div *ngIf="itemgroup.itemGroupId" (click)="goToGroupItems(itemgroup)">
          <!--(click)="getAllItemInGroup(itemgroup.itemGroupId)" class="eachTab" <i class="fa fa-edit" aria-hidden="true"></i> <i class="fa fa-edit" aria-hidden="true"></i> <i class="fa fa-edit" aria-hidden="true"></i> <i class="fa fa-edit" aria-hidden="true"></i> <i class="fa fa-edit" aria-hidden="true"></i> -->
            <span class="pull-right">{{itemgroup.strength}} items</span>
      </div>
      </div>
      </div>
</section>
<!-- <div class="coverFotoBorder cover-bg">
<span mat-button [matMenuTriggerFor]="menu"
    class="edit-txt custId-cursor pad-10 edit-cover-small">
    <span class="fa propic-cam-icon mgn-top-m3"></span>
</span>
<mat-menu #menu="matMenu">
    <button mat-menu-item>
        <i class="fa fa-upload"></i>
        Upload Photo
        <input type="file" name="image_src" id="image_src"
            accept="/*;capture=camera" #filed>
    </button>
    <button  mat-menu-item>
        <i class="fa fa-trash"></i>
        Remove Photo</button>
</mat-menu>
</div> -->

<section *ngIf="isFrom !== 'ordermanager'">
  <p class="form-level-settings mgn-lt-20" >{{frm_items_cap}}</p>
  <div class="center1" *ngIf="item_list.length ==0 && query_executed == true">
      <div class="bus-item-O">
          <app-card [item]="itemHead" [terminology]='' [extras]="" [loc]="" (actionPerformed)="cardClicked($event)">
          </app-card>
      </div>
  </div>
  <div class="width100">
      <ng-container *ngIf="item_list.length >= 1">
          <div class="bus-item-O">
              <app-card [item]="itemHead" [terminology]='' [extras]="" [loc]=""
                  (actionPerformed)="cardClicked($event)"></app-card>
          </div>
          <div class="bus-item-O" *ngFor="let item of items">
              <app-card [item]="item" [terminology]='' [extras]="" [loc]="" (actionPerformed)="cardClicked($event)">
              </app-card>
          </div>
      </ng-container>
  </div>
  <div class="clearfix"></div>
</section>




