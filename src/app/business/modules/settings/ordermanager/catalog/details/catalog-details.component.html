<section class="">
  <div class="card title-gb">
    <h5 class="mgn-up-10" *ngIf="step == 1">
      <span class="fa fa-arrow-left pointer-cursor" *ngIf="showInfo" (click)="backToCatalog()"></span>
      <span class="fa fa-arrow-left pointer-cursor" *ngIf="!showInfo"
        (click)="redirecToJaldeeOrdrmnagrCatalog()"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      {{catalogcaption}}
    </h5>
  </div>
</section>


<section>

  <div class="d-flex flex-column-fluid mt-4">
    <div class="container">
      <div class="card p0" *ngIf="api_loading">
        <app-common-innerloading-spinner></app-common-innerloading-spinner>
      </div>
      <div class="card card-custom rounded-0 p-0">
        <div class="card-body p-0 rounded-0">
          <!--begin::Wizard-->
          <div class="wizard wizard-1">
            <!--begin::Wizard Nav-->
            <div class="wizard-nav border-bottom">
              <div class="wizard-steps padding-lg-10">
                <!--begin::Wizard Step 1 Nav-->
                <div class="wizard-step" [class.tab-selected]="step >= 1">
                  <div class="wizard-label">
                    <i class="wizard-icon text-dark-50 flaticon-bag"></i>
                    <h3 class="wizard-title">1. Catalog Information</h3>
                  </div>
                  <span class="svg-icon svg-icon-xl wizard-arrow">
                    <!--begin::Svg Icon | path:assets/media/svg/icons/Navigation/Arrow-right.svg--><svg
                      xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
                      height="24px" viewBox="0 0 24 24" version="1.1">
                      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <polygon points="0 0 24 0 24 24 0 24" />
                        <rect fill="#000000" opacity="0.3"
                          transform="translate(12.000000, 12.000000) rotate(-90.000000) translate(-12.000000, -12.000000) "
                          x="11" y="5" width="2" height="14" rx="1" />
                        <path
                          d="M9.70710318,15.7071045 C9.31657888,16.0976288 8.68341391,16.0976288 8.29288961,15.7071045 C7.90236532,15.3165802 7.90236532,14.6834152 8.29288961,14.2928909 L14.2928896,8.29289093 C14.6714686,7.914312 15.281055,7.90106637 15.675721,8.26284357 L21.675721,13.7628436 C22.08284,14.136036 22.1103429,14.7686034 21.7371505,15.1757223 C21.3639581,15.5828413 20.7313908,15.6103443 20.3242718,15.2371519 L15.0300721,10.3841355 L9.70710318,15.7071045 Z"
                          fill="#000000" fill-rule="nonzero"
                          transform="translate(14.999999, 11.999997) scale(1, -1) rotate(90.000000) translate(-14.999999, -11.999997) " />
                      </g>
                    </svg>
                    <!--end::Svg Icon-->
                  </span>
                </div>
                <!--end::Wizard Step 1 Nav-->

                <!--begin::Wizard Step 2 Nav-->
                <div class="wizard-step" [class.tab-selected]="step >= 2">
                  <div class="wizard-label">
                    <i class="wizard-icon flaticon-list"></i>
                    <h3 class="wizard-title">2. Items Information</h3>
                  </div>
                  <span class="svg-icon svg-icon-xl wizard-arrow">
                    <!--begin::Svg Icon | path:assets/media/svg/icons/Navigation/Arrow-right.svg--><svg
                      xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
                      height="24px" viewBox="0 0 24 24" version="1.1">
                      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <polygon points="0 0 24 0 24 24 0 24" />
                        <rect fill="#000000" opacity="0.3"
                          transform="translate(12.000000, 12.000000) rotate(-90.000000) translate(-12.000000, -12.000000) "
                          x="11" y="5" width="2" height="14" rx="1" />
                        <path
                          d="M9.70710318,15.7071045 C9.31657888,16.0976288 8.68341391,16.0976288 8.29288961,15.7071045 C7.90236532,15.3165802 7.90236532,14.6834152 8.29288961,14.2928909 L14.2928896,8.29289093 C14.6714686,7.914312 15.281055,7.90106637 15.675721,8.26284357 L21.675721,13.7628436 C22.08284,14.136036 22.1103429,14.7686034 21.7371505,15.1757223 C21.3639581,15.5828413 20.7313908,15.6103443 20.3242718,15.2371519 L15.0300721,10.3841355 L9.70710318,15.7071045 Z"
                          fill="#000000" fill-rule="nonzero"
                          transform="translate(14.999999, 11.999997) scale(1, -1) rotate(90.000000) translate(-14.999999, -11.999997) " />
                      </g>
                    </svg>
                    <!--end::Svg Icon-->
                  </span>
                </div>

                <div class="wizard-step" [class.tab-selected]="step >= 3">
                  <div class="wizard-label">
                    <i class="wizard-icon flaticon-piggy-bank"></i>
                    <h3 class="wizard-title">3. Payment Information</h3>
                  </div>
                  <span class="svg-icon svg-icon-xl wizard-arrow" *ngIf="bShowHideFirststorderType">
                    <!--begin::Svg Icon | path:assets/media/svg/icons/Navigation/Arrow-right.svg--><svg
                      xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
                      height="24px" viewBox="0 0 24 24" version="1.1">
                      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <polygon points="0 0 24 0 24 24 0 24" />
                        <rect fill="#000000" opacity="0.3"
                          transform="translate(12.000000, 12.000000) rotate(-90.000000) translate(-12.000000, -12.000000) "
                          x="11" y="5" width="2" height="14" rx="1" />
                        <path
                          d="M9.70710318,15.7071045 C9.31657888,16.0976288 8.68341391,16.0976288 8.29288961,15.7071045 C7.90236532,15.3165802 7.90236532,14.6834152 8.29288961,14.2928909 L14.2928896,8.29289093 C14.6714686,7.914312 15.281055,7.90106637 15.675721,8.26284357 L21.675721,13.7628436 C22.08284,14.136036 22.1103429,14.7686034 21.7371505,15.1757223 C21.3639581,15.5828413 20.7313908,15.6103443 20.3242718,15.2371519 L15.0300721,10.3841355 L9.70710318,15.7071045 Z"
                          fill="#000000" fill-rule="nonzero"
                          transform="translate(14.999999, 11.999997) scale(1, -1) rotate(90.000000) translate(-14.999999, -11.999997) " />
                      </g>
                    </svg>
                    <!--end::Svg Icon-->
                  </span>
                </div>
                <!--end::Wizard Step 2 Nav-->
                <!--begin::Wizard Step 3 Nav-->
                <div class="wizard-step" [class.tab-selected]="step == 4" *ngIf="bShowHideFirststorderType">
                  <div class="wizard-label">
                    <i class="wizard-icon flaticon-truck"></i>
                    <h3 class="wizard-title">4. Delivery Information</h3>
                  </div>
                  <span class="svg-icon svg-icon-xl wizard-arrow last">
                    <!--begin::Svg Icon | path:assets/media/svg/icons/Navigation/Arrow-right.svg--><svg
                      xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
                      height="24px" viewBox="0 0 24 24" version="1.1">
                      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <polygon points="0 0 24 0 24 24 0 24" />
                        <rect fill="#000000" opacity="0.3"
                          transform="translate(12.000000, 12.000000) rotate(-90.000000) translate(-12.000000, -12.000000) "
                          x="11" y="5" width="2" height="14" rx="1" />
                        <path
                          d="M9.70710318,15.7071045 C9.31657888,16.0976288 8.68341391,16.0976288 8.29288961,15.7071045 C7.90236532,15.3165802 7.90236532,14.6834152 8.29288961,14.2928909 L14.2928896,8.29289093 C14.6714686,7.914312 15.281055,7.90106637 15.675721,8.26284357 L21.675721,13.7628436 C22.08284,14.136036 22.1103429,14.7686034 21.7371505,15.1757223 C21.3639581,15.5828413 20.7313908,15.6103443 20.3242718,15.2371519 L15.0300721,10.3841355 L9.70710318,15.7071045 Z"
                          fill="#000000" fill-rule="nonzero"
                          transform="translate(14.999999, 11.999997) scale(1, -1) rotate(90.000000) translate(-14.999999, -11.999997) " />
                      </g>
                    </svg>
                    <!--end::Svg Icon-->
                  </span>
                </div>
                <!--end::Wizard Step 3 Nav-->
              </div>
            </div>
            <!--end::Wizard Nav-->

            <!--begin::Wizard Body-->
            <div class="row justify-content-center my-10 px-8 my-lg-10 px-lg-10">
              <div class="col-xl-12 col-xxl-12">
                <!--begin::Wizard Form-->
                <form [formGroup]="amForm" novalidate (keyup)="resetApiErrors()" *ngIf="!showInfo" class="form">
                  <!--begin::Wizard Step 1-->
                  <div class="pb-5" *ngIf="step == 1 && !api_loading">
                    <h3 class="mb-10 font-weight-bold text-dark">Catalog Information</h3>
                    <div class="row">
                      <!----order type start-->
                      <div class="col-xl-6">
                        <div class="leadTitle">
                          <div>Order type</div>
                          <div class="astericColor">*</div>
                        </div>
                        <div class="fieldPadding">
                          <mat-select class="form-control1 form-control-solid form-control-lg"
                            placeholder="Enter order type" #firststorderTypeValue formControlName="firststorderType"
                            (ngModelChange)="handleFirstOrderType(firststorderTypeValue.value)">
                            <mat-option *ngFor="let item of firstOrderTypeJSON;let index=i" [value]="item.name">
                              <div *ngIf="item && item.name">
                                {{item.name | capitalizeFirst}}
                              </div>
                            </mat-option>
                          </mat-select>
                        </div>
                      </div>

                      <!----order type end-->
                      <div class="col-xl-6">
                        <!--begin::Input-->
                        <div class="form-group">
                          <label>Catalog name *</label>
                          <input type="text" class="form-control1 form-control-solid form-control-lg" id="catalogName"
                            placeholder="Catalog Name*" formControlName="catalogName" maxlength="50" />
                          <app-field-error-display [displayError]="fed_service.isFieldValid(amForm,'catalogName')"
                            [errorMsgs]="fed_service.getErrorMessage(amForm,'catalogName',
        {
        'required' : 'Please enter the catalog name',
        'maxlength' : 'Short description can contain only ' + maxChars + ' characters'
        })">
                          </app-field-error-display>
                        </div>
                        <!--end::Input-->
                      </div>
                      <div class="col-xl-6">
                        <!--begin::Input-->
                        <div class="form-group">
                          <label>Catalog description</label>
                          <textarea type="text" class="form-control1 form-control-solid form-control-lg"
                            id="catalogDesc" placeholder="Enter catalog description" formControlName="catalogDesc"
                            (keyup)="setCharCount()" (focus)="setDescFocus()" (blur)="lostDescFocus()"
                            maxlength="500"></textarea>
                          <app-field-error-display [displayError]="fed_service.isFieldValid(amForm,'catalogDesc')"
                            [errorMsgs]="fed_service.getErrorMessage(amForm,'catalogDesc',
                          {
                          'required' : 'Please enter detailed description.',
                          'maxlength' : 'Detailed description can contain only ' + maxCharslong + ' characters'
                          })">
                          </app-field-error-display>
                          <span class="max-char-length" *ngIf="isfocused">You have {{char_count}}
                            characters remaining</span>
                        </div>
                        <!--end::Input-->
                      </div>
                    </div>
                    <div class="row" style="display: -webkit-inline-box;">
                      <div class="col-xl-6">
                        <!--begin::Input-->
                        <div class="form-group">
                          <!-- <div class="input-group date"> -->
                          <label>Start Date</label>
                          <!-- <input class="form-control1" type="date" (dateChange)="compareDate($event.value,0)"
                              placeholder="Start Date" formControlName="startdate" /> -->
                          <div class="disp-flex">
                            <input class="form-control1" matInput [matDatepicker]="picker"
                              (dateChange)="compareDate($event.value,0)" placeholder="Start Date"
                              formControlName="startdate" readonly>
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                          </div>
                          <!-- </div> -->
                        </div>
                        <!--end::Input-->
                      </div>
                      <div class="col-xl-6">
                        <!--begin::Input-->
                        <div class="form-group">
                          <!-- <div class="input-group date"> -->
                          <label>End Date</label>
                          <!-- <input class="form-control1" type="date" (dateChange)="compareDate($event.value,1)"
                              placeholder="End Date" formControlName="enddate" /> -->
                          <div class="disp-flex">
                            <input class="form-control1" matInput [matDatepicker]="picker1"
                              (dateChange)="compareDate($event.value,1)" placeholder="End Date"
                              formControlName="enddate" [min]="minDate" readonly>
                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker #picker1></mat-datepicker>
                          </div>
                          <!-- </div> -->
                        </div>
                        <!--end::Input-->
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-xl-6 ynw-common-form-nm">
                        <!--begin::Input-->
                        <mat-form-field appearance="fill">
                          <label>Order Status</label>
                          <mat-select style="border: 1px solid #E4E6EF !important; border-radius: 0.42rem !important;"
                            placeholder="Catalog status" formControlName="orderStatuses" [multiple]="true">
                            <mat-option *ngFor=" let stat of status" [value]="stat.value"
                              [disabled]="stat.value === 'Order Received' || stat.value === 'Cancelled' || stat.value === 'Order Confirmed'">
                              {{stat.value}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <!--end::Input-->
                      </div>
                      <div class="col-xl-6" *ngIf="bShowHideFirststorderType">
                        <!--begin::Select-->
                        <div class="form-group">
                          <label>Order Type</label><br>
                          <mat-radio-group formControlName="orderType" (change)="handleshoppingChange($event)">
                            <mat-radio-button value="SHOPPINGCART">Shopping cart</mat-radio-button>&nbsp;&nbsp;
                            <mat-radio-button value="SHOPPINGLIST">Shopping list</mat-radio-button>
                          </mat-radio-group>
                        </div>
                        <!--end::Select-->
                      </div>
                      <div class="col-xl-6" *ngIf="action === 'edit'">
                        <div class="cr1 no-padding">
                          <div class="" *ngIf="!image_list_popup || image_list_popup.length == 0">
                            <div class="col-sm-12 col-md-12 col-lg-12 no-padding">
                              <div class="addorderitem no-margin" (click)="imagefile.click()">
                                <p class="addorderitemp1"><a class="pointer-cursor"><input #imagefile type="file"
                                      accept="/*;capture=camera" style="display:none;"
                                      (change)="imageSelect($event)">Add
                                    catalog
                                    image
                                  </a></p>
                                <p class="addorderitemp2"> <img style="width: 65%;" src="assets/images/add.svg" /></p>
                              </div>
                            </div>
                          </div>
                          <div class="ph-gal-bx" *ngIf="image_list_popup && image_list_popup.length > 0">
                            <ul class="ph-gal">
                              <ng-container *ngFor="let file of image_list_popup;let i = index">
                                <li *ngIf="i<2" class="cataimglist" [class.gallery-li]="image_list_popup.length === 2">
                                  <div class="galbx">
                                    <span class="mbt">
                                      <button type="button" mat-icon-button [matMenuTriggerFor]="menu">
                                        <mat-icon>more_vert</mat-icon>
                                      </button>
                                      <mat-menu #menu="matMenu">
                                        <button type="button" mat-menu-item (click)="deleteTempImage(file, i)">
                                          <i class="icon-delete"></i>
                                          <span>{{delete_btn}}</span>
                                        </button>
                                      </mat-menu>
                                    </span>
                                    <div class="img-h catalogImage" (click)="openImageModalRow(file)">
                                      <div class="overlay-y"></div><img [src]="file.modal.img" class="cataimg"
                                        *ngIf="file.modal.img" />
                                    </div>
                                  </div>
                                </li>
                              </ng-container>
                            </ul>
                            <ks-modal-gallery [id]="0" [modalImages]="image_list_popup"
                              [plainGalleryConfig]="customPlainGalleryRowConfig"
                              [buttonsConfig]="customButtonsFontAwesomeConfig" (buttonBeforeHook)="onButtonBeforeHook()"
                              (buttonAfterHook)="onButtonAfterHook()">
                            </ks-modal-gallery>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!--end::Wizard Step 1-->
                  <!--begin::Wizard Step 2-->
                  <div class="pb-5" *ngIf="step == 2">
                    <!-- <div class="disp-flex">
                      <h4 class="mb-10 font-weight-bolder text-dark">Items </h4>

                      <div class="col-lg-6">
                        <button type="button" class="btn btn-success mr-2" style="font-weight:bolder;"
                          (click)="showCreateItemPopup()">Create New Item</button>
                      </div>
                    </div> -->


                    <div class="row" style="background: #ecf0f5;">
                      <div class="col-xl-6">
                        <!--begin::Input-->
                        <div *ngIf="item_count > 0 && catalogItems.length == 0 " class="form-group">
                          <div *ngIf="!seletedCatalogItems">
                            <h6>Select items to your Catalog</h6>
                          </div>
                          <div *ngIf="seletedCatalogItems && seletedCatalogItems.length > 0">
                            <h6>{{seletedCatalogItems.length}} items are selected</h6>
                            <a class="link underline pointer-cursor" (click)="showAddItemSection('add')"><u> Edit
                                items</u></a>&nbsp;
                            <a class="link underline pointer-cursor" (click)="showCreateItemPopup()"><u>Create
                                items</u></a>
                          </div>
                        </div>
                        <div *ngIf="item_count === 0">
                          <p class="font-italic">You haven't created any items
                            <a class="link underline pointer-cursor" (click)="showCreateItemPopup()">create items </a>
                          </p>
                        </div>


                      </div>

                    </div>
                    <!--Begin primeng:card-->
                    <div class="card" *ngIf="cataId">
                      <p-toolbar styleClass="mb-4 gap-2">
                        <ng-template pTemplate="left">
                          <button pButton pRipple label="Create New Item" icon="pi pi-plus"
                            class="p-button-success mr-2 smallDiv" (click)="showCreateItemPopup()"></button>
                          <!-- <button pButton pRipple [label]="Delete" icon="pi pi-trash" class="p-button-danger" (click)="deleteSelectedProducts()" [disabled]="!selectedProducts || !selectedProducts.length"></button> -->
                        </ng-template>

                        <ng-template pTemplate="right">
                          <button pButton pRipple label="Add New Item" icon="pi pi-plus" class="p-button-success mr-2"
                            data-toggle="modal" data-target="#itemListsModal" (click)="openDailogue()"></button>
                        </ng-template>
                      </p-toolbar>
                      <!--  [(selection)]="selectedProducts" [globalFilterFields]="['displayName','price','minQuantity','maxQuantity']"-->
                      <p-table #dt [value]="catalogItems" dataKey="id" editMode="row" [rows]="5" [paginator]="true"
                        [tableStyle]="{'min-width': 'auto'}" [rowHover]="true"
                        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                        [showCurrentPageReport]="true">
                        <ng-template pTemplate="caption">
                          <div class="d-flex align-items-center justify-content-between">
                            <h5 class="m-0">Catalog Items</h5>
                            <!-- <span class="p-input-icon-left">
                                      <i class="pi pi-search"></i>
                                      <input pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')" placeholder="Search..." />
                                  </span> -->
                          </div>
                        </ng-template>
                        <ng-template pTemplate="header">
                          <tr>
                            <!-- <p-sortIcon field="maxQuantity"></p-sortIcon> -->
                            <th pSortableColumn="displayName">Name</th>
                            <th>Image</th>
                            <th pSortableColumn="price">Price</th>
                            <th pSortableColumn="minQuantity">MinQuantity</th>
                            <th pSortableColumn="maxQuantity">MaxQuantity</th>
                            <th pSortableColumn="action">Actions</th>
                          </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-item let-editing="editing" let-ri="rowIndex">
                          <tr [pEditableRow]="item">
                            <td>{{item.item.displayName}}</td>
                            <td><img [src]="getItemImg(item.item)" [alt]="item.item.displayName" width="100"
                                class="shadow-4" /></td>
                            <td>{{item.item.price | currency:'INR'}}</td>
                            <td>
                              <p-cellEditor>
                                <ng-template pTemplate="input">
                                  <input pInputText type="number" min="1" (keypress)="isNumber($event)"
                                    (click)="$event.stopPropagation();" id="minquty_{{item.itemId}}"
                                    value="{{item.minQuantity}}">
                                </ng-template>
                                <ng-template pTemplate="output">
                                  {{item.minQuantity}}
                                </ng-template>
                              </p-cellEditor>
                            </td>
                            <td>
                              <p-cellEditor>
                                <ng-template pTemplate="input">
                                  <input pInputText type="number" min="1" (keypress)="isNumber($event)"
                                    (click)="$event.stopPropagation();" id="maxquty_{{item.itemId}}"
                                    value="{{item.maxQuantity}}">
                                </ng-template>
                                <ng-template pTemplate="output">
                                  {{item.maxQuantity}}
                                </ng-template>
                              </p-cellEditor>
                            </td>
                            <td>
                              <div class="d-flex align-items-center">
                                <button *ngIf="!editing" pButton pRipple type="button" pInitEditableRow
                                  icon="pi pi-pencil" (click)="onRowEditInit(item)"
                                  class="p-button-rounded p-button-text"></button>
                                <button *ngIf="editing" pButton pRipple type="button" pSaveEditableRow
                                  icon="pi pi-check" (click)="onRowEditSave(item)"
                                  class="p-button-rounded p-button-text p-button-success mr-2"></button>
                                <button *ngIf="editing" pButton pRipple type="button" pCancelEditableRow
                                  icon="pi pi-times" #closebutton
                                  class="p-button-rounded p-button-text p-button-danger"></button>
                                <button *ngIf="item.id" class="pi pi-more" mat-icon-button
                                  [matMenuTriggerFor]="appMenu">
                                  <mat-icon>more_vert</mat-icon>
                                </button>
                              </div>
                            </td>
                            <mat-menu #appMenu="matMenu">
                              <button mat-menu-item (click)="catelogItemqrCodegeneraterOnlineID(item)">
                                <i class="fa fa-share-alt"></i>Share item
                              </button>
                              <button mat-menu-item (click)="deleteCatalogItem(item)">
                                <i class="icon-delete"></i>Remove</button>
                            </mat-menu>
                            <!-- <td>
                                    <div class="flex align-items-center justify-content-center gap-2">
                                        <button  pButton pRipple type="button" pInitEditableRow icon="pi pi-pencil"  class="p-button-rounded p-button-text"></button>
                                        <button  pButton pRipple type="button" pSaveEditableRow icon="pi pi-check"  class="p-button-rounded p-button-text p-button-success mr-2"></button>
                                        <button  pButton pRipple type="button" pCancelEditableRow icon="pi pi-times"  class="p-button-rounded p-button-text p-button-danger"></button>
                                    </div>
                                </td> -->
                          </tr>
                        </ng-template>
                        <ng-template pTemplate="summary">
                          <div class="flex align-items-center justify-content-between">
                            In total there are {{catalogItems ? catalogItems.length : 0 }} Catalog Items.
                          </div>
                        </ng-template>
                      </p-table>
                    </div>

                    <p-dialog [(visible)]="catalogItemDialog" [style]="{width: '500px'}" header="Items" [modal]="true"
                      styleClass="p-fluid">
                      <p-table #dt [value]="itemsforadd" [tableStyle]="{'min-width': '75rem'}" [rowHover]="true"
                        dataKey="id" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                        [showCurrentPageReport]="true">
                        <ng-template pTemplate="caption">
                          <div class="flex align-items-center justify-content-between">
                            <h5 class="m-0">Items</h5>
                          </div>
                        </ng-template>
                        <ng-template pTemplate="header">
                          <tr>
                            <p-tableHeaderCheckbox></p-tableHeaderCheckbox>&nbsp;
                            <th pSortableColumn="displayName">Name <p-sortIcon field="displayName"></p-sortIcon></th>
                            <th>Image</th>
                            \
                          </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-item>
                          <tr>
                            <p-tableCheckbox [value]="item"></p-tableCheckbox>&nbsp;
                            <td>{{item.displayName}}</td>
                            <td><img [src]="getItemImg(item)" [alt]="item.displayName" width="50" class="shadow-4" />
                            </td>
                          </tr>
                        </ng-template>
                        <ng-template pTemplate="summary">
                          <div class="flex align-items-center justify-content-between">
                            In total there are {{itemsforadd ? itemsforadd.length : 0 }} Items.
                          </div>
                        </ng-template>
                      </p-table>
                    </p-dialog>
                    <div class="modal fade" id="itemListsModal" tabindex="-1" role="dialog"
                      aria-labelledby="exampleModalLabel" aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                          <!-- items-body -->
                          <div class="modal-body items-body" [ngStyle]="{'height.px': bodyHeight}">
                            <div class="col-lg-12">
                              <!-- [paginator]="true" [rows]="10" [showCurrentPageReport]="true" -->
                              <p-table [value]="itemsforadd">
                                <!-- <ng-template pTemplate="caption">
                            <div class="p-d-flex p-ai-center p-jc-between">
                                {{groupitems.length | json}} Items
                            </div>
                        </ng-template> -->
                                <ng-template pTemplate="header">
                                  <tr>
                                    <th><input type="checkbox" (change)="selectAllItems($event)"
                                        [checked]="isAllItemsSelected()" *ngIf="itemsforadd && itemsforadd.length > 0"> Name</th>
                                    <th>Image</th>
                                  </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-item>
                                  <tr>
                                    <td><input type="checkbox" name="Checkboxes4" (change)="selectItems(item)"
                                        [checked]="checkSelection(item)" (click)="stopprop($event)">
                                      {{item.displayName}}</td>
                                    <td><img [src]="getItemImg(item)" [alt]="item.displayName" width="50" height="50"
                                        class="shadow-4" /></td>

                                  </tr>
                                  <!-- <tr *ngIf="groupitems && groupitems.length === 0">
                                <td colspan="2">No items left to add</td>
                            </tr> -->
                                </ng-template>
                                <ng-template pTemplate="summary">
                                  <div class="p-d-flex p-ai-center p-jc-between"
                                    *ngIf="itemsforadd && itemsforadd.length > 0">
                                    {{itemsforadd.length}} items...
                                  </div>
                                  <div class="p-d-flex p-ai-center p-jc-between text-center"
                                    *ngIf="itemsforadd && itemsforadd.length === 0">
                                    No items left to add
                                  </div>
                                </ng-template>
                              </p-table>
                            </div>
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn cancel-btn font-weight-bold mgn-5" data-dismiss="modal"
                              #closebutton>Cancel</button>
                            <button type="button" class="btn create-btn font-weight-bold mgn-5"
                              [disabled]="selecteditemsforcatalog && selecteditemsforcatalog.length === 0"
                              (click)="addItemToCatalogItem()" #closebutton>Add</button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!--begin::Card-->
                    <!-- <div class="row bg-grey" *ngIf="cataId">
                      <div class="col-md-4 mt-4 col-xxl-3 col-lg-4 mb-3" *ngFor="let item of catalogItems;let i=index;"
                        [class.disable_card]="item.itemType === 'VIRTUAL'&& isExpired(item)">
                        <button *ngIf="item.id" class="pull-right more_btn" mat-icon-button
                          [matMenuTriggerFor]="appMenu">
                          <mat-icon>more_horiz</mat-icon>
                        </button>
                        <mat-menu #appMenu="matMenu">
                          <button mat-menu-item (click)="catelogItemqrCodegeneraterOnlineID(catalogItems[i])">
                            <i class="fa fa-share-alt"></i>Share item
                          </button>
                          <button mat-menu-item (click)="deleteCatalogItem(item)">
                            <i class="icon-delete"></i>Remove</button>
                        </mat-menu>
                        <div class="card card-custom card-shadowless itemselected">
                          <div class="card-body p-0">
                           
                            <div class="overlay">

                              <div class="overlay-wrapper rounded bg-light text-center bg_item_img"
                                [ngStyle]="{ 'background-image': 'url(' + getItemImg(item.item) + ')'}">
                              </div>
                            </div>
                  
                            <div
                              class="text-center mt-5 mb-md-0 mb-lg-1 mb-md-0 mb-lg-1 mb-lg-0 mb-1 d-flex flex-column item_info">
                              <a
                                class="font-size-h5 font-weight-bolder text-dark-75 text-hover-primary mb-1">{{item.item.displayName}}</a>

                              <div class="font-size-h6 text-muted font-weight-bolder rupee-font">₹ {{item.item.price}}
                              </div>
                             
                              <div class="input-group">
                                <div class="input-group-prepend"><span class="input-grp-txt1 rounded-0"><i class="">Min
                                      Qty</i></span></div>
                                <input *ngIf="item.id" class="form-control" placeholder="Min Qty"
                                  (keypress)="isNumber($event)" id="minquty_{{item.itemId}}" type="text" min="1"
                                  value="{{item.minQuantity}}" readonly>
                                <input *ngIf="!item.id" class="form-control" placeholder="Min Qty"
                                  (keypress)="isNumber($event)" id="minquty_{{item.itemId}}" type="number" min="1"
                                  value="{{item.minQuantity}}">
                              </div>
                              
                              <div class="input-group mt-2">
                                <div class="input-group-prepend"><span class="input-grp-txt1 rounded-0"><i class="">Max
                                      Qty</i></span></div>
                                <input *ngIf="item.id" class="form-control" placeholder="Max Qty"
                                  id="maxquty_{{item.itemId}}" (keypress)="isNumber($event)" type="text" min="1"
                                  value="{{item.maxQuantity}}" readonly>
                                <input *ngIf="!item.id" class="form-control" placeholder="Max Qty"
                                  id="maxquty_{{item.itemId}}" (keypress)="isNumber($event)" type="number" min="1"
                                  value="{{item.maxQuantity}}">
                              </div>
                            </div>
                           
                          </div>
                        </div>


                      </div>
                      <div class="col-md-4 mt-4 col-xxl-3 col-lg-4 mb-3" *ngFor="let item of itemsforadd;let i=index;">
                        <div class="card card-custom card-shadowless" (click)="selectaddItem(i)"
                          [class.itemselected]="item.selected"
                          [class.disable_card]="item.itemType === 'VIRTUAL'&& isExpired(item)">
                          <div class="card-body p-0">
                            <div class="overlay">
                              <div class="overlay-wrapper rounded bg-light text-center bg_item_img"
                                [ngStyle]="{ 'background-image': 'url(' + getItemImg(item) + ')'}">
                              </div>
                            </div>
                            <div
                              class="text-center mt-5 mb-md-0 mb-lg-1 mb-md-0 mb-lg-1 mb-lg-0 mb-1 d-flex flex-column item_info">
                              <a
                                class="font-size-h5 font-weight-bolder text-dark-75 text-hover-primary mb-1">{{item.displayName}}*</a>
                              <small *ngIf="item.itemType === 'VIRTUAL'&& isExpired(item)"
                                class="text-danger font-weight-bold">Expired</small>

                              <div class="font-size-h6 text-muted font-weight-bolder rupee-font">₹ {{item.price}}</div>
                              <div class="input-group">
                                <div class="input-group-prepend"><span class="input-grp-txt1 rounded-0"><i class="">Min
                                      Qty</i></span></div>

                                <input *ngIf="!item.id" class="form-control" (click)="$event.stopPropagation();"
                                  placeholder="Min Qty" (keypress)="isNumber($event); $event.stopPropagation();"
                                  id="minquty_{{item.itemId}}" type="number" min="1" value="{{item.minQuantity}}">
                              </div>
                              <div class="input-group mt-2">
                                <div class="input-group-prepend"><span class="input-grp-txt1 rounded-0"><i class="">Max
                                      Qty</i></span></div>

                                <input *ngIf="!item.id" class="form-control" (click)="$event.stopPropagation();"
                                  placeholder="Max Qty" id="maxquty_{{item.itemId}}" (keypress)="isNumber($event);"
                                  type="number" min="1" value="{{item.maxQuantity}}">
                              </div>
                            </div>
                          </div>
                        </div>


                      </div>
                    </div> -->
                    <div class="card" *ngIf="!cataId">
                      <p-toolbar styleClass="mb-4 gap-2">
                          <ng-template pTemplate="left">
                              <button pButton pRipple label="Create New Item" icon="pi pi-plus" class="p-button-success mr-2 smallDiv" (click)="showCreateItemPopup()"></button>
                          </ng-template>
                  
                          <!-- <ng-template pTemplate="right">
                            <button  pButton pRipple label="Add New Item" icon="pi pi-plus" class="p-button-success mr-2" data-toggle="modal"
                            data-target="#itemsModal" (click)="openDailogue()"></button>
                          </ng-template> -->
                      </p-toolbar>
                      <p-table #dt [value]="catalogItem" dataKey="id" editMode="row" [rows]="5" [paginator]="true"  [tableStyle]="{'min-width': 'auto'}"
                          [rowHover]="true"
                          currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true">
                          <ng-template pTemplate="caption">
                              <div class="d-flex align-items-center justify-content-between">
                                  <h5 class="m-0">Catalog Items</h5>
                              </div>
                          </ng-template>
                          <ng-template pTemplate="header">
                              <tr>
                                  <th pSortableColumn="displayName">Name</th>
                                  <th>Image</th>
                                  <th pSortableColumn="price">Price</th>
                                  <th pSortableColumn="minQuantity">MinQuantity</th>
                                  <th pSortableColumn="maxQuantity">MaxQuantity</th>
                                  <th pSortableColumn="action">Actions</th>
                              </tr>
                          </ng-template>
                          <ng-template pTemplate="body" let-item let-editing="editing" let-ri="rowIndex">
                              <tr [pEditableRow]="item">
                                  <td><input type="checkbox" name="Checkboxes4" (change)="selectItem(ri)"
                                    [checked]="item.selected">&nbsp;{{item.displayName}}</td>
                                  <td><img [src]="getItemImg(item)" [alt]="item.displayName" width="100" class="shadow-4" /></td>
                                  <td>{{item.price | currency:'INR'}}</td>
                                  <td>
                                    <p-cellEditor>
                                      <ng-template pTemplate="input">
                                          <input pInputText  type="number" min="1" (keypress)="isNumber($event)" (click)="$event.stopPropagation();" id="minquty_{{item.itemId}}" value="{{item.minQuantity}}">
                                      </ng-template>
                                      <ng-template pTemplate="output">
                                          {{item.minQuantity}}
                                      </ng-template>
                                  </p-cellEditor>
                                  </td>
                                  <td> 
                                    <p-cellEditor>
                                    <ng-template pTemplate="input">
                                        <input pInputText  type="number" min="1" (keypress)="isNumber($event)" (click)="$event.stopPropagation();" id="maxquty_{{item.itemId}}" value="{{item.maxQuantity}}">
                                    </ng-template>
                                    <ng-template pTemplate="output">
                                        {{item.maxQuantity}}
                                    </ng-template>
                                </p-cellEditor></td>
                                  <td>
                                    <div class="d-flex align-items-center">
                                      <button *ngIf="!editing" pButton pRipple type="button" pInitEditableRow icon="pi pi-pencil" (click)="onRowEditInit(item)" class="p-button-rounded p-button-text"></button>
                                      <button *ngIf="editing" pButton pRipple type="button" pSaveEditableRow icon="pi pi-check" (click)="onRowEditSave(item)" class="p-button-rounded p-button-text p-button-success mr-2"></button>
                                      <button *ngIf="editing" pButton pRipple type="button" pCancelEditableRow icon="pi pi-times"  #closebutton class="p-button-rounded p-button-text p-button-danger"></button>
                                      <button *ngIf="item.itemId" class="pi pi-more" mat-icon-button
                                      [matMenuTriggerFor]="appMenu">
                                      <mat-icon>more_vert</mat-icon>
                                    </button>
                                  </div>
                                  </td>
                                  <mat-menu #appMenu="matMenu">
                                    <button mat-menu-item (click)="catelogItemqrCodegeneraterOnlineID(item)">
                                      <i class="fa fa-share-alt"></i>Share item
                                    </button>
                                    <button mat-menu-item (click)="deleteCatalogItem(item)">
                                      <i class="icon-delete"></i>Remove</button>
                                  </mat-menu>
                              </tr>
                          </ng-template>
                          <ng-template pTemplate="summary">
                              <div class="flex align-items-center justify-content-between">
                                  In total there are {{catalogItem ? catalogItem.length : 0 }} Catalog Items.
                              </div>
                          </ng-template>
                      </p-table>
                  </div> 
                  <!-- <div class="row bg-grey" *ngIf="!cataId">

                      <div class="col-md-4 mt-4 col-xxl-3 col-lg-4 mb-3" *ngFor="let item of catalogItem;let i=index;">

                        <div class="card card-custom card-shadowless" (click)="selectItem(i)"
                          [class.itemselected]="item.selected">
                          <div class="card-body p-0">
                            <div class="overlay">

                              <div class="overlay-wrapper rounded bg-light text-center bg_item_img"
                                [ngStyle]="{ 'background-image': 'url(' + getItemImg(item) + ')'}">
                              </div>
                            </div>
                            <div
                              class="text-center mt-5 mb-md-0 mb-lg-1 mb-md-0 mb-lg-1 mb-lg-0 mb-1 d-flex flex-column item_info">
                              <a
                                class="font-size-h5 font-weight-bolder text-dark-75 text-hover-primary mb-1">{{item.displayName}}*</a>

                              <div class="font-size-h6 text-muted font-weight-bolder rupee-font">₹ {{item.price}}</div>
                              <div class="input-group">
                                <div class="input-group-prepend"><span class="input-grp-txt1 rounded-0"><i class="">Min
                                      Qty</i></span></div>
                                <input class="form-control" placeholder="Min Qty" (click)="$event.stopPropagation();"
                                  (keypress)="isNumber($event);" id="minquty_{{item.itemId}}" type="number" min="1"
                                  value="{{item.minQuantity}}">
                              </div>
                              <div class="input-group mt-2">
                                <div class="input-group-prepend"><span class="input-grp-txt1 rounded-0"><i class="">Max
                                      Qty</i></span></div>
                                <input class="form-control" (click)="$event.stopPropagation();" placeholder="Max Qty"
                                  id="maxquty_{{item.itemId}}" (keypress)="isNumber($event);" type="number" min="1"
                                  value="{{item.maxQuantity}}">
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>  -->
                  </div>
                  <!--end::Wizard Step 2-->

                  <!--begin::Wizard Step 3-->
                  <div class="pb-5" *ngIf="step == 3">
                    <!--begin::Section-->
                    <h4 class="mb-10 font-weight-bold text-dark">Payment Information</h4>
                    <div class="row">
                      <div class="col-xl-4">
                        <div class="form-group">
                          <label>Show item prices </label> &nbsp;
                          <mat-slide-toggle formControlName="itemPriceInfo">
                          </mat-slide-toggle>
                        </div>
                      </div>
                      <!--begin::Input-->
                    </div>
                    <div class="row">
                      <div class="col-xl-4">
                        <div class="form-group">
                          <label>Auto confirm order &nbsp;</label>
                          <mat-checkbox formControlName="autoconfirm"></mat-checkbox>
                        </div>
                      </div>
                      <!--begin::Input-->
                    </div>
                    <!--end::Input-->
                    <div class="row">
                      <div class="col-xl-6">
                        <!--begin::Select-->
                        <div class="form-group">
                          <label>Advance Payment</label><br>
                          <mat-radio-group formControlName="advancePaymentStatus">
                            <mat-radio-button (click)="handlePaymentchange('none')" value="NONE">None
                            </mat-radio-button>&nbsp;&nbsp;
                            <mat-radio-button (click)="handlePaymentchange('fixed')" value="FIXED">
                              Fixed amount</mat-radio-button>&nbsp;&nbsp;
                            <mat-radio-button (click)="handlePaymentchange('full')" value="FULLAMOUNT">Full amount
                            </mat-radio-button>
                          </mat-radio-group>
                        </div>
                        <!--end::Select-->
                      </div>
                      <div class="col-xl-4">
                        <div *ngIf="payAdvance === 'FIXED'">
                          <div class="form-group">
                            <label>Advance amount *</label>
                            <input type="number" class="form-control1 form-control-solid form-control-lg"
                              (keypress)="isNumeric($event)" (keyup)="isvalid($event)" id="advancePayment"
                              placeholder="Advance Amount " formControlName="advancePayment" autocomplete="off"
                              min="1" />
                          </div>
                        </div>
                      </div>
                    </div>
                    <!--end::Section-->

                  </div>
                  <!--end::Wizard Step 3-->

                  <div class="pb-5" *ngIf="step == 4 && bShowHideFirststorderType">
                    <!--begin::Section-->
                    <h4 class="mb-10 font-weight-bold text-dark">Delivery details</h4>
                    <div class="card card-shadow card-custom card-shadowless" *ngIf="onlyVirtualItems">
                      <div class="card-body p-0">
                        <div class="test-center text-warning">
                          <p>
                            Delivery options are not applicable for catalogs that contain only virtual items. Click on
                            SAVE to proceed.

                          </p>
                        </div>
                      </div>
                    </div>


                    <div class="card card-shadow card-custom card-shadowless">
                      <div class="card-body p-0">
                        <div class="form-group">
                          <label>Store pickup </label> &nbsp;
                          <mat-slide-toggle formControlName="storepickup" [disabled]="storePickUpDisabled"
                            (change)="handlestorepickup($event)">
                          </mat-slide-toggle>
                        </div>
                        <div *ngIf="storepickupStat">
                          <div class="form-group">
                            <label>Store pickup availability</label>
                            <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 no-padding mgn-bt-20">
                              <div class="pull-left mgn-rt-10" *ngFor="let wday of weekdays; index as i">
                                <mat-checkbox class="example-margin" *ngIf="i>0"
                                  (change)="handleDaychecboxstorepickup(i)"
                                  [checked]="check_existsinArraystorepickup(selday_arrstorepickup,i) >= 0">{{wday}}
                                </mat-checkbox>
                              </div>
                            </div>
                          </div>
                          <!--end::Select-->
                          <div class="row" style="display: -webkit-inline-box;">
                            <div class="col-xl-6">
                              <!--begin::Input-->
                              <div class="form-group">
                                <!-- <div class="input-group date"> -->
                                <label>Start Date</label>
                                <!-- <input class="form-control1" type="date"
                                    (dateChange)="compareDatestore($event.value,0)" placeholder="Start Date"
                                    formControlName="startdatestore" /> -->
                                <div class="disp-flex">
                                  <input class="form-control1" matInput [matDatepicker]="picker2"
                                    (dateChange)="compareDatestore($event.value,0)" placeholder="Start Date"
                                    formControlName="startdatestore" readonly>
                                  <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                  <mat-datepicker #picker2></mat-datepicker>
                                </div>
                                <!-- </div> -->
                              </div>
                              <!--end::Input-->
                            </div>
                            <div class="col-xl-6">
                              <!--begin::Input-->
                              <div class="form-group">
                                <!-- <div class="input-group date"> -->
                                <label>End Date</label>
                                <!-- <input class="form-control1" type="date"
                                    (dateChange)="compareDatestore($event.value,1)" placeholder="End Date"
                                    formControlName="enddatestore" /> -->
                                <div class="disp-flex">
                                  <input class="form-control1" matInput [matDatepicker]="picker3"
                                    (dateChange)="compareDatestore($event.value,1)" placeholder="End Date"
                                    formControlName="enddatestore" [min]="minDate" readonly>
                                  <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                                  <mat-datepicker #picker3></mat-datepicker>
                                </div>
                                <!-- </div> -->
                              </div>
                              <!--end::Input-->
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-xl-6">
                              <!--begin::Input-->
                              <div class="form-group">
                                <label>Available timewindow(s)</label>&nbsp; <a class="pointlist"
                                  *ngIf="storetimewindow_list.length > 0" (click)="showTimewindow('store')"><i
                                    class="fa fa-plus" style="color: blue;" aria-hidden="true"></i></a>
                                <div *ngIf="storetimewindow_list.length == 0">
                                  Currently no timewindows are added&nbsp;
                                  <button type="button" (click)="showTimewindow('store')" class="cs-btn bt3"
                                    style="padding: 2px 15px" tabindex="-1">
                                    Add</button>
                                  <!-- <a class="pointlist" (click)="showTimewindow('store')">Add</a> -->
                                </div>
                                <div *ngIf="storetimewindow_list.length > 0">
                                  <ul *ngFor="let window of storetimewindow_list;let i = index">
                                    <li>
                                      {{window.sTime}} - {{window.eTime}}&nbsp; <a class="pointlist"
                                        (click)="deletetimeslot('store',i)"><i class="fa fa-trash" style="color: red;"
                                          aria-hidden="true"></i></a>
                                    </li>
                                  </ul>
                                </div>
                              </div>
                              <!--end::Input-->
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="card card-shadow card-custom card-shadowless mgn-up-10">
                      <div class="card-body p-0">
                        <div class="form-group">
                          <label>Home delivery </label> &nbsp;
                          <mat-slide-toggle formControlName="homedelivery" [disabled]="homeDeliveryDisabled"
                            (change)="handlehomedelivery($event)">
                          </mat-slide-toggle>
                        </div>
                        <!--end::Input-->
                        <!--begin::Select-->
                        <div *ngIf="homedeliveryStat">
                          <div class="form-group">
                            <label>Home delivery availability</label>
                            <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 no-padding mgn-bt-20">
                              <div class="pull-left mgn-rt-10" *ngFor="let wday of weekdays; index as i">
                                <mat-checkbox class="example-margin" *ngIf="i>0"
                                  (change)="handleDaychecboxhomedelivery(i)"
                                  [checked]="check_existsinArrayhomedelivery(selday_arrhomedelivery,i) >= 0">{{wday}}
                                </mat-checkbox>
                              </div>
                            </div>
                          </div>
                          <!--end::Select-->
                          <div class="row" style="display: -webkit-inline-box;">
                            <div class="col-xl-6">
                              <!--begin::Input-->
                              <div class="form-group">
                                <!-- <div class="input-group date"> -->
                                <label>Start Date </label>
                                <!-- <input class="form-control1" type="date"
                                    (dateChange)="compareDatehome($event.value,0)" placeholder="Start Date"
                                    formControlName="startdatehome" /> -->
                                <div class="disp-flex">
                                  <input class="form-control1" matInput [matDatepicker]="picker4"
                                    (dateChange)="compareDatehome($event.value,0)" placeholder="Start Date"
                                    formControlName="startdatehome" readonly>
                                  <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                                  <mat-datepicker #picker4></mat-datepicker>
                                </div>
                                <!-- </div> -->
                              </div>
                              <!--end::Input-->
                            </div>
                            <div class="col-xl-6">
                              <!--begin::Input-->
                              <div class="form-group">
                                <!-- <div class="input-group date"> -->
                                <label>End Date</label>
                                <!-- <input class="form-control1" type="date"
                                    (dateChange)="compareDatehome($event.value,1)" placeholder="End Date"
                                    formControlName="enddatehome" /> -->
                                <div class="disp-flex">
                                  <input matInput class="form-control1" [matDatepicker]="picker5"
                                    (dateChange)="compareDatehome($event.value,1)" placeholder="End Date"
                                    formControlName="enddatehome" [min]="minDate" readonly>
                                  <mat-datepicker-toggle matSuffix [for]="picker5"></mat-datepicker-toggle>
                                  <mat-datepicker #picker5></mat-datepicker>
                                </div>
                                <!-- </div> -->
                              </div>
                              <!--end::Input-->
                            </div>
                          </div>
                          <div class="row">
                            <!--begin::Input-->
                            <div class="col-xl-6">
                              <div class="form-group">
                                <label>Available timewindow(s)</label>&nbsp; <a class="pointlist"
                                  *ngIf="hometimewindow_list.length > 0" (click)="showTimewindow('home')"><i
                                    class="fa fa-plus" style="color: blue;" aria-hidden="true"></i></a>
                                <div *ngIf="hometimewindow_list.length == 0">
                                  Currently no timewindows are added &nbsp;
                                  <button type="button" (click)="showTimewindow('home')" class="cs-btn bt3"
                                    style="padding: 2px 15px" tabindex="-1">
                                    Add</button>
                                  <!-- <a class="pointlist" (click)="showTimewindow('home')">Add</a> -->
                                </div>
                                <div *ngIf="hometimewindow_list.length > 0">
                                  <ul *ngFor="let window of hometimewindow_list;let i = index">
                                    <li>
                                      {{window.sTime}} - {{window.eTime}}&nbsp; <a class="pointlist"
                                        (click)="deletetimeslot('home',i)"><i class="fa fa-trash" style="color: red;"
                                          aria-hidden="true"></i></a>
                                    </li>
                                  </ul>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-xl-4">
                              <!--begin::Input-->
                              <div class="form-group">
                                <label>Delivery charge</label>
                                <input type="text" class="form-control1 form-control-solid form-control-lg"
                                  (keypress)="isNumeric($event)" (keyup)="isvalid($event)" id="deliverycharge"
                                  placeholder="Delivery charge" formControlName="deliverycharge" autocomplete="off"
                                  maxlength="50" />
                              </div>
                              <!--end::Input-->
                            </div>
                            <div class="col-xl-4">
                              <!--begin::Input-->
                              <div class="form-group">
                                <label>Delivery range(km)</label>
                                <input type="text" class="form-control1 form-control-solid form-control-lg"
                                  (keypress)="isNumeric($event)" (keyup)="isvalid($event)" id="deliverykms"
                                  placeholder="Delivery range(Kms)" formControlName="deliverykms" autocomplete="off"
                                  maxlength="50" />
                              </div>
                              <!--end::Input-->
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>
                    <!--begin::Input-->

                  </div>
                  <!--begin::Wizard Actions-->
                  <div class="d-flex justify-content-between border-top mt-2 py-5">
                    <div class="mr-2">
                      <button type="button" *ngIf="step == 2 || step == 3 || step == 4"
                        class="btn btn-light-primary font-weight-bold text-uppercase px-9 py-1" (click)="gotoPrev()">
                        Previous
                      </button>
                      <button *ngIf="step == 1" type="button"
                        class="btn btn-light-primary font-weight-bold text-uppercase px-9 py-1"
                        (click)="redirecToJaldeeOrdrmnagrCatalog()">
                        Cancel
                      </button>
                    </div>
                    <div>
                      <button
                        *ngIf="step == 4 || (amForm && amForm.controls && amForm.controls.firststorderType && amForm.controls.firststorderType.value==='submission'&& step === 3)"
                        type="button" (click)="onSubmit(amForm.value)"
                        class="btn btn-success font-weight-bold text-uppercase px-9 py-1" [disabled]="disableButton">
                        Save
                      </button>
                      <!-- <button *ngIf="step == 1 || step == 2 || step == 3" type="button"
                        [disabled]="step === 2 && selectedCount == 0 && !cataId"
                        class="btn btn-primary font-weight-bold text-uppercase px-9 py-1" (click)="gotoNext()">
                        Next
                      </button> -->
                      <button
                        *ngIf="step == 1 || step == 2 ||(amForm && amForm.controls && amForm.controls.firststorderType && amForm.controls.firststorderType.value ==='Order' && step===3)
                       || (amForm && amForm.controls && amForm.controls.firststorderType && amForm.controls.firststorderType.value !=='submission'&& step ===3)"
                        type="button" class="btn btn-primary font-weight-bold text-uppercase px-9 py-1"
                        (click)="gotoNext()">
                        Next
                      </button>

                    </div>
                  </div>
                  <app-field-error-display class="itemerror" [displayError]="true" *ngIf="api_error"
                    errorMsg="{{api_error}}">
                  </app-field-error-display>
                  <app-form-success-display [displayMsg]="true" *ngIf="api_success" successMsg="{{api_success}}">
                  </app-form-success-display>
                  <!--end::Wizard Actions-->
                </form>
                <!--end::Wizard Form-->
              </div>
            </div>


            <!--end::Wizard Body-->
          </div>
          <!--end::Wizard-->
        </div>
        <!--end::Wizard-->
      </div>
    </div>
  </div>

</section>