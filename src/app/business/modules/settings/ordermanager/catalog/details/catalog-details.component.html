<section class="">
  <div class="card title-gb">
    <h5 class="mgn-up-10">
      <span class="fa fa-arrow-left pointer-cursor" *ngIf="showInfo" (click)="backToCatalog()"></span>
      <span class="fa fa-arrow-left pointer-cursor" *ngIf="!showInfo"
        (click)="redirecToJaldeeOrdrmnagrCatalog()"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      {{catalogcaption}}
    </h5>
  </div>
</section>
<section>
  <div class="content loc-list">
    <div class="col-md-12 no-padding-small">
      <div class="row">
        <div class="card p0" *ngIf="api_loading">
          <app-common-innerloading-spinner></app-common-innerloading-spinner>
        </div>
        <div class="card p0 queue-form" *ngIf="!api_loading">
          <div class="copy locd">
            <div class="lbl col-sm-12 col-md-8 col-lg-7 mgn-bt-50">
              <form [formGroup]="amForm" novalidate (ngSubmit)="amForm.valid && onSubmit(amForm.value)"
                (keyup)="resetApiErrors()" *ngIf="!showInfo" class="ynw-common-form-nm order-catalog">
                <!-- <div class="createcatalogupper"> -->


                <mat-accordion class="mgn-up-5">
                  <mat-expansion-panel [expanded]="step == 1">
                    <mat-expansion-panel-header>
                      <mat-panel-title class="block-level">
                        Catalog information <i *ngIf="basic" class="fa fa-check-circle  catalog-grn fl-right"
                        aria-hidden="true"></i>
                        <i *ngIf="!basic" class="fa fa-exclamation-circle catalog-red fl-right"
                        aria-hidden="true"></i>
                      </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="form-group">
                      <mat-form-field>
                        <input matInput type="text" class="form-control" id="catalogName" placeholder="Catalog Name*"
                          formControlName="catalogName" maxlength="50">
                      </mat-form-field>
                      <app-field-error-display [displayError]="fed_service.isFieldValid(amForm,'catalogName')"
                        [errorMsgs]="fed_service.getErrorMessage(amForm,'catalogName',
        {
        'required' : 'Please enter the short description',
        'maxlength' : 'Short description can contain only ' + maxChars + ' characters'
        })">
                      </app-field-error-display>
                    </div>
                    <div class="form-group">
                      <mat-form-field>
                        <textarea matInput class="form-control" id="catalogDesc"
                          placeholder="Enter catalog description" formControlName="catalogDesc"
                          (keyup)="setCharCount()" (focus)="setDescFocus()" (blur)="lostDescFocus()"
                          maxlength="500"></textarea>
                      </mat-form-field>
                      <app-field-error-display [displayError]="fed_service.isFieldValid(amForm,'catalogDesc')"
                        [errorMsgs]="fed_service.getErrorMessage(amForm,'catalogDesc',
        {
        'required' : 'Please enter detailed description.',
        'maxlength' : 'Detailed description can contain only ' + maxCharslong + ' characters'
        })">
                      </app-field-error-display>
                      <span class="max-char-length" *ngIf="isfocused">You have {{char_count}}
                        characters remaining</span>
                    </div>
                    <div class="form-group">
                      <mat-form-field>
                        <mat-select placeholder="Catalog status" formControlName="orderStatuses" [multiple]="true">
                          <!-- <ngx-mat-select-search [formControl]="statMultiFilterCtrl" placeholderLabel="Search departments"
                      noEntriesFoundLabel="no matching department found"></ngx-mat-select-search> -->
                          <mat-option *ngFor=" let stat of status" [value]="stat.value"
                            [disabled]="stat.value === 'Order Received'||stat.value === 'Cancelled' || stat.value === 'Order Confirmed'">
                            {{stat.value}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <div class="form-group row">
                      <div class="col-md-3 col-sm-4 col-xs-5 no-padding-small">
                        <mat-form-field>
                          <input matInput [matDatepicker]="picker" (dateChange)="compareDate($event.value,0)"
                            placeholder="Start Date" formControlName="startdate" readonly>
                          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                          <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3 col-sm-4 col-xs-5 no-padding-small">
                        <mat-form-field>
                          <input matInput [matDatepicker]="picker1" (dateChange)="compareDate($event.value,1)"
                            placeholder="End Date" formControlName="enddate" readonly>
                          <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                          <mat-datepicker #picker1></mat-datepicker>
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="col-form-label" for="PromotionalPricetype">Order type</label>
                      <mat-radio-group formControlName="orderType" (change)="handleshoppingChange($event)">
                        <mat-radio-button value="SHOPPINGCART">Shopping cart</mat-radio-button>&nbsp;&nbsp;
                        <mat-radio-button value="SHOPPINGLIST">Shopping list</mat-radio-button>
                      </mat-radio-group>
                    </div>
                    <!-- <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 no-padding mgn-bt-20">
                      Show personalized information about this catalog
                      <span class="cs-btn bt3" (click)="showInfoSection()" *ngIf="!preInfoEnabled && !postInfoEnabled">
                        Click here</span>
                      <div class="prepost-check" *ngIf="preInfoEnabled || postInfoEnabled">
                        <i class="fa fa-check"></i>
                        <a (click)="showInfoSection()"> Instructions Added</a>
                      </div>
                    </div> -->
                    <div class="clearfix"></div>
                    <div class="lbr col-sm-12 col-md-12 col-lg-12 no-padding bg-white"  *ngIf="action === 'edit'">
                      <div class="cr1 no-padding">
                        <div class="" *ngIf="!image_list_popup || image_list_popup.length == 0">
                          <!-- <p>{{havent_added_cap}} {{photo_cap}} </p> -->
                          <div class="col-sm-12 col-md-12 col-lg-12 no-padding">
                            <div class="addorderitem no-margin" (click)="imagefile.click()">
                              <p class="addorderitemp1"><a class="pointer-cursor"><input #imagefile type="file"
                                    accept="/*;capture=camera" style="display:none;" (change)="imageSelect($event)">Add
                                  catalog
                                  image
                                </a></p>
                              <p class="addorderitemp2"> <img style="width: 65%;" src="assets/images/add.svg" /></p>
                            </div>
                          </div>
                        </div>
                        <div class="ph-gal-bx" *ngIf="image_list_popup && image_list_popup.length > 0">
                          <ul class="ph-gal">
                            <ng-container *ngFor="let file of image_list_popup;let i = index">
                              <li *ngIf="i<2" [class.gallery-li]="image_list_popup.length === 2">
                                <div class="galbx">
                                  <span class="mbt">
                                    <button type="button" mat-icon-button [matMenuTriggerFor]="menu">
                                      <mat-icon>more_vert</mat-icon>
                                    </button>
                                    <mat-menu #menu="matMenu">
                                      <button type="button" mat-menu-item (click)="deleteTempImage(file, i)">
                                        <i class="icon-delete"></i>
                                        <span>{{delete_btn}}</span>
                                      </button>
                                    </mat-menu>
                                  </span>
                                  <div class="img-h" (click)="openImageModalRow(file)">
                                    <div class="overlay-y"></div><img [src]="file.modal.img" *ngIf="file.modal.img" />
                                  </div>
                                </div>
                              </li>
                            </ng-container>
                          </ul>
                          <ks-modal-gallery [id]="0" [modalImages]="image_list_popup"
                            [plainGalleryConfig]="customPlainGalleryRowConfig"
                            [buttonsConfig]="customButtonsFontAwesomeConfig" (buttonBeforeHook)="onButtonBeforeHook()"
                            (buttonAfterHook)="onButtonAfterHook()">
                          </ks-modal-gallery>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-12 col-xs-12 col-sm-12 actiondiv mgn-up-20 mgn-bt-20 no-padding">
                      <button type="button" class="cs-btn bt1" mat-button (click)="showStep(2,amForm.value)">Next</button>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>
                
                <!-- <mat-accordion class="mgn-up-5">
                  <mat-expansion-panel [expanded]="step == 2">
                    <mat-expansion-panel-header>
                      <mat-panel-title class="block-level">
                        Working hours <i *ngIf="workinghours" class="fa fa-check-circle  catalog-grn fl-right"
                        aria-hidden="true"></i>
                        <i *ngIf="!workinghours" class="fa fa-exclamation-circle catalog-red fl-right"
                        aria-hidden="true"></i>
                      </mat-panel-title>
                    </mat-expansion-panel-header>
                   
                    <p>Select your date and time</p>
                    <section class="schedule-section leftselectAll start-endtime-wrap">
                      <div *ngFor="let wday of weekdays; index as i">
                        <mat-checkbox class="example-margin" *ngIf="i>0" (change)="handleDaychecbox(i)"
                          [checked]="check_existsinArray(selday_arr,i) >= 0">{{wday}}</mat-checkbox>
                      </div>
                    </section>
                    <div class="form-group row">
                      <div class="col-md-3 col-sm-4 col-xs-4 no-padding-small">
                        <mat-form-field>
                          <input matInput [matDatepicker]="picker" (dateChange)="compareDate($event.value,0)"
                            placeholder="Start Date" formControlName="startdate" readonly>
                          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                          <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                      </div>
                      <div class="col-md-3 col-sm-4 col-xs-5">
                        <mat-form-field>
                          <input matInput [matDatepicker]="picker1" (dateChange)="compareDate($event.value,1)"
                            placeholder="End Date" formControlName="enddate" readonly>
                          <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                          <mat-datepicker #picker1></mat-datepicker>
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="form-group schedulesub_outer">
                      <div class="startendtime" style="display: flex">
                        <div class="starttimediv mgn-rt-20">
                          <label class="labelstyle" for="changeHourStep">{{start_time_cap}}</label>
                          <ngb-timepicker formControlName="qstarttime" meridian="true" #sch_start_time
                            (ngModelChange)="changetime('start',$event)"></ngb-timepicker>
                          <app-field-error-display [displayError]="fed_service.isFieldValid(amForm,'qstarttime')"
                            errorMsg="Please enter the start time">
                          </app-field-error-display>
                        </div>
                        <div class="endtimediv">
                          <label class="labelstyle" for="changeHourStep">{{end_time_cap}}</label>
                          <ngb-timepicker formControlName="qendtime" meridian="true" #sch_end_time
                            (ngModelChange)="changetime('end',$event)"></ngb-timepicker>
                          <app-field-error-display [displayError]="fed_service.isFieldValid(amForm,'qendtime')"
                            errorMsg="Please enter the end time">
                          </app-field-error-display>
                        </div>
                      </div>
                    </div>
                   
                    <div class="col-md-12 col-xs-12 col-sm-12 actiondiv mgn-up-20 mgn-bt-20 no-padding">
                      <button type="button" class="cs-btn bt1" mat-button (click)="showStep(1,amForm.value)">Back</button>&nbsp;
                      <button type="button" class="cs-btn bt1" mat-button (click)="showStep(3,amForm.value)">Next</button>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion> -->
                <mat-accordion class="mgn-up-5" *ngIf="showadditems">
                  <mat-expansion-panel [expanded]="step == 2">
                    <mat-expansion-panel-header>
                      <mat-panel-title class="block-level">
                        Items <i *ngIf="seletedCatalogItems && seletedCatalogItems.length > 0 || catalogItems && catalogItems.length > 0" class="fa fa-check-circle  catalog-grn fl-right"
                        aria-hidden="true"></i>
                        <i *ngIf="!seletedCatalogItems && catalogItems.length == 0 " class="fa fa-exclamation-circle catalog-red fl-right"
                        aria-hidden="true"></i>
                      </mat-panel-title>
                    </mat-expansion-panel-header>
                    <!-- </div> -->
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" >
                      <div *ngIf="item_count > 0 && catalogItems.length == 0 ">
                          <div *ngIf="!seletedCatalogItems"><h6>Add items to your cart</h6>
                          <a class="pointlist" (click)="addItemstoCart('add',amForm.value)"><u>Add items</u></a>&nbsp;
                          <a class="pointlist" (click)="gotoItems()"><u>Create items</u></a>
                          </div>
                          <div  *ngIf="seletedCatalogItems && seletedCatalogItems.length > 0"><h6>{{seletedCatalogItems.length}} items are selected</h6>
                            <a class="pointlist" (click)="addItemstoCart('add',amForm.value)"><u> Edit items</u></a>&nbsp;
                            <a class="pointlist" (click)="gotoItems()"><u>Create items</u></a>
                          </div>
                      </div>
                      
                      <div *ngIf="item_count === 0">
                        <p class="font-italic">You haven't created any items  
                        <a class="pointlist" (click)="gotoItems()">create items </a></p>
                      </div>

                      <div *ngIf="catalogItems && catalogItems.length > 0" class="col-md-12 col-xs-12 col-sm-12">
                        <h6>{{catalogItems.length}} items are in your catalog</h6>
                        <p *ngIf="seletedCatalogItems && seletedCatalogItems.length > 0">{{seletedCatalogItems.length}} more items are selected</p>
                        <a *ngIf="item_count !== catalogItems.length" class="pointlist" (click)="addItemstoCart('add',amForm.value)"><u>Add items</u></a>&nbsp;
                        <a class="pointlist" (click)="addItemstoCart('edit',amForm.value)"><u>Edit items</u></a>&nbsp;
                          <a class="pointlist" (click)="gotoItems()"><u>Create items</u></a>
                      </div>
                    </div>
                    <div class="col-md-12 col-xs-12 col-sm-12 actiondiv mgn-up-20 mgn-bt-20 no-padding">
                      <button type="button" class="cs-btn bt1" mat-button (click)="showStep(1,amForm.value)">Back</button>&nbsp;
                      <button type="button" class="cs-btn bt1" mat-button (click)="showStep(3,amForm.value)">Next</button>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>

                <mat-accordion class="mgn-up-5">
                  <mat-expansion-panel [expanded]="step == 3">
                    <mat-expansion-panel-header>
                      <mat-panel-title class="block-level">
                        Payment Information <i *ngIf="paymentinformation" class="fa fa-check-circle  catalog-grn fl-right"
                        aria-hidden="true"></i>
                        <i *ngIf="!paymentinformation" class="fa fa-exclamation-circle catalog-red fl-right"
                        aria-hidden="true"></i>
                      </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                      <div>
                        <h4>Payment Information</h4>
                        <div class="form-group">
                          <label>Show item prices &nbsp;
                            <mat-slide-toggle formControlName="itemPriceInfo">
                            </mat-slide-toggle>
                          </label>
                        </div>
                        
                          <!-- <label>Advance payment &nbsp;</label>
                            <mat-checkbox formControlName="advancePaymentStatus"
                              (change)="handleadvancePayment($event)">
                            </mat-checkbox> -->

                            <div class="form-group" >
                              <label class="col-form-label" for="advancepaymentstat">Advance payment</label>
                              <mat-radio-group formControlName="advancePaymentStatus">
                                  <mat-radio-button (click)="handlePaymentchange('none')" value="NONE">None
                                  </mat-radio-button>&nbsp;&nbsp;
                                  <mat-radio-button (click)="handlePaymentchange('fixed')" value="FIXED">
                                      Fixed amount</mat-radio-button>&nbsp;&nbsp;
                                  <mat-radio-button (click)="handlePaymentchange('full')" value="FULLAMOUNT">Full amount
                                  </mat-radio-button>
                              </mat-radio-group>
                              <div *ngIf="payAdvance === 'FIXED'">
                                <mat-form-field>
                                    <span matPrefix><i class="fa fa-inr"></i>&nbsp;</span>
                                  <input matInput type="text" (keypress)="isNumeric($event)" (keyup)="isvalid($event)" class="form-control number-ip-sm" id="advancePayment"
                                    placeholder="Advance Amount " formControlName="advancePayment" autocomplete="off">
                                </mat-form-field>
                                <app-field-error-display [displayError]="fed_service.isFieldValid(amForm,'advancePayment')"
                        [errorMsgs]="fed_service.getErrorMessage(amForm,'advancePayment',
        {
        
          'maxlength' : 'Advance amount exceeds the limit'
        })">
                      </app-field-error-display>
    
                              </div>
                          </div>
                          
                         
                       

                        <div class="form-group">
                          <label>Cancellation policy &nbsp;
                            <mat-slide-toggle formControlName="cancelationPolicyStatus" [disabled]="true">
                            </mat-slide-toggle>
                          </label><br>
                          <label class="link underline" (click)="addcancelpolicy()">Add cancellation policy</label>
                          <div *ngIf="showpolicy">
                            <mat-form-field>
                              <textarea matInput class="form-control" id="cancelationPolicy"
                                placeholder="Enter cancelation policy " formControlName="cancelationPolicy"></textarea>
                            </mat-form-field>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-12 col-xs-12 col-sm-12 actiondiv mgn-up-20 mgn-bt-20 no-padding">
                      <button type="button" class="cs-btn bt1" mat-button (click)="showStep(2,amForm.value)">Back</button>&nbsp;
                      <button type="button" class="cs-btn bt1" mat-button (click)="showStep(4,amForm.value)">Next</button>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>

                <mat-accordion class="mgn-up-5">
                  <mat-expansion-panel [expanded]="step == 4">
                    <mat-expansion-panel-header>
                      <mat-panel-title class="block-level">
                        Store Pick-Up <i *ngIf="storepickupinfo && storepickupStat" class="fa fa-check-circle  catalog-grn fl-right"
                        aria-hidden="true"></i>
                        <i *ngIf="!storepickupinfo && storepickupStat" class="fa fa-exclamation-circle catalog-red fl-right"
                        aria-hidden="true"></i>
                      </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                      <div>
                        <label>Store Pick-Up </label> &nbsp;
                        <mat-slide-toggle formControlName="storepickup" (change)="handlestorepickup($event)">
                        </mat-slide-toggle>
                      </div>
                      <div *ngIf="storepickupStat">
                        <!-- <div class="schselectall">
                          <i class="fa fa-square-o" *ngIf="!Selallstorepickup" (click)="handleselectallstorepickup()">
                            {{select_All}}</i>
                          <i class="fa fa-check-square-o" *ngIf="Selallstorepickup"
                            (click)="handleselectnonestorepickup()">
                            {{select_All}}</i>
                        </div> -->
                        <p>Store pickup availability</p>
                        <section class="schedule-section leftselectAll start-endtime-wrap">
                          <div *ngFor="let wday of weekdays; index as i">
                            <mat-checkbox class="example-margin" *ngIf="i>0" (change)="handleDaychecboxstorepickup(i)"
                              [checked]="check_existsinArraystorepickup(selday_arrstorepickup,i) >= 0">{{wday}}
                            </mat-checkbox>
                          </div>
                        </section>

                        <div class="form-group row">
                          <div class="col-md-3 col-sm-4 col-xs-5 no-padding-small">
                            <mat-form-field>
                              <input matInput [matDatepicker]="picker2" (dateChange)="compareDatestore($event.value,0)"
                                placeholder="Start Date" formControlName="startdatestore" readonly>
                              <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                              <mat-datepicker #picker2></mat-datepicker>
                            </mat-form-field>
                          </div>
                          <div class="col-md-3 col-sm-4 col-xs-5">
                            <mat-form-field>
                              <input matInput [matDatepicker]="picker3" (dateChange)="compareDatestore($event.value,1)"
                                placeholder="End Date" formControlName="enddatestore" readonly>
                              <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                              <mat-datepicker #picker3></mat-datepicker>
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="form-group">
                          <label>Available timewindow(s)</label>&nbsp; <a class="pointlist" *ngIf="storetimewindow_list.length > 0" (click)="showTimewindow('store')" ><i class="fa fa-plus" aria-hidden="true"></i></a>
                          <div *ngIf="storetimewindow_list.length == 0">
                            Currently no timewindows are added&nbsp; <a class="pointlist" (click)="showTimewindow('store')">Add</a>
                          </div>
                        <div *ngIf="storetimewindow_list.length > 0">  <ul *ngFor="let window of storetimewindow_list;let i = index">
                           <li>
                            {{window.sTime}} - {{window.eTime}}&nbsp; <a class="pointlist" (click)="deletetimeslot('store',i)"><i class="fa fa-trash" aria-hidden="true"></i></a>
                           </li>
                         </ul>
                        </div>
                        </div>
                        <!-- <div class="form-group schedulesub_outer">
                          <div class="startendtime" style="display: flex">
                            <div class="starttimediv mgn-rt-20">
                              <label class="labelstyle" for="changeHourStep">{{start_time_cap}}</label>
                              <ngb-timepicker formControlName="qstarttimestore" meridian="true" #sch_start_timestore
                                (ngModelChange)="changestoretime('start',$event)"></ngb-timepicker>
                              <app-field-error-display
                                [displayError]="fed_service.isFieldValid(amForm,'qstarttimestore')"
                                errorMsg="Please enter the start time">
                              </app-field-error-display>
                            </div>
                            <div class="endtimediv">
                              <label class="labelstyle" for="changeHourStep">{{end_time_cap}}</label>
                              <ngb-timepicker formControlName="qendtimestore" meridian="true" #sch_end_timestore
                                (ngModelChange)="changestoretime('end',$event)"></ngb-timepicker>
                              <app-field-error-display [displayError]="fed_service.isFieldValid(amForm,'qendtimestore')"
                                errorMsg="Please enter the end time">
                              </app-field-error-display>
                            </div>
                          </div>
                        </div> -->
                        <!-- <div class="form-group">
                          <label>Pick up Otp verification </label>
                          <mat-slide-toggle formControlName="storeotpverify">
                          </mat-slide-toggle>

                        </div> -->
                      </div>

                    </div>
                    <div class="col-md-12 col-xs-12 col-sm-12 actiondiv mgn-up-20 mgn-bt-20 no-padding">
                      <button type="button" class="cs-btn bt1" mat-button (click)="showStep(3,amForm.value)">Back</button>&nbsp;
                      <button type="button" class="cs-btn bt1" mat-button (click)="showStep(5,amForm.value)">Next</button>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>

                <mat-accordion class="mgn-up-5">
                  <mat-expansion-panel [expanded]="step == 5">
                    <mat-expansion-panel-header>
                      <mat-panel-title class="block-level">
                        Home Delivery <i *ngIf="homedeliveryinfo && homedeliveryStat" class="fa fa-check-circle  catalog-grn fl-right"
                        aria-hidden="true"></i>
                        <i *ngIf="!homedeliveryinfo && homedeliveryStat" class="fa fa-exclamation-circle catalog-red fl-right"
                        aria-hidden="true"></i>
                      </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                      <div>
                        <label>Home Delivery </label> &nbsp;
                        <mat-slide-toggle formControlName="homedelivery" (change)="handlehomedelivery($event)">
                        </mat-slide-toggle>
                      </div>
                      <div *ngIf="homedeliveryStat">
                        <!-- <div class="schselectall">
                          <i class="fa fa-square-o" *ngIf="!Selallhomedelivery" (click)="handleselectallhomedelivery()">
                            {{select_All}}</i>
                          <i class="fa fa-check-square-o" *ngIf="Selallhomedelivery"
                            (click)="handleselectnonehomedelivery()">
                            {{select_All}}</i>
                        </div> -->
                        <p>Home delivery availability</p>
                        <section class="schedule-section leftselectAll start-endtime-wrap">
                          <div *ngFor="let wday of weekdays; index as i">
                            <mat-checkbox class="example-margin" *ngIf="i>0" (change)="handleDaychecboxhomedelivery(i)"
                              [checked]="check_existsinArrayhomedelivery(selday_arrhomedelivery,i) >= 0">{{wday}}
                            </mat-checkbox>
                          </div>
                        </section>
                        <div class="form-group row">
                          <div class="col-md-3 col-sm-4 col-xs-5 no-padding-small">
                            <mat-form-field>
                              <input matInput [matDatepicker]="picker4" (dateChange)="compareDatehome($event.value,0)"
                                placeholder="Start Date" formControlName="startdatehome" readonly>
                              <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                              <mat-datepicker #picker4></mat-datepicker>
                            </mat-form-field>
                          </div>
                          <div class="col-md-3 col-sm-4 col-xs-5">
                            <mat-form-field>
                              <input matInput [matDatepicker]="picker5" (dateChange)="compareDatehome($event.value,1)"
                                placeholder="End Date" formControlName="enddatehome" readonly>
                              <mat-datepicker-toggle matSuffix [for]="picker5"></mat-datepicker-toggle>
                              <mat-datepicker #picker5></mat-datepicker>
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="form-group">
                          <label>Available timewindow(s)</label>&nbsp; <a class="pointlist" *ngIf="hometimewindow_list.length > 0" (click)="showTimewindow('home')"><i class="fa fa-plus" aria-hidden="true"></i></a>
                          <div *ngIf="hometimewindow_list.length == 0">
                            Currently no timewindows are added &nbsp; <a class="pointlist" (click)="showTimewindow('home')">Add</a>
                          </div>
                          <div *ngIf="hometimewindow_list.length > 0">
                         <ul *ngFor="let window of hometimewindow_list;let i = index">
                           <li>
                            {{window.sTime}} - {{window.eTime}}&nbsp; <a class="pointlist" (click)="deletetimeslot('home',i)"><i class="fa fa-trash" aria-hidden="true"></i></a>
                           </li>
                         </ul>
                         </div>
                        </div>

                        <!-- <div class="form-group schedulesub_outer">
                          <div class="startendtime" style="display: flex">
                            <div class="starttimediv mgn-rt-20">
                              <label class="labelstyle" for="changeHourStep">{{start_time_cap}}</label>
                              <ngb-timepicker formControlName="qstarttimehome" meridian="true" #sch_start_timehome
                                (ngModelChange)="changehometime('start',$event)"></ngb-timepicker>
                              <app-field-error-display
                                [displayError]="fed_service.isFieldValid(amForm,'qstarttimehome')"
                                errorMsg="Please enter the start time">
                              </app-field-error-display>
                            </div>
                            <div class="endtimediv">
                              <label class="labelstyle" for="changeHourStep">{{end_time_cap}}</label>
                              <ngb-timepicker formControlName="qendtimehome" meridian="true" #sch_end_timehome
                                (ngModelChange)="changehometime('end',$event)"></ngb-timepicker>
                              <app-field-error-display [displayError]="fed_service.isFieldValid(amForm,'qendtimehome')"
                                errorMsg="Please enter the end time">
                              </app-field-error-display>
                            </div>
                          </div>
                        </div> -->
                        <!-- <div class="form-group">
                          <label>Home Delivery Otp verification </label>
                          <mat-slide-toggle formControlName="homeotpverify">
                          </mat-slide-toggle>
                        </div> -->

                        <div class="form-group">
                            <mat-form-field>
                                <span matPrefix><i class="fa fa-inr"></i>&nbsp;</span>
                              <input matInput type="text" (keypress)="isNumeric($event)" (keyup)="isvalid($event)" class="form-control number-ip-sm" id="deliverycharge"
                                placeholder="Delivery charge" formControlName="deliverycharge" autocomplete="off"
                                maxlength="10">
                            </mat-form-field>
                          </div>
                        <div class="form-group">
                          <mat-form-field>
                            <input matInput type="text" (keypress)="isNumber($event)" (keyup)="isvalid($event)" class="form-control number-ip-sm" id="deliverykms"
                              placeholder="Delivery range(Kms)" formControlName="deliverykms" autocomplete="off"
                              maxlength="5">
                          </mat-form-field>
                        </div>
                       
                      </div>
                    </div>
                    <button type="button" class="cs-btn bt1" mat-button (click)="showStep(4,amForm.value)">Back</button>&nbsp;
                    <button type="button" class="cs-btn bt1" mat-button (click)="showStep(0,amForm.value)">Finish</button>
                  </mat-expansion-panel>
                </mat-accordion>

                <div class="col-md-12 col-xs-12 col-sm-12 actiondiv mgn-up-20 mgn-bt-20 no-padding"
                  style="display: inline-flex;">
                  <button (click)="onCancel()" type="button" class="cs-btn bt2">{{cancel_btn_cap}}</button>
                  &nbsp;
                  <button type="submit" class="cs-btn bt1" mat-button
                    [disabled]="!amForm.valid || disableButton">{{save_btn_cap}}</button>
                </div>
              </form>
              <div class="ynw-common-form-nm pre-post" *ngIf="showInfo">
                <div class="mgn-bt-20 mgn-up-20">
                  <div class="form-group preinfo">
                    <label class="col-form-label">Show personalized information about this service in the booking
                      window&nbsp;&nbsp;</label>
                    <mat-slide-toggle class="example-margin" [(ngModel)]="preInfoEnabled">
                    </mat-slide-toggle>
                  </div>
                  <div class="form-level-settings">These instructions will be seen by your {{customer_label}}s while
                    choosing the
                    service.</div>
                  <div class="form-group pre-post-info" *ngIf="preInfoEnabled">
                    <mat-form-field>
                      <input matInput type="text" placeholder="Title *" autocomplete="off" [(ngModel)]="preInfoTitle"
                        [ngModelOptions]="{standalone: true}" maxlength="20">
                    </mat-form-field>
                    Enter the text your {{customer_label}}s will see
                    <div class="glbl-seting-editor mgn-bt-20 mgn-up-20">
                      <ckeditor id="editor" [editor]="Editor" (ready)="onReady($event)" [(ngModel)]="preInfoText"
                        [ngModelOptions]="{standalone: true}">
                      </ckeditor>
                    </div>
                  </div>
                </div>
                <div class="clearfix"></div>
                <div class="mgn-bt-20 mgn-up-20">
                  <div class="form-group postinfo">
                    <label class="col-form-label">Show personalized messages to your {{customer_label}}s upon successful
                      booking
                      confirmation&nbsp;&nbsp;</label>
                    <mat-slide-toggle class="example-margin" [(ngModel)]="postInfoEnabled">
                    </mat-slide-toggle>
                  </div>
                  <div class="form-level-settings">These instructions will be seen by your {{customer_label}}s after
                    confirmation of
                    the service.</div>
                  <div class="form-group pre-post-info" *ngIf="postInfoEnabled">
                    <mat-form-field>
                      <input matInput type="text" placeholder="Title *" autocomplete="off" [(ngModel)]="postInfoTitle"
                        [ngModelOptions]="{standalone: true}" maxlength="20">
                    </mat-form-field>
                    Enter the text your {{customer_label}}s will see
                    <div class="glbl-seting-editor mgn-bt-20 mgn-up-20">
                      <ckeditor id="editor" [editor]="Editor" (ready)="onReady($event)" [(ngModel)]="postInfoText"
                        [ngModelOptions]="{standalone: true}">
                      </ckeditor>
                    </div>
                  </div>
                </div>
                <div class="clearfix"></div>
                <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 actiondiv no-padding">
                  <button class="cs-btn bt2 savemember" (click)="cancelChanges()">Cancel</button>&nbsp;&nbsp;
                  <button mat-button class="cs-btn bt1 savemember" [disabled]="!amForm.valid || disableButton"
                    (click)="showInfoSection()">Save</button>
                </div>
              </div>
              <app-field-error-display class="itemerror" [displayError]="true" *ngIf="api_error"
                errorMsg="{{api_error}}">
              </app-field-error-display>
              <app-form-success-display [displayMsg]="true" *ngIf="api_success" successMsg="{{api_success}}">
              </app-form-success-display>
            </div>
            <div class="lbr col-sm-12 col-md-4 col-lg-5" *ngIf="!showInfo">
              <!-- <div class="cr1">
                <div class="no-dta" *ngIf="!image_list_popup || image_list_popup.length == 0">
                  <div class="col-sm-12 col-md-12 col-lg-12">
                    <div class="addorderitem" (click)="imagefile.click()">
                      <p class="addorderitemp1"><a class="pointer-cursor"><input #imagefile type="file"
                            accept="/*;capture=camera" style="display:none;" (change)="imageSelect($event)">Add catalog
                          image
                        </a></p>
                      <p class="addorderitemp2"> <img style="width: 65%;" src="assets/images/add.svg" /></p>
                    </div>
                  </div>
                </div>
                <div class="ph-gal-bx" *ngIf="image_list_popup && image_list_popup.length > 0">
                  <ul class="ph-gal">
                    <ng-container *ngFor="let file of image_list_popup;let i = index">
                      <li *ngIf="i<2" [class.gallery-li]="image_list_popup.length === 2">
                        <div class="galbx">
                          <span class="mbt">
                            <button type="button" mat-icon-button [matMenuTriggerFor]="menu">
                              <mat-icon>more_vert</mat-icon>
                            </button>
                            <mat-menu #menu="matMenu">
                              <button type="button" mat-menu-item (click)="deleteTempImage(file, i)">
                                <i class="icon-delete"></i>
                                <span>{{delete_btn}}</span>
                              </button>
                            </mat-menu>
                          </span>
                          <div class="img-h" (click)="openImageModalRow(file)">
                            <div class="overlay-y"></div><img [src]="file.modal.img" *ngIf="file.modal.img" />
                          </div>
                        </div>
                      </li>
                    </ng-container>
                  </ul>
                  <ks-modal-gallery [id]="0" [modalImages]="image_list_popup"
                    [plainGalleryConfig]="customPlainGalleryRowConfig" [buttonsConfig]="customButtonsFontAwesomeConfig"
                    (buttonBeforeHook)="onButtonBeforeHook()" (buttonAfterHook)="onButtonAfterHook()">
                  </ks-modal-gallery>
                </div>
              </div> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="clearfix"></div>
</section>