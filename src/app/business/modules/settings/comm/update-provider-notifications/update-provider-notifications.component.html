<h1 class="mat-dialog-title">
    <!-- <h3>{{type}} Notifications</h3> -->
    <!-- <button mat-dialog-close class="modal_close" tabindex="-1">
        <i class="fa fa-window-close" aria-hidden="true"></i>
    </button> -->
</h1>
<mat-dialog-content class="col-lg-12 col-md-12 col-xs-12 col-sm-12 no-padding entirecard">
    <div class="col-lg-12 col-md-12 col-xs-12 col-sm-12 no-padding">
        <app-common-innerloading-spinner *ngIf="api_loading"></app-common-innerloading-spinner>
        <div class="form-group mgn-lt-20" *ngIf="!api_loading">
            <div class="disp-flex">
               
                <h4 *ngIf="type === 'Token'" class="notification" style="font-weight: 600;margin-right: 10px;">Notify whenever a
                    token is
                    generated</h4>
                <h4 *ngIf="type === 'Check-in'" class="notification" style="font-weight: 600;margin-right: 10px;"> Notify whenever
                    check-in
                    happens</h4>
                <h4 *ngIf="type === 'Appointment'" class="notification" style="font-weight: 600;margin-right: 10px;"> Notify whenever
                    appointment happens</h4>
                <h4 *ngIf="type === 'Order'" class="notification" style="font-weight: 600;margin-right: 10px;"> Notify whenever
                    Order
                    happens</h4>
                <h4 *ngIf="type === 'Donation'" class="notification" style="font-weight: 600;margin-right: 10px;"> Notify whenever
                    donation is received</h4>
                <h4 *ngIf="type === 'Account'" class="notification" style="font-weight: 600;margin-right: 10px;"> Notify whenever
                    license package changes</h4>
                <mat-slide-toggle class="example-margin" (change)="selectChekinNotify($event)"
                    [(ngModel)]="SelchkinNotify">
                </mat-slide-toggle>
            </div>
        </div>
        <section *ngIf="SelchkinNotify">
            <div class="notifications col-lg-12 col-md-12 col-xs-12 col-sm-12 ">
                <div class="greenborder col-lg-3 col-md-6 col-sm-6 col-xs-12 ">
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3 ">
                        <img class="mgn-rt-20" width="50px" height="50px" src="../../../../../../../../../assets/images/sms.svg">
                    </div>
                    <div class="{{ ph_arr.length > 0 ? 'col-lg-9 col-md-9 col-sm-9 col-xs-9 minimum-height' : 'col-lg-9 col-md-9 col-sm-9 col-xs-9'}}">
                        <span class="notification"> via SMS </span>
                    
                    <div class="sms_credit_warn" *ngIf="is_smsLow">{{smsWarnMsg}} <a
                            (click)="gotoSmsAddon()">{{is_noSMS? 'Purchase now': 'Upgrade now'}}</a>{{is_noSMS? '' : '
                        to
                        avoid undelivered SMS'}}</div>
                   
                    <div  *ngIf="ph_arr.length > 0">
                        <div *ngFor="let phne of ph_arr">{{phne.countryCode}} {{' '}} {{phne.number}}<i class="pointer-cursor icon-delete"
                                (click)="removePhEmail(phne, ph_arr, 'newcheckin')"></i></div>
                        </div>
                    </div>
                    <div class="form-group mgn-up-5" *ngIf="sms">
                        <div class="input-group" style="display: flex !important;">
                            <input type="text" class="form-control" style="max-width: 50px !important;" type="text" 
                                 [(ngModel)]="smsCountrycode" minlength="2" maxlength="4">
                            <input type="text" class="form-control" placeholder="Phonenumber"
                                (keypress)="isNumeric($event)" [(ngModel)]="notifyphonenumber" minlength="0"
                                maxlength="10">
                            <div class="input-group-append">
                                <button class="btn bt3 btn-default" (click)="addChkinPh()" type="button">Ok</button>
                            </div>
                        </div>
                    </div>
                    <div class="minimum-height" *ngIf="!sms && ph_arr.length == 0"></div>
                    <div style="text-align: center;">
                        <span [class.disabled]="is_noSMS" class="noti-add-btn col-lg-12 col-md-12 col-xs-12 col-sm-12" (click)="smsAddClicked()">Add</span>
                    </div>
                    
                </div>
               
                <div class="greenborder col-lg-3 col-md-6 col-sm-6 col-xs-12 ">
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                        <img src="../../../../../../../../../assets/images/mail.svg" class="mgn-rt-20" width="50px" height="50px">
                    </div>
                   <div  class="{{em_arr.length  > 0 ? 'col-lg-9 col-md-9 col-sm-9 col-xs-9 minimum-height' : 'col-lg-9 col-md-9 col-sm-9 col-xs-9'}}">
                    <span class="notification"> via Email</span>
                  
                  
                  <div  *ngIf="em_arr.length > 0">
                      <div style="word-wrap: break-word !important;" *ngFor="let emailval of em_arr">{{emailval}} <i class="pointer-cursor icon-delete"
                              (click)="removePhEmail(emailval, em_arr, 'newcheckin')"></i></div>
                      </div>
                   </div>
                   <div class="form-group mgn-up-5" *ngIf="email">
                    <div class="input-group" style="display: flex !important;">
                        <input type="text" class="form-control" placeholder="Email" [(ngModel)]="notifyemail">
                        <div class="input-group-append">
                            <button class="btn bt3 btn-default " (click)="addChkinemil()" type="button">Ok</button>
                        </div>
                    </div>
                </div>
                   <div class="minimum-height" *ngIf="em_arr.length==0 && !email"></div>
                   <div style="text-align: center;">
                    <span class="noti-add-btn col-lg-12 col-md-12 col-xs-12 col-sm-12" (click)="emailAddClicked()">Add</span>
                    </div>
                    
                </div>
                <div class="greenborder col-lg-3 col-md-6 col-sm-6 col-xs-12 ">
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                        <img src="../../../../../../../../../assets/images/app(1).svg" class="mgn-rt-20" width="50px" height="50px">
                    </div>
                    <div  class="{{cheknPushph_arr.length  > 0 ? 'col-lg-9 col-md-9 col-sm-9 col-xs-9 minimum-height' : 'col-lg-9 col-md-9 col-sm-9 col-xs-9'}}">
                        <span class="notification">App notification</span>
                 
                    
                    <div  *ngIf="cheknPushph_arr.length > 0">
                        <div *ngFor="let phne of cheknPushph_arr">{{phne.countryCode}} {{' '}} {{phne.number}}<i class="pointer-cursor icon-delete"
                                (click)="removePhEmail(phne, cheknPushph_arr, 'newcheckin')"></i></div>
                        </div>
                    </div>
                    <div class="form-group mgn-up-5" *ngIf="cheknPushph">
                        <div class="input-group" style="display: flex !important;">
                           
                                <input type="text" class="form-control" style="max-width: 50px !important;" type="text" 
                                [(ngModel)]="pushCountrycode" minlength="2" maxlength="4">
                            <input type="text" class="form-control" placeholder="Phonenumber"
                                (keypress)="isNumeric($event)" [(ngModel)]="notifycheknPushphonenumber" minlength="0"
                                maxlength="10">
                            <div class="input-group-append">
                                <button class="btn bt3 btn-default" (click)="addcheknPushPh()" type="button">Ok</button>
                            </div>
                        </div>
                    </div>
                    <div class="minimum-height" *ngIf="cheknPushph_arr.length==0 && !cheknPushph "></div>
                    <div style="text-align: center;">
                        <span class="noti-add-btn col-lg-12 col-md-12 col-xs-12 col-sm-12"
                        *ngIf="accountType==='BRANCH' || (accountType!=='BRANCH' && cheknPushph_arr.length === 0)"
                        (click)="cheknPushAddClicked()">Add</span>
                    </div>
                    
                </div>
                <div class="greenborder col-lg-3 col-md-6 col-sm-6 col-xs-12 ">
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                        <img src="../../../../../../../../../assets/images/telegram.svg" class="mgn-rt-20" width="50px" height="50px"> 
                    </div>
  
                    <div class="{{tele_arr.length  > 0 ? 'col-lg-9 col-md-9 col-sm-9 col-xs-9 minimum-height' : 'col-lg-9 col-md-9 col-sm-9 col-xs-9'}}">
                        <span class="notification"> via Telegram </span>
                  
                   
                   
                    <div  *ngIf="tele_arr.length > 0">
                        <div *ngFor="let tele of tele_arr"> {{tele.countryCode}} {{' '}} {{tele.number}} <i class="pointer-cursor icon-delete"
                                (click)="removePhEmail(tele, tele_arr, 'newcheckin')"></i></div>
                        </div>
                    </div>
                    <div class="form-group mgn-up-5" *ngIf="telegram">
                        <div class="input-group" style="display: flex !important;">
                            <input type="text" class="form-control" style="max-width: 50px !important;" type="text" 
                                 [(ngModel)]="teleCountrycode" minlength="2" maxlength="4" (keypress)="isNumericSign($event)">
                            <input type="text" class="form-control" placeholder="Phonenumber"
                                (keypress)="isNumeric($event)" [(ngModel)]="notifyTele" minlength="0"
                                maxlength="10">
                            <div class="input-group-append">
                                <button class="btn bt3 btn-default" type="button" (click)="addTele()">Ok</button>
                            </div>
                        </div>
                    </div>
                    <div class="minimum-height"  *ngIf="!telegram && tele_arr.length==0"></div>
                    <div style="text-align: center;">
                        <span class="noti-add-btn col-lg-12 col-md-12 col-xs-12 col-sm-12" (click)="telegramAddClicked()">Add</span>
                    </div>
                </div>
            </div>
        </section>
        <!-- <button *ngIf="okCheckinStatus" (click)="chekinNotifications('newcheckin')" type="button" mat-button
            class="cs-btn bt1 notifyOk">OK</button> -->
    </div>
    <div class="col-lg-12 col-md-12 col-xs-12 col-sm-12 no-padding" *ngIf="type !== 'Donation' && type !== 'Account'">
        <div class="form-group mgn-lt-20" *ngIf="!api_loading">
            <div style="display: flex">
                <h4 *ngIf="type === 'Token'" class="notification" style="font-weight: 600;margin-right: 10px;"> Notify whenever a
                    token gets
                    cancelled</h4>
                <h4 *ngIf="type === 'Check-in'" class="notification" style="font-weight: 600;margin-right: 10px;"> Notify whenever
                    check-in gets
                    cancelled</h4>
                <h4 *ngIf="type === 'Appointment'" class="notification" style="font-weight: 600;margin-right: 10px;"> Notify whenever
                    appointment gets
                    cancelled</h4>
                <h4 *ngIf="type === 'Order'" class="notification" style="font-weight: 600;margin-right: 10px;"> Notify whenever
                    Order gets
                    cancelled</h4>
                <mat-slide-toggle class="example-margin" (change)="selectChekinCanclNotify($event)"
                    [(ngModel)]="SelchkincnclNotify">
                </mat-slide-toggle>
            </div>
        </div>
        <section *ngIf="SelchkincnclNotify">
            <div class="notifications  col-lg-12 col-md-12 col-xs-12 col-sm-12">
                <div class="redborder col-lg-3 col-md-6 col-sm-6 col-xs-12 ">
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                        <img src="../../../../../../../../../assets/images/sms-1.svg" class="mgn-rt-20" width="50px" height="50px"> 
                    </div>
                    <div class="{{ph1_arr.length  > 0 ? 'col-lg-9 col-md-9 col-sm-9 col-xs-9 minimum-height' : 'col-lg-9 col-md-9 col-sm-9 col-xs-9'}}">
                        <span class="notification"> via SMS</span>

                    <div class="sms_credit_warn" *ngIf="is_smsLow">{{smsWarnMsg}} <a
                            (click)="gotoSmsAddon()">{{is_noSMS? 'Purchase now': 'Upgrade now'}}</a>{{is_noSMS? '' : '
                        to
                        avoid undelivered SMS'}}</div>
                    
                    <div  *ngIf="ph1_arr.length > 0">
                        <div *ngFor="let phnecancel of ph1_arr">{{phnecancel.countryCode}} {{' '}} {{phnecancel.number}}<i class="pointer-cursor icon-delete"
                                (click)="removePhEmail(phnecancel, ph1_arr, 'cancelcheckin')"></i></div>
                   </div>
                    </div>
                    <div class="form-group mgn-up-5" *ngIf="cancelsms">
                        <div class="input-group" style="display: flex !important;">
                         
                                <input type="text" class="form-control" style="max-width: 50px !important;" type="text" 
                                [(ngModel)]="sms1Countrycode" minlength="2" maxlength="4"> 
                            <input type="text" class="form-control" placeholder="Phonenumber"
                                (keypress)="isNumeric($event)" [(ngModel)]="notifycanclphonenumber" minlength="0"
                                maxlength="10">
                            <div class="input-group-append">
                                <button class="btn bt3 btn-default" (click)="addCheknCanclph()"
                                    type="button">Ok</button>
                            </div>
                        </div>
                    </div>
                    <div class="minimum-height" *ngIf="!cancelsms && ph1_arr.length==0"></div>
                    <div style="text-align: center;">
                        <span [class.disabled]="is_noSMS" class="noti-add-btn col-lg-12 col-md-12 col-xs-12 col-sm-12"
                        (click)="cancelledCheckinsmsAddClicked()">Add</span>
                    </div>
                    
                </div>
               
                <div class="redborder col-lg-3 col-md-6 col-sm-6 col-xs-12 ">
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                        <img src="../../../../../../../../../assets/images/mail-1.svg" class="mgn-rt-20" width="50px" height="50px"> 
                    </div>
                    <div class="{{ em1_arr.length > 0 ? 'col-lg-9 col-md-9 col-sm-9 col-xs-9 minimum-height' : 'col-lg-9 col-md-9 col-sm-9 col-xs-9'}}">
                        <span class="notification"> via Email </span>
                   
                       
                        
                        <div  *ngIf="em1_arr.length > 0">
                            <div style="word-wrap: break-word !important;" *ngFor="let emailcancl of em1_arr">{{emailcancl}} <i class="pointer-cursor icon-delete"
                                    (click)="removePhEmail(emailcancl,em1_arr, 'cancelcheckin')"></i></div>
                       </div>
                    </div>
                    <div class="form-group mgn-up-5" *ngIf="cancelemail">
                        <div class="input-group" style="display: flex !important;">
                            <input type="text" class="form-control" placeholder="Email" [(ngModel)]="notifycanclemail">
                            <div class="input-group-append">
                                <button class="btn bt3 btn-default" (click)="addCheknCanclemil()"
                                    type="button">Ok</button>
                            </div>
                        </div>
                    </div>
                    <div class="minimum-height" *ngIf="!cancelemail && em1_arr.length==0"></div>
                    <div style="text-align: center;">
                        <span class="noti-add-btn col-lg-12 col-md-12 col-xs-12 col-sm-12" (click)="cancelledCheckinemailAddClicked()">Add</span>
                    </div>
                    
                </div>
                <div class="redborder col-lg-3 col-md-6 col-sm-6 col-xs-12 ">
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                        <img src="../../../../../../../../../assets/images/app-1(1).svg" class="mgn-rt-20" width="50px" height="50px"> 
                    </div>
                    <div class="{{cheknCancelPushph_arr.length  > 0 ? 'col-lg-9 col-md-9 col-sm-9 col-xs-9 minimum-height' : 'col-lg-9 col-md-9 col-sm-9 col-xs-9'}}">
                        <span class="notification">App notification</span>
                
                       
                       
                        <div  *ngIf="cheknCancelPushph_arr.length > 0">
                            <div *ngFor="let phne of cheknCancelPushph_arr">{{phne.countryCode}} {{' '}} {{phne.number}}<i
                                    class="pointer-cursor icon-delete"
                                    (click)="removePhEmail(phne, cheknCancelPushph_arr, 'cancelcheckin')"></i></div>
                       </div>
                    </div>
                    <div class="form-group mgn-up-5" *ngIf="cheknCancelPushph">
                        <div class="input-group" style="display: flex !important;">
                           
                                <input type="text" class="form-control" style="max-width: 50px !important;" type="text" 
                                [(ngModel)]="push1Countrycode" minlength="2" maxlength="4"> 
                            <input type="text" class="form-control" placeholder="Phonenumber"
                                (keypress)="isNumeric($event)" [(ngModel)]="notifycheknCancelPushphonenumber"
                                minlength="0" maxlength="10">
                            <div class="input-group-append">
                                <button class="btn bt3 btn-default" (click)="addcheknCancelPushPh()"
                                    type="button">Ok</button>
                            </div>
                        </div>
                    </div>
                    <div class="minimum-height" *ngIf="cheknCancelPushph_arr.length==0 && !cheknCancelPushph"></div>
                    <div style="text-align: center;">
                        <span class="noti-add-btn col-lg-12 col-md-12 col-xs-12 col-sm-12"
                        *ngIf="accountType==='BRANCH' || (accountType!=='BRANCH' && cheknCancelPushph_arr.length === 0)"
                        (click)="cheknCancelPushAddClicked()">Add</span>
                    </div>
                    
                </div>
                <div class="redborder col-lg-3 col-md-6 col-sm-6 col-xs-12 ">
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                        <img src="../../../../../../../../../assets/images/telegram-1.svg" class="mgn-rt-20" width="50px" height="50px"> 
                    </div>
                    <div class="{{tele1_arr.length  > 0 ? 'col-lg-9 col-md-9 col-sm-9 col-xs-9 minimum-height' : 'col-lg-9 col-md-9 col-sm-9 col-xs-9'}}"> 
                      <span class="notification"> via Telegram</span>
                   
                    
                    <div  *ngIf="tele1_arr.length > 0">
                        <div *ngFor="let telecancel of tele1_arr">{{telecancel.countryCode}} {{' '}} {{telecancel.number}}<i class="pointer-cursor icon-delete"
                                (click)="removePhEmail(telecancel, tele1_arr, 'cancelcheckin')"></i></div>
                   </div>
                     </div>
                     <div class="form-group mgn-up-5" *ngIf="cancelTelegram">
                        <div class="input-group" style="display: flex !important;">
               
                                <input type="text" class="form-control" style="max-width: 50px !important;" type="text" 
                                [(ngModel)]="tele1Countrycode" minlength="2" maxlength="4">
                            <input type="text" class="form-control" placeholder="Phonenumber"
                                (keypress)="isNumeric($event)" [(ngModel)]="notifycancltelegram" minlength="0"
                                maxlength="10">
                            <div class="input-group-append">
                                <button class="btn bt3 btn-default" (click)="addCheknCancltelegram()"
                                    type="button">Ok</button>
                            </div>
                        </div>
                    </div>
                    <div class="minimum-height" *ngIf="tele1_arr.length==0 && !cancelTelegram"></div>
                     <div style="text-align: center;">
                        <span  class="noti-add-btn col-lg-12 col-md-12 col-xs-12 col-sm-12"
                        (click)="cancelledCheckintelegramAddClicked()">Add</span>
                    </div>
                </div>
            </div>
        </section>
        <!-- <button *ngIf="okCancelStatus" (click)="checkinCancelNotifications('cancelcheckin')" type="button" mat-button
            class="cs-btn bt1 notifyOk">OK</button> -->
    </div>
</mat-dialog-content>