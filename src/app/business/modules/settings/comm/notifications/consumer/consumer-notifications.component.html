<!-- <section>
  <app-breadcrumb [breadcrumbs]="breadcrumbs" [moreOptions]="breadcrumb_moreoptions"
    (performAction)="performActions($event)"></app-breadcrumb>
</section> -->
<section class="">
  <div class="card title-gb">
    <h5 class="mgn-up-10"> <button type="button" class="btn default profile-back" (click)="goBack()">
        <span class="fa fa-chevron-left">&nbsp;Back</span>
      </button>&nbsp;&nbsp;&nbsp;{{customer_label | capitalizeFirst}}</h5>
  </div>
</section>
<section>
  <div class="row col-md-12 m0 no-padding-small" *ngIf="api_loading">
    <div class="card">
      <app-common-innerloading-spinner></app-common-innerloading-spinner>
    </div>
  </div>
</section>
<section *ngIf="!waitlistStatus && !appointment_status && !donations_status && !api_loading">
  <div class="col-md-12 col-xs-12 col-sm-12 col-xs-12">
    <div class="token-appt">
      To setup 'Notifications', Appointment manager/QManager/Donations need to be enabled from your settings.
    </div>
  </div>
</section>
<section class="content comn-cls lic-page notifications"
  *ngIf="(waitlistStatus || appointment_status || donations_status) && !api_loading">
  <div class="col-md-12 col-xs-12 col-sm-12 no-padding-small  ynw-common-form-nm">
    <div class="row">
      <div class="card w-dta p0">
        <div class="paysettings-tab col-md-6 col-xs-12 col-sm-12 no-padding">
          <div class=" col-md-12 col-xs-12 col-sm-12 mgn-up-20 mgn-bt-20">
            <label class="notifi-togl" style="display: flex">Send Notifications&nbsp;&nbsp;
              <mat-slide-toggle class="example-margin" [(ngModel)]="consumerNotification"
                (change)="handleNotificationSettings($event)">
              </mat-slide-toggle> &nbsp;<p class="sts" [class.active]="consumerNotification">{{notification_statusstr}}
              </p>
            </label>
          </div>
        </div>
        <mat-accordion *ngIf="waitlistStatus">
          <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header class="mgn-bt-10">
              <mat-panel-title class="block-level" *ngIf="showToken">Token Notifications<br>
                <span class="form-level-settings">{{mode_of_notify}}</span>
              </mat-panel-title>
              <mat-panel-title class="block-level" *ngIf="!showToken">Check-in Notifications<br>
                <span class="form-level-settings">{{mode_of_notify}}</span>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="rw col-md-12 col-xs-12 col-sm-12 no-padding-small">
              <mat-accordion class="acc-btn">
                <mat-expansion-panel>
                  <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'" class="acc-header">
                    <mat-panel-title class="block-level"> Early Notifications<br>
                      <span class="form-level-settings">Notify a {{customer_label}}, the number of people ahead of
                        him/her
                        in line via SMS/Email/Notifications</span>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="form-group col-md-4 col-xs-7 col-sm-4">
                    <mat-form-field class="example-full-width">
                      <input matInput min="0" max="1000" type="number"
                        [(ngModel)]="earlyWLNotificatonSettings.personsAhead"
                        placeholder="{{customer_label | capitalizeFirst}}s ahead *" autocomplete="off" pattern="[0-9]"
                        (keypress)="showSubmit('EARLY_WL');numberOnly($event)" (keyup)="isvalid($event)"><br>
                      <div class="mgn-up-5" *ngIf="wltstPersonsahead && !earlyWLNotificatonSettings.personsAhead"
                        style="color: red;">{{customer_label | capitalizeFirst}}s ahead is required</div>
                      <span>
                        <ul class="info-lst form-level-early-hint">
                          <li style="padding-top: 6px;">
                            The n<sup style="color: black;">th</sup> {{customer_label}} to whom the notification should
                            be sent.
                          </li>
                        </ul>
                      </span>
                    </mat-form-field>
                  </div>
                  <div class="clearfix"></div>
                  <ul class="notifications">
                    <li class="mgn-lt-10">
                      <span class="notification"> via SMS </span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="earlyWLNotificatonSettings.sms"
                        (change)="showSubmit('EARLY_WL')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification"> via Email</span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="earlyWLNotificatonSettings.email"
                        (change)="showSubmit('EARLY_WL')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification">App notification</span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="earlyWLNotificatonSettings.pushNotification"
                        (change)="showSubmit('EARLY_WL')">
                      </mat-slide-toggle>
                    </li>
                  </ul>
                  <button *ngIf="showButton['EARLY_WL'] && earlyWLNotificatonSettings.personsAhead"
                    (click)="changeNotificationSettings('EARLY_WL')" type="button" mat-button
                    class="cs-btn bt1 notifyOk">OK</button>
                </mat-expansion-panel>
              </mat-accordion>
              <div class="clearfix"></div>
              <mat-accordion class="acc-btn">
                <mat-expansion-panel>
                  <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'" class="acc-header">
                    <mat-panel-title class="block-level"> Pre Final Notifications <br>
                      <span class="form-level-settings">Notify a {{customer_label}} when he is second next in line via
                        SMS/Email/Notifications.</span>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <ul class="notifications">
                    <li class="mgn-lt-10">
                      <span class="notification"> via SMS </span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="prefinalWLNotificationSettings.sms"
                        (change)="showSubmit('PREFINAL_WL')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification"> via Email</span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="prefinalWLNotificationSettings.email"
                        (change)="showSubmit('PREFINAL_WL')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification">App notification</span>
                      <mat-slide-toggle class="example-margin"
                        [(ngModel)]="prefinalWLNotificationSettings.pushNotification"
                        (change)="showSubmit('PREFINAL_WL')">
                      </mat-slide-toggle>
                    </li>
                  </ul>
                  <button *ngIf="showButton['PREFINAL_WL']" (click)="changeNotificationSettings('PREFINAL_WL')"
                    type="button" mat-button class="cs-btn bt1 notifyOk">OK</button>
                </mat-expansion-panel>
              </mat-accordion>
              <div class="clearfix"></div>
              <mat-accordion class="acc-btn">
                <mat-expansion-panel>
                  <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'" class="acc-header">
                    <mat-panel-title class="block-level"> Final Notifications
                      <br> <span class="form-level-settings">Notify a {{customer_label}} when he is next in line via
                        SMS/Email/Notifications.</span>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <ul class="notifications">
                    <li class="mgn-lt-10">
                      <span class="notification"> via SMS </span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="finalWLNotificationSettings.sms"
                        (change)="showSubmit('FINAL_WL')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification"> via Email</span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="finalWLNotificationSettings.email"
                        (change)="showSubmit('FINAL_WL')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification">App notification</span>
                      <mat-slide-toggle class="example-margin"
                        [(ngModel)]="finalWLNotificationSettings.pushNotification" (change)="showSubmit('FINAL_WL')">
                      </mat-slide-toggle>
                    </li>
                  </ul>
                  <button *ngIf="showButton['FINAL_WL']" (click)="changeNotificationSettings('FINAL_WL')" type="button"
                    mat-button class="cs-btn bt1 notifyOk">OK</button>
                </mat-expansion-panel>
              </mat-accordion>
              <div class="clearfix"></div>
              <mat-accordion class="acc-btn">
                <mat-expansion-panel>
                  <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'" class="acc-header">
                    <mat-panel-title class="block-level" *ngIf="showToken"> Add Token Notifications
                      <br> <span class="form-level-settings">Notify a {{customer_label}} via
                        SMS/Email/Notifications when a Check-in happens.</span>
                    </mat-panel-title>
                    <mat-panel-title class="block-level" *ngIf="!showToken"> Add Check-in Notifications
                      <br> <span class="form-level-settings">Notify a {{customer_label}} via
                        SMS/Email/Notifications when a Check-in happens.</span>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <ul class="notifications">
                    <li class="mgn-lt-10">
                      <span class="notification"> via SMS </span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="wlAddNotificationSettings.sms"
                        (change)="showSubmit('WAITLISTADD')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification"> via Email</span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="wlAddNotificationSettings.email"
                        (change)="showSubmit('WAITLISTADD')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification">App notification</span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="wlAddNotificationSettings.pushNotification"
                        (change)="showSubmit('WAITLISTADD')">
                      </mat-slide-toggle>
                    </li>
                  </ul>
                  <button *ngIf="showButton['WAITLISTADD']" (click)="changeNotificationSettings('WAITLISTADD')"
                    type="button" mat-button class="cs-btn bt1 notifyOk">OK</button>
                </mat-expansion-panel>
              </mat-accordion>
              <div class="clearfix"></div>
            </div>
          </mat-expansion-panel>
        </mat-accordion>
        <mat-accordion *ngIf="appointment_status">
          <mat-expansion-panel [expanded]="false">
            <mat-expansion-panel-header class="mgn-bt-10">
              <mat-panel-title class="block-level">Appointment Notifications<br>
                <span class="form-level-settings">Specify how and when your {{customer_label}}s need to be notified
                  about their appointment</span>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="rw col-md-12 col-xs-12 col-sm-12 no-padding-small">
              <!-- <mat-accordion class="acc-btn">
                <mat-expansion-panel>
                  <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'" class="acc-header">
                    <mat-panel-title class="block-level"> Early Notifications<br>
                      <span class="form-level-settings">Notify a {{customer_label}}, the number of people ahead of
                        him/her
                        in line via SMS/Email/Notifications</span>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="form-group col-md-3 col-xs-7 col-sm-4">
                    <mat-form-field class="example-full-width">
                      <input matInput min="0" max="1000" type="text"
                        [(ngModel)]="earlyAPPTNotificatonSettings.personsAhead"
                        placeholder="{{customer_label | capitalizeFirst}}s ahead *" autocomplete="off" pattern="[0-9]"
                        (keypress)="showSubmit('EARLY_APPT');numberOnly($event)" (keyup)="isvalid($event)"><br>
                      <div class="mgn-up-5" *ngIf="!earlyAPPTNotificatonSettings.personsAhead && apptPersonsahead"
                        style="color: red;">{{customer_label | capitalizeFirst}}s ahead is required</div>
                      <span>
                        <ul class="info-lst form-level-early-hint">
                          <li style="padding-top: 6px;">
                            The n<sup style="color: black;">th</sup> {{customer_label}} to whom the notification should
                            be sent.
                          </li>
                        </ul>
                      </span>
                    </mat-form-field>
                  </div>
                  <div class="clearfix"></div>
                  <ul class="notifications">
                    <li class="mgn-lt-10">
                      <span class="notification"> via SMS </span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="earlyAPPTNotificatonSettings.sms"
                        (change)="showSubmit('EARLY_APPT')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification"> via Email</span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="earlyAPPTNotificatonSettings.email"
                        (change)="showSubmit('EARLY_APPT')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification">App notification</span>
                      <mat-slide-toggle class="example-margin"
                        [(ngModel)]="earlyAPPTNotificatonSettings.pushNotification" (change)="showSubmit('EARLY_APPT')">
                      </mat-slide-toggle>
                    </li>
                  </ul>
                  <button *ngIf="showButton['EARLY_APPT'] && earlyAPPTNotificatonSettings.personsAhead"
                    (click)="changeNotificationSettings('EARLY_APPT')" type="button" mat-button
                    class="cs-btn bt1 notifyOk">OK</button>
                </mat-expansion-panel>
              </mat-accordion> -->
              <!-- <div class="clearfix"></div>
              <mat-accordion class="acc-btn">
                <mat-expansion-panel>
                  <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'" class="acc-header">
                    <mat-panel-title class="block-level"> Pre Final Notifications <br>
                      <span class="form-level-settings">Notify a {{customer_label}} when he is second next in line via
                        SMS/Email/Notifications.</span>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <ul class="notifications">
                    <li class="mgn-lt-10">
                      <span class="notification"> via SMS </span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="prefinalAPPTNotificationSettings.sms"
                        (change)="showSubmit('PREFINAL_APPT')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification"> via Email</span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="prefinalAPPTNotificationSettings.email"
                        (change)="showSubmit('PREFINAL_APPT')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification">App notification</span>
                      <mat-slide-toggle class="example-margin"
                        [(ngModel)]="prefinalAPPTNotificationSettings.pushNotification"
                        (change)="showSubmit('PREFINAL_APPT')">
                      </mat-slide-toggle>
                    </li>
                  </ul>
                  <button *ngIf="showButton['PREFINAL_APPT']" (click)="changeNotificationSettings('PREFINAL_APPT')"
                    type="button" mat-button class="cs-btn bt1 notifyOk">OK</button>
                </mat-expansion-panel>
              </mat-accordion>
              <div class="clearfix"></div>
              <mat-accordion class="acc-btn">
                <mat-expansion-panel>
                  <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'" class="acc-header">
                    <mat-panel-title class="block-level"> Final Notifications
                      <br> <span class="form-level-settings">Notify a {{customer_label}} when he is next in line via
                        SMS/Email/Notifications.</span>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <ul class="notifications">
                    <li class="mgn-lt-10">
                      <span class="notification"> via SMS </span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="finalAPPTNotificationSettings.sms"
                        (change)="showSubmit('FINAL_APPT')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification"> via Email</span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="finalAPPTNotificationSettings.email"
                        (change)="showSubmit('FINAL_APPT')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification">App notification</span>
                      <mat-slide-toggle class="example-margin"
                        [(ngModel)]="finalAPPTNotificationSettings.pushNotification"
                        (change)="showSubmit('FINAL_APPT')">
                      </mat-slide-toggle>
                    </li>
                  </ul>
                  <button *ngIf="showButton['FINAL_APPT']" (click)="changeNotificationSettings('FINAL_APPT')"
                    type="button" mat-button class="cs-btn bt1 notifyOk">OK</button>
                </mat-expansion-panel>
              </mat-accordion>
              <div class="clearfix"></div> -->
              <mat-accordion class="acc-btn">
                <mat-expansion-panel>
                  <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'" class="acc-header">
                    <mat-panel-title class="block-level"> Appointment Confirmation Notifications
                      <br> <span class="form-level-settings">Notify {{customer_label}} when appointment is
                        confirmed.</span>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <ul class="notifications">
                    <li class="mgn-lt-10">
                      <span class="notification"> via SMS </span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="apptAddNotificationSettings.sms"
                        (change)="showSubmit('APPOINTMENTADD')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification"> via Email</span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="apptAddNotificationSettings.email"
                        (change)="showSubmit('APPOINTMENTADD')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification">App notification</span>
                      <mat-slide-toggle class="example-margin"
                        [(ngModel)]="apptAddNotificationSettings.pushNotification"
                        (change)="showSubmit('APPOINTMENTADD')">
                      </mat-slide-toggle>
                    </li>
                  </ul>
                  <button *ngIf="showButton['APPOINTMENTADD']"
                    (click)="changeNotificationSettings('APPOINTMENTADD', 'APPOINTMENT')" type="button" mat-button
                    class="cs-btn bt1 notifyOk">OK</button>
                </mat-expansion-panel>
              </mat-accordion>
              <div class="clearfix"></div>
              <!-- <div class="block-level">Appointment Reminders notification
                <span class="form-level-settings">Setup upto 4 reminder notifications to be sent to your {{customer_label}} prior to his/her appointment.</span>
              </div> -->
              <mat-accordion class="acc-btn">
                <mat-expansion-panel>
                  <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'" class="acc-header">
                    <mat-panel-title class="block-level">Appointment Reminder Notifications<br>
                      <span class="form-level-settings">Setup upto 4 reminder notifications to be sent to your
                        {{customer_label}} prior to his/her appointment.</span>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="rw col-md-12 col-xs-12 col-sm-12 no-padding-small">
                    <mat-accordion class="acc-btn">
                      <mat-expansion-panel>
                        <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'"
                          class="acc-header">
                          <mat-panel-title class="block-level">First Reminder<br>
                            <span class="form-level-settings">This will be sent 24 hours prior to the
                              appointment.</span>
                          </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="form-group col-md-4 col-xs-7 col-sm-4">
                          <mat-form-field>
                            <input matInput min="0" type="text" [(ngModel)]="firstAPPTNotificationSettings.time"
                              placeholder="Time(min)*" autocomplete="off"
                              (keypress)="showSubmit('FIRST_APPT');numberOnly($event)" (keyup)="isvalid($event)"><br>
                            <div class="mgn-up-5" *ngIf="firstApptTime && !firstAPPTNotificationSettings.time"
                              style="color: red;"> Time is required</div>
                          </mat-form-field>
                        </div>
                        <div class="col-md-4 col-xs-4 col-sm-4 mgtop40"><small
                            style="color:#29b6f6;font-size:80%">{{timeinHrMin(firstAPPTNotificationSettings.time)}}</small>
                        </div>

                        <div class="clearfix"></div>
                        <ul class="notifications">
                          <li class="mgn-lt-10">
                            <span class="notification"> via SMS </span>
                            <mat-slide-toggle class="example-margin" [(ngModel)]="firstAPPTNotificationSettings.sms"
                              (change)="showSubmit('FIRST_APPT')">
                            </mat-slide-toggle>
                          </li>
                          <li class="mgn-lt-10">
                            <span class="notification"> via Email</span>
                            <mat-slide-toggle class="example-margin" [(ngModel)]="firstAPPTNotificationSettings.email"
                              (change)="showSubmit('FIRST_APPT')">
                            </mat-slide-toggle>
                          </li>
                          <li class="mgn-lt-10">
                            <span class="notification">App notification</span>
                            <mat-slide-toggle class="example-margin"
                              [(ngModel)]="firstAPPTNotificationSettings.pushNotification"
                              (change)="showSubmit('FIRST_APPT')">
                            </mat-slide-toggle>
                          </li>
                        </ul>
                        <button *ngIf="showButton['FIRST_APPT'] && firstAPPTNotificationSettings.time"
                          (click)="changeNotificationSettings('FIRST_APPT')" type="button" mat-button
                          class="cs-btn bt1 notifyOk">OK</button>
                      </mat-expansion-panel>
                    </mat-accordion>
                    <div class="clearfix"></div>
                    <mat-accordion class="acc-btn">
                      <mat-expansion-panel>
                        <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'"
                          class="acc-header">
                          <mat-panel-title class="block-level"> Second Reminder<br>
                            <span class="form-level-settings">This will be sent 8 hours prior to the appointment.
                            </span>
                          </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="form-group col-md-4 col-xs-7 col-sm-4">
                          <mat-form-field class="example-full-width">
                            <input matInput min="0" type="text" [(ngModel)]="secondAPPTNotificationSettings.time"
                              placeholder="Time(min)*" autocomplete="off"
                              (keypress)="showSubmit('SECOND_APPT');numberOnly($event)" (keyup)="isvalid($event)"><br>
                            <div class="mgn-up-5" *ngIf="secondApptTime && !secondAPPTNotificationSettings.time"
                              style="color: red;">Time is required</div>
                          </mat-form-field>
                        </div>
                        <div class="col-md-4 col-xs-4 col-sm-4 mgtop40"><small
                            style="color:#29b6f6;font-size:80%">{{timeinHrMin(secondAPPTNotificationSettings.time)}}</small>
                        </div>
                        <div class="clearfix"></div>
                        <ul class="notifications">
                          <li class="mgn-lt-10">
                            <span class="notification"> via SMS </span>
                            <mat-slide-toggle class="example-margin" [(ngModel)]="secondAPPTNotificationSettings.sms"
                              (change)="showSubmit('SECOND_APPT')">
                            </mat-slide-toggle>
                          </li>
                          <li class="mgn-lt-10">
                            <span class="notification"> via Email</span>
                            <mat-slide-toggle class="example-margin" [(ngModel)]="secondAPPTNotificationSettings.email"
                              (change)="showSubmit('SECOND_APPT')">
                            </mat-slide-toggle>
                          </li>
                          <li class="mgn-lt-10">
                            <span class="notification">App notification</span>
                            <mat-slide-toggle class="example-margin"
                              [(ngModel)]="secondAPPTNotificationSettings.pushNotification"
                              (change)="showSubmit('SECOND_APPT')">
                            </mat-slide-toggle>
                          </li>
                        </ul>
                        <button *ngIf="showButton['SECOND_APPT'] && secondAPPTNotificationSettings.time"
                          (click)="changeNotificationSettings('SECOND_APPT')" type="button" mat-button
                          class="cs-btn bt1 notifyOk">OK</button>
                      </mat-expansion-panel>
                    </mat-accordion>
                    <div class="clearfix"></div>

                    <mat-accordion class="acc-btn">
                      <mat-expansion-panel>
                        <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'"
                          class="acc-header">
                          <mat-panel-title class="block-level"> Third Reminder<br>
                            <span class="form-level-settings">This will be sent 4 hours prior to the appointment.
                            </span>
                          </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="form-group col-md-4 col-xs-7 col-sm-4">
                          <mat-form-field class="example-full-width">
                            <input matInput min="0" type="text" [(ngModel)]="thirdAPPTNotificationSettings.time"
                              placeholder="Time(min)*" autocomplete="off"
                              (keypress)="showSubmit('THIRD_APPT');numberOnly($event)" (keyup)="isvalid($event)"><br>
                            <div class="mgn-up-5" *ngIf="thirdApptTime && !thirdAPPTNotificationSettings.time"
                              style="color: red;">Time is required</div>
                          </mat-form-field>
                        </div>
                        <div class="col-md-4 col-xs-4 col-sm-4 mgtop40"><small
                            style="color:#29b6f6;font-size:80%">{{timeinHrMin(thirdAPPTNotificationSettings.time)}}</small>
                        </div>
                        <div class="clearfix"></div>
                        <ul class="notifications">
                          <li class="mgn-lt-10">
                            <span class="notification"> via SMS </span>
                            <mat-slide-toggle class="example-margin" [(ngModel)]="thirdAPPTNotificationSettings.sms"
                              (change)="showSubmit('THIRD_APPT')">
                            </mat-slide-toggle>
                          </li>
                          <li class="mgn-lt-10">
                            <span class="notification"> via Email</span>
                            <mat-slide-toggle class="example-margin" [(ngModel)]="thirdAPPTNotificationSettings.email"
                              (change)="showSubmit('THIRD_APPT')">
                            </mat-slide-toggle>
                          </li>
                          <li class="mgn-lt-10">
                            <span class="notification">App notification</span>
                            <mat-slide-toggle class="example-margin"
                              [(ngModel)]="thirdAPPTNotificationSettings.pushNotification"
                              (change)="showSubmit('THIRD_APPT')">
                            </mat-slide-toggle>
                          </li>
                        </ul>
                        <button *ngIf="showButton['THIRD_APPT'] && thirdAPPTNotificationSettings.time"
                          (click)="changeNotificationSettings('THIRD_APPT')" type="button" mat-button
                          class="cs-btn bt1 notifyOk">OK</button>
                      </mat-expansion-panel>
                    </mat-accordion>
                    <div class="clearfix"></div>
                    <mat-accordion class="acc-btn">
                      <mat-expansion-panel>
                        <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'"
                          class="acc-header">
                          <mat-panel-title class="block-level"> Fourth Reminder<br>
                            <span class="form-level-settings">This will be sent 1 hour prior to the appointment.</span>
                          </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="form-group col-md-4 col-xs-7 col-sm-4">
                          <mat-form-field class="example-full-width">
                            <input matInput min="0" type="text" [(ngModel)]="fourthAPPTNotificationSettings.time"
                              placeholder="Time(min)*" autocomplete="off"
                              (keypress)="showSubmit('FOURTH_APPT');numberOnly($event)" (keyup)="isvalid($event)"><br>
                            <div class="mgn-up-5" *ngIf="fourthApptTime && !fourthAPPTNotificationSettings.time"
                              style="color: red;">Time is required</div>
                          </mat-form-field>
                        </div>
                        <div class="col-md-4 col-xs-4 col-sm-4 mgtop40"><small
                            style="color:#29b6f6;font-size:80%">{{timeinHrMin(fourthAPPTNotificationSettings.time)}}</small>
                        </div>
                        <div class="clearfix"></div>
                        <ul class="notifications">
                          <li class="mgn-lt-10">
                            <span class="notification"> via SMS </span>
                            <mat-slide-toggle class="example-margin" [(ngModel)]="fourthAPPTNotificationSettings.sms"
                              (change)="showSubmit('FOURTH_APPT')">
                            </mat-slide-toggle>
                          </li>
                          <li class="mgn-lt-10">
                            <span class="notification"> via Email</span>
                            <mat-slide-toggle class="example-margin" [(ngModel)]="fourthAPPTNotificationSettings.email"
                              (change)="showSubmit('FOURTH_APPT')">
                            </mat-slide-toggle>
                          </li>
                          <li class="mgn-lt-10">
                            <span class="notification">App notification</span>
                            <mat-slide-toggle class="example-margin"
                              [(ngModel)]="fourthAPPTNotificationSettings.pushNotification"
                              (change)="showSubmit('FOURTH_APPT')">
                            </mat-slide-toggle>
                          </li>
                        </ul>
                        <button *ngIf="showButton['FOURTH_APPT'] && fourthAPPTNotificationSettings.time"
                          (click)="changeNotificationSettings('FOURTH_APPT')" type="button" mat-button
                          class="cs-btn bt1 notifyOk">OK</button>
                      </mat-expansion-panel>
                    </mat-accordion>
                  </div>
                </mat-expansion-panel>
              </mat-accordion>

            </div>
          </mat-expansion-panel>
        </mat-accordion>

        <mat-accordion *ngIf="donations_status">
          <mat-expansion-panel [expanded]="false">
            <mat-expansion-panel-header class="mgn-bt-10">
              <mat-panel-title class="block-level">Donation Notifications<br>
                <span class="form-level-settings">{{mode_of_notify}}</span>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="rw col-md-12 col-xs-12 col-sm-12 no-padding-small">
              <!-- <mat-accordion class="acc-btn">
                <mat-expansion-panel>
                  <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'" class="acc-header">
                    <mat-panel-title class="block-level"> Early Notifications<br>
                      <span class="form-level-settings">Notify a {{customer_label}}, the number of people ahead of
                        him/her
                        in line via SMS/Email/Notifications</span>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <div class="form-group col-md-3 col-xs-7 col-sm-4">
                    <mat-form-field class="example-full-width">
                      <input matInput min="0" max="1000" type="text"
                        [(ngModel)]="earlyDONATNotificatonSettings.personsAhead"
                        placeholder="{{customer_label | capitalizeFirst}}s ahead *" autocomplete="off" pattern="[0-9]"
                        (keypress)="showSubmit('EARLY_DONAT');numberOnly($event)" (keyup)="isvalid($event)"><br>
                      <div class="mgn-up-5" *ngIf="!earlyDONATNotificatonSettings.personsAhead && donatPersonsahead"
                        style="color: red;">{{customer_label | capitalizeFirst}}s ahead is required</div>
                      <span>
                        <ul class="info-lst form-level-early-hint">
                          <li style="padding-top: 6px;">
                            The n<sup style="color: black;">th</sup> {{customer_label}} to whom the notification should
                            be sent.
                          </li>
                        </ul>
                      </span>
                    </mat-form-field>
                  </div>
                  <div class="clearfix"></div>
                  <ul class="notifications">
                    <li class="mgn-lt-10">
                      <span class="notification"> via SMS </span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="earlyDONATNotificatonSettings.sms"
                        (change)="showSubmit('EARLY_DONAT')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification"> via Email</span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="earlyDONATNotificatonSettings.email"
                        (change)="showSubmit('EARLY_DONAT')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification">App notification</span>
                      <mat-slide-toggle class="example-margin"
                        [(ngModel)]="earlyDONATNotificatonSettings.pushNotification" (change)="showSubmit('EARLY_DONAT')">
                      </mat-slide-toggle>
                    </li>
                  </ul>
                  <button *ngIf="showButton['EARLY_DONAT'] && earlyDONATNotificatonSettings.personsAhead"
                    (click)="changeNotificationSettings('EARLY_DONAT')" type="button" mat-button
                    class="cs-btn bt1 notifyOk">OK</button>
                </mat-expansion-panel>
              </mat-accordion>
              <div class="clearfix"></div>
              <mat-accordion class="acc-btn">
                <mat-expansion-panel>
                  <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'" class="acc-header">
                    <mat-panel-title class="block-level"> Pre Final Notifications <br>
                      <span class="form-level-settings">Notify a {{customer_label}} when he is second next in line via
                        SMS/Email/Notifications.</span>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <ul class="notifications">
                    <li class="mgn-lt-10">
                      <span class="notification"> via SMS </span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="prefinalDONATNotificationSettings.sms"
                        (change)="showSubmit('PREFINAL_DONAT')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification"> via Email</span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="prefinalDONATNotificationSettings.email"
                        (change)="showSubmit('PREFINAL_DONAT')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification">App notification</span>
                      <mat-slide-toggle class="example-margin"
                        [(ngModel)]="prefinalDONATNotificationSettings.pushNotification"
                        (change)="showSubmit('PREFINAL_DONAT')">
                      </mat-slide-toggle>
                    </li>
                  </ul>
                  <button *ngIf="showButton['PREFINAL_DONAT']" (click)="changeNotificationSettings('PREFINAL_DONAT')"
                    type="button" mat-button class="cs-btn bt1 notifyOk">OK</button>
                </mat-expansion-panel>
              </mat-accordion>
              <div class="clearfix"></div>
              <mat-accordion class="acc-btn">
                <mat-expansion-panel>
                  <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'" class="acc-header">
                    <mat-panel-title class="block-level"> Final Notifications
                      <br> <span class="form-level-settings">Notify a {{customer_label}} when he is next in line via
                        SMS/Email/Notifications.</span>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <ul class="notifications">
                    <li class="mgn-lt-10">
                      <span class="notification"> via SMS </span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="finalDONATNotificationSettings.sms"
                        (change)="showSubmit('FINAL_DONAT')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification"> via Email</span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="finalDONATNotificationSettings.email"
                        (change)="showSubmit('FINAL_DONAT')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification">App notification</span>
                      <mat-slide-toggle class="example-margin"
                        [(ngModel)]="finalDONATNotificationSettings.pushNotification"
                        (change)="showSubmit('FINAL_DONAT')">
                      </mat-slide-toggle>
                    </li>
                  </ul>
                  <button *ngIf="showButton['FINAL_DONAT']" (click)="changeNotificationSettings('FINAL_DONAT')"
                    type="button" mat-button class="cs-btn bt1 notifyOk">OK</button>
                </mat-expansion-panel>
              </mat-accordion>
              <div class="clearfix"></div> -->
              <mat-accordion class="acc-btn">
                <mat-expansion-panel>
                  <mat-expansion-panel-header [collapsedHeight]="'60px'" [expandedHeight]="'60px'" class="acc-header">
                    <mat-panel-title class="block-level"> Notify when a donation is made
                      <br> <span class="form-level-settings">Notify a {{customer_label}} via
                        SMS/Email/Notifications when a Donation accept.</span>
                    </mat-panel-title>
                  </mat-expansion-panel-header>
                  <ul class="notifications">
                    <li class="mgn-lt-10">
                      <span class="notification"> via SMS </span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="donatAddNotificationSettings.sms"
                        (change)="showSubmit('DONATIONSERVICE')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification"> via Email</span>
                      <mat-slide-toggle class="example-margin" [(ngModel)]="donatAddNotificationSettings.email"
                        (change)="showSubmit('DONATIONSERVICE')">
                      </mat-slide-toggle>
                    </li>
                    <li class="mgn-lt-10">
                      <span class="notification">App notification</span>
                      <mat-slide-toggle class="example-margin"
                        [(ngModel)]="donatAddNotificationSettings.pushNotification"
                        (change)="showSubmit('DONATIONSERVICE')">
                      </mat-slide-toggle>
                    </li>
                  </ul>
                  <button *ngIf="showButton['DONATIONSERVICE']"
                    (click)="changeNotificationSettings('DONATIONSERVICE', 'DONATION')" type="button" mat-button
                    class="cs-btn bt1 notifyOk">OK</button>
                </mat-expansion-panel>
              </mat-accordion>
            </div>
          </mat-expansion-panel>
        </mat-accordion>
      </div>
    </div>
  </div>
</section>