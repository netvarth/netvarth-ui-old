<!-- <section>
  <app-breadcrumb [breadcrumbs]="breadcrumbs" [moreOptions]="breadcrumb_moreoptions"
    (performAction)="performActions($event)"></app-breadcrumb>
</section> -->
<section class="">
  <div class="card title-gb">
    <h5 class="mgn-up-10"> 
      <!-- <button type="button" class="btn default profile-back" (click)="goBack()">
        <span class="fa fa-chevron-left">&nbsp;Back</span>
      </button>&nbsp;&nbsp;&nbsp; -->
      <span class="fa fa-arrow-left pointer-cursor" (click)="goBack()"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      {{breadcrmbTitle | capitalizeFirst}}</h5>
  </div>
</section>
<section>
  <div class="row col-md-12 m0 no-padding-small" *ngIf="api_loading">
    <div class="card">
      <app-common-innerloading-spinner></app-common-innerloading-spinner>
    </div>
  </div>
</section>
<!-- <section *ngIf="!waitlistStatus && !appointment_status && !donations_status && !api_loading">
  <div class="col-md-12 col-xs-12 col-sm-12 col-xs-12">
    <div class="enable-notif">
      To setup ‘Other Notifications’, Appointment manager/QManager/Donations need to be enabled from your settings.
    </div>
  </div>
</section> -->
<section class="content comn-cls lic-page notifications"
  *ngIf="!api_loading">
  <div class="col-md-12 no-padding-small">
    <div class="row">
      <div class="card w-dta p0 ">


        <!-- <mat-accordion>
          <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
              <mat-panel-title class="block-level">{{provdr_domain_name|capitalizeFirst}} Notifications</mat-panel-title>
            </mat-expansion-panel-header> -->
        <mat-accordion *ngIf="waitlistStatus">
          <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header class="mgn-bt-10">
              <mat-panel-title class="block-level" *ngIf="showToken">Token Notifications<br>
                <span class="form-level-settings">{{mode_of_notify}}</span>
              </mat-panel-title>
              <mat-panel-title class="block-level" *ngIf="!showToken">Check-in Notifications<br>
                <span class="form-level-settings">{{mode_of_notify}}</span>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="rw col-md-12">
              <div class="form-group">
                <div style="display: flex">
                  <span *ngIf="showToken" class="notification" style="font-weight: 600">Notify whenever a token is
                    generated</span>
                  <span *ngIf="!showToken" class="notification" style="font-weight: 600"> Notify whenever check-in
                    happens</span>
                  <mat-slide-toggle class="example-margin" (change)="selectChekinNotify($event)"
                    [(ngModel)]="SelchkinNotify">
                  </mat-slide-toggle>
                </div>
              </div>
              <section class="leftselectAll" *ngIf="SelchkinNotify">
                <ul class="notifications">
                  <li>
                    <span class="notification"> via SMS </span>
                    <span [class.disabled]="is_noSMS" [class.icon-add]="!sms" [class.icon-minus]="sms" (click)="smsAddClicked()"></span>
                    <div class="sms_credit_warn" *ngIf="is_smsLow">{{smsWarnMsg}} <a (click)="gotoSmsAddon()">{{is_noSMS? 'Purchase now': 'Upgrade now'}}</a>{{is_noSMS? '' : ' to avoid undelivered SMS'}}</div>
                    <div class="form-group" *ngIf="sms">
                      <div class="input-group mb-3 phadd">
                        <input class="form-control" style="max-width: 50px !important;" type="text" readonly value="+91">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifyphonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addChkinPh()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="ph_arr.length > 0">
                      <li *ngFor="let phne of ph_arr">+91 {{phne}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phne, ph_arr, 'newcheckin')"></i></li>
                    </ul>
                  </li>
                  <li>
                    <span class="notification"> via Email</span>
                    <span [class.icon-add]="!email" [class.icon-minus]="email" (click)="emailAddClicked()"></span>
                    <div class="form-group" *ngIf="email">
                      <div class="input-group mb-3 emadd">
                        <input type="text" class="form-control" placeholder="Email" [(ngModel)]="notifyemail">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default " (click)="addChkinemil()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="em_arr.length > 0">
                      <li *ngFor="let emailval of em_arr">{{emailval}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(emailval, em_arr, 'newcheckin')"></i></li>
                    </ul>
                  </li>
                  <li>
                    <span class="notification">App notification</span>
                    <span *ngIf="accountType==='BRANCH' || (accountType!=='BRANCH' && cheknPushph_arr.length === 0)" [class.icon-add]="!cheknPushph" [class.icon-minus]="cheknPushph" (click)="cheknPushAddClicked()"></span>
                    <div class="form-group" *ngIf="cheknPushph">
                      <div class="input-group mb-3 phadd">
                        <input class="form-control" style="max-width: 50px !important;" type="text" readonly value="+91">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifycheknPushphonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addcheknPushPh()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="cheknPushph_arr.length > 0">
                      <li *ngFor="let phne of cheknPushph_arr">+91 {{phne}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phne, cheknPushph_arr, 'newcheckin')"></i></li>
                    </ul>
                  </li>
                  <!-- <li>
                    <span class="notification">App notification</span>
                    <mat-slide-toggle class="example-margin" [(ngModel)]="cheknpush"
                      (change)="changePushMsgStatus('newcheckin')">
                    </mat-slide-toggle>
                  </li> -->
                </ul>
              </section>
              <button *ngIf="okCheckinStatus" (click)="chekinNotifications('newcheckin')" type="button" mat-button
                class="cs-btn bt1 notifyOk">OK</button>
            </div>
            <div class="rw col-md-12">
              <div class="form-group">
                <div style="display: flex">
                  <span *ngIf="showToken" class="notification" style="font-weight: 600"> Notify whenever a token gets
                    cancelled</span>
                  <span *ngIf="!showToken" class="notification" style="font-weight: 600"> Notify whenever check-in gets
                    cancelled</span>
                  <mat-slide-toggle class="example-margin" (change)="selectChekinCanclNotify($event)"
                    [(ngModel)]="SelchkincnclNotify">
                  </mat-slide-toggle>
                </div>
              </div>
              <section class="leftselectAll" *ngIf="SelchkincnclNotify">
                <ul class="notifications">
                  <li>
                    <span class="notification"> via SMS</span>
                    <span [class.disabled]="is_noSMS" [class.icon-add]="!cancelsms" [class.icon-minus]="cancelsms"
                      (click)="cancelledCheckinsmsAddClicked()"></span>
                      <div class="sms_credit_warn" *ngIf="is_smsLow">{{smsWarnMsg}} <a (click)="gotoSmsAddon()">{{is_noSMS? 'Purchase now': 'Upgrade now'}}</a>{{is_noSMS? '' : ' to avoid undelivered SMS'}}</div>
                    <div class="form-group" *ngIf="cancelsms">
                      <div class="input-group mb-3 phadd">
                        <input class="form-control" style="max-width: 50px !important;" type="text" readonly value="+91">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifycanclphonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addCheknCanclph()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="ph1_arr.length > 0">
                      <li *ngFor="let phnecancel of ph1_arr">+91 {{phnecancel}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phnecancel, ph1_arr, 'cancelcheckin')"></i></li>
                    </ul>
                  </li>
                  <li>
                    <span class="notification"> via Email </span>
                    <span [class.icon-add]="!cancelemail" [class.icon-minus]="cancelemail"
                      (click)="cancelledCheckinemailAddClicked()"></span>
                    <div class="form-group" *ngIf="cancelemail">
                      <div class="input-group mb-3 emadd">
                        <input type="text" class="form-control" placeholder="Email" [(ngModel)]="notifycanclemail">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addCheknCanclemil()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="em1_arr.length > 0">
                      <li *ngFor="let emailcancl of em1_arr">{{emailcancl}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(emailcancl,em1_arr, 'cancelcheckin')"></i></li>
                    </ul>
                  </li>
                  <!-- <li>
                    <span class="notification">App notification</span>
                    <mat-slide-toggle class="example-margin" [(ngModel)]="cancelpush"
                      (change)="changePushMsgStatus('cancelcheckin')">
                    </mat-slide-toggle>
                  </li> -->
                  <li>
                    <span class="notification">App notification</span>
                    <span *ngIf="accountType==='BRANCH' || (accountType!=='BRANCH' && cheknCancelPushph_arr.length === 0)" [class.icon-add]="!cheknCancelPushph" [class.icon-minus]="cheknCancelPushph" (click)="cheknCancelPushAddClicked()"></span>
                    <div class="form-group" *ngIf="cheknCancelPushph">
                      <div class="input-group mb-3 phadd">
                        <input class="form-control" style="max-width: 50px !important;" type="text" readonly value="+91">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifycheknCancelPushphonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addcheknCancelPushPh()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="cheknCancelPushph_arr.length > 0">
                      <li *ngFor="let phne of cheknCancelPushph_arr">+91 {{phne}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phne, cheknCancelPushph_arr, 'newcheckin')"></i></li>
                    </ul>
                  </li>
                </ul>
              </section>
              <button *ngIf="okCancelStatus" (click)="checkinCancelNotifications('cancelcheckin')" type="button"
                mat-button class="cs-btn bt1 notifyOk">OK</button>
            </div>
          </mat-expansion-panel>

        </mat-accordion>
        <mat-accordion *ngIf="appointment_status">
          <mat-expansion-panel [expanded]="false">
            <mat-expansion-panel-header class="mgn-bt-10">
              <mat-panel-title class="block-level">Appointment Notifications<br>
                <span class="form-level-settings">{{mode_of_notify}}</span>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="rw col-md-12">
              <div class="form-group">
                <div style="display: flex">
                  <span class="notification" style="font-weight: 600"> Notify whenever appointment happens</span>
                  <mat-slide-toggle class="example-margin" (change)="selectApptNotify($event)"
                    [(ngModel)]="selApptNotify">
                  </mat-slide-toggle>
                </div>
              </div>
              <section class="leftselectAll" *ngIf="selApptNotify">
                <ul class="notifications">
                  <li>
                    <span class="notification"> via SMS </span>
                    <span [class.disabled]="is_noSMS" [class.icon-add]="!smsAppt" [class.icon-minus]="smsAppt" (click)="smsApptAddClicked()"></span>
                    <div class="sms_credit_warn" *ngIf="is_smsLow">{{smsWarnMsg}} <a (click)="gotoSmsAddon()">{{is_noSMS? 'Purchase now': 'Upgrade now'}}</a>{{is_noSMS? '' : ' to avoid undelivered SMS'}}</div>
                    <div class="form-group" *ngIf="smsAppt">
                      <div class="input-group mb-3 phadd">
                        <input class="form-control" style="max-width: 50px !important;" type="text" readonly value="+91">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifyApptphonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addApptPh()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="apptph_arr.length > 0">
                      <li *ngFor="let phne of apptph_arr">+91 {{phne}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phne, apptph_arr, 'newappointment')"></i></li>
                    </ul>
                  </li>
                  <li>
                    <span class="notification"> via Email</span>
                    <span [class.icon-add]="!emailAppt" [class.icon-minus]="emailAppt"
                      (click)="emailApptAddClicked()"></span>
                    <div class="form-group" *ngIf="emailAppt">
                      <div class="input-group mb-3 emadd">
                        <input type="text" class="form-control" placeholder="Email" [(ngModel)]="notifyApptemail">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default " (click)="addApptemail()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="apptem_arr.length > 0">
                      <li *ngFor="let emailval of apptem_arr">{{emailval}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(emailval, apptem_arr, 'newappointment')"></i></li>
                    </ul>
                  </li>
                  <!-- <li>
                    <span class="notification">App notification</span>
                    <mat-slide-toggle class="example-margin" [(ngModel)]="apptPush"
                      (change)="changePushMsgStatus('newappointment')">
                    </mat-slide-toggle>
                  </li> -->
                  <li>
                    <span class="notification">App notification</span>
                    <span *ngIf="accountType==='BRANCH' || (accountType!=='BRANCH' && apptPushph_arr.length === 0)" [class.icon-add]="!apptPushph" [class.icon-minus]="apptPushph" (click)="apptPushAddClicked()"></span>
                    <div class="form-group" *ngIf="apptPushph">
                      <div class="input-group mb-3 phadd">
                        <input class="form-control" style="max-width: 50px !important;" type="text" readonly value="+91">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifyapptPushphonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addapptPushPh()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="apptPushph_arr.length > 0">
                      <li *ngFor="let phne of apptPushph_arr">+91 {{phne}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phne, apptPushph_arr, 'newappointment')"></i></li>
                    </ul>
                  </li>
                </ul>
              </section>
              <button *ngIf="okApptStatus" (click)="apptNotifications('newappointment')" type="button" mat-button
                class="cs-btn bt1 notifyOk">OK</button>
            </div>
            <div class="rw col-md-12">
              <div class="form-group">
                <div style="display: flex">
                  <span class="notification" style="font-weight: 600"> Notify whenever appointment gets
                    cancelled</span>
                  <mat-slide-toggle class="example-margin" (change)="selectApptCanclNotify($event)"
                    [(ngModel)]="selApptCancelNotify">
                  </mat-slide-toggle>
                </div>
              </div>
              <section class="leftselectAll" *ngIf="selApptCancelNotify">
                <ul class="notifications">
                  <li>
                    <span class="notification"> via SMS</span>
                    <span [class.disabled]="is_noSMS" [class.icon-add]="!cancelsmsAppt" [class.icon-minus]="cancelsmsAppt"
                      (click)="cancelledApptsmsAddClicked()"></span>
                      <div class="sms_credit_warn" *ngIf="is_smsLow">{{smsWarnMsg}} <a (click)="gotoSmsAddon()">{{is_noSMS? 'Purchase now': 'Upgrade now'}}</a>{{is_noSMS? '' : ' to avoid undelivered SMS'}}</div>
                    <div class="form-group" *ngIf="cancelsmsAppt">
                      <div class="input-group mb-3 phadd">
                        <input class="form-control" style="max-width: 50px !important;" type="text" readonly value="+91">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifyApptcanclphonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addApptCanclph()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="apptph1_arr.length > 0">
                      <li *ngFor="let phnecancel_appt of apptph1_arr">+91 {{phnecancel_appt}} <i
                          class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phnecancel_appt, apptph1_arr, 'cancelappointment')"></i></li>
                    </ul>
                  </li>
                  <li>
                    <span class="notification"> via Email </span>
                    <span [class.icon-add]="!cancelemailAppt" [class.icon-minus]="cancelemailAppt"
                      (click)="cancelledApptemailAddClicked()"></span>
                    <div class="form-group" *ngIf="cancelemailAppt">
                      <div class="input-group mb-3 emadd">
                        <input type="text" class="form-control" placeholder="Email" [(ngModel)]="notifyApptcanclemail">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addApptCancelemail()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="apptem1_arr.length > 0">
                      <li *ngFor="let emailcancl of apptem1_arr">{{emailcancl}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(emailcancl, apptem1_arr, 'cancelappointment')"></i></li>
                    </ul>
                  </li>
                  <!-- <li>
                    <span class="notification">App notification</span>
                    <mat-slide-toggle class="example-margin" [(ngModel)]="cancelpushAppt"
                      (change)="changePushMsgStatus('cancelappointment')">
                    </mat-slide-toggle>
                  </li> -->
                  <li>
                    <span class="notification">App notification</span>
                    <span *ngIf="accountType==='BRANCH' || (accountType!=='BRANCH' && apptcancelPushph_arr.length === 0)" [class.icon-add]="!apptcancelPushph" [class.icon-minus]="apptcancelPushph" (click)="apptcancelPushAddClicked()"></span>
                    <div class="form-group" *ngIf="apptcancelPushph">
                      <div class="input-group mb-3 phadd">
                        <input class="form-control" style="max-width: 50px !important;" type="text" readonly value="+91">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifyapptcancelPushphonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addapptcancelPushPh()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="apptcancelPushph_arr.length > 0">
                      <li *ngFor="let phne of apptcancelPushph_arr">+91 {{phne}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phne, apptcancelPushph_arr, 'cancelappointment')"></i></li>
                    </ul>
                  </li>
                </ul>
              </section>
              <button *ngIf="okApptCancelStatus" (click)="apptCancelNotifications('cancelappointment')" type="button"
                mat-button class="cs-btn bt1 notifyOk">OK</button>
            </div>
          </mat-expansion-panel>
        </mat-accordion>

        <mat-accordion *ngIf="order_status">
          <mat-expansion-panel [expanded]="false">
            <mat-expansion-panel-header class="mgn-bt-10">
              <mat-panel-title class="block-level">Order Notifications<br>
                <span class="form-level-settings">{{mode_of_notify}}</span>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="rw col-md-12">
              <div class="form-group">
                <div style="display: flex">
                  <span class="notification" style="font-weight: 600"> Notify whenever Order happens</span>
                  <mat-slide-toggle class="example-margin" (change)="selectOrderNotify($event)"
                    [(ngModel)]="selOrderNotify">
                  </mat-slide-toggle>
                </div>
              </div>
              <section class="leftselectAll" *ngIf="selOrderNotify">
                <ul class="notifications">
                  <li>
                    <span class="notification"> via SMS </span>
                    <span [class.disabled]="is_noSMS" [class.icon-add]="!smsOrder" [class.icon-minus]="smsOrder" (click)="smsOrderAddClicked()"></span>
                    <div class="sms_credit_warn" *ngIf="is_smsLow">{{smsWarnMsg}} <a (click)="gotoSmsAddon()">{{is_noSMS? 'Purchase now': 'Upgrade now'}}</a>{{is_noSMS? '' : ' to avoid undelivered SMS'}}</div>
                    <div class="form-group" *ngIf="smsOrder">
                      <div class="input-group mb-3 phadd">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifyOrderphonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addOrderPh()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="orderph_arr.length > 0">
                      <li *ngFor="let phne of orderph_arr">{{phne}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phne, orderph_arr, 'neworder')"></i></li>
                    </ul>
                  </li>
                  <li>
                    <span class="notification"> via Email</span>
                    <span [class.icon-add]="!emailOrder" [class.icon-minus]="emailOrder"
                      (click)="emailOrderAddClicked()"></span>
                    <div class="form-group" *ngIf="emailOrder">
                      <div class="input-group mb-3 emadd">
                        <input type="text" class="form-control" placeholder="Email" [(ngModel)]="notifyOrderemail">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default " (click)="addOrderemail()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="orderem_arr.length > 0">
                      <li *ngFor="let emailval of orderem_arr">{{emailval}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(emailval, orderem_arr, 'neworder')"></i></li>
                    </ul>
                  </li>
                  <li>
                    <span class="notification">App notification</span>
                    <span *ngIf="accountType==='BRANCH'" [class.icon-add]="!orderPushph" [class.icon-minus]="orderPushph" (click)="orderPushAddClicked()"></span>
                    <div class="form-group" *ngIf="orderPushph">
                      <div class="input-group mb-3 phadd">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifyorderPushphonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addorderPushPh()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="apptPushph_arr.length > 0">
                      <li *ngFor="let phne of apptPushph_arr">{{phne}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phne, apptPushph_arr, 'neworder')"></i></li>
                    </ul>
                  </li>
                </ul>
              </section>
              <button *ngIf="okOrderStatus" (click)="orderNotifications('neworder')" type="button" mat-button
                class="cs-btn bt1 notifyOk">OK</button>
            </div>
            <div class="rw col-md-12">
              <div class="form-group">
                <div style="display: flex">
                  <span class="notification" style="font-weight: 600"> Notify whenever Order gets
                    cancelled</span>
                  <mat-slide-toggle class="example-margin" (change)="selectOrderCanclNotify($event)"
                    [(ngModel)]="selOrderCancelNotify">
                  </mat-slide-toggle>
                </div>
              </div>
              <section class="leftselectAll" *ngIf="selOrderCancelNotify">
                <ul class="notifications">
                  <li>
                    <span class="notification"> via SMS</span>
                    <span [class.disabled]="is_noSMS" [class.icon-add]="!cancelsmsOrder" [class.icon-minus]="cancelsmsOrder"
                      (click)="cancelleOrdersmsAddClicked()"></span>
                      <div class="sms_credit_warn" *ngIf="is_smsLow">{{smsWarnMsg}} <a (click)="gotoSmsAddon()">{{is_noSMS? 'Purchase now': 'Upgrade now'}}</a>{{is_noSMS? '' : ' to avoid undelivered SMS'}}</div>
                    <div class="form-group" *ngIf="cancelsmsOrder">
                      <div class="input-group mb-3 phadd">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifyOrdercanclphonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addOrderCanclph()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="orderph1_arr.length > 0">
                      <li *ngFor="let phnecancel_appt of orderph1_arr">{{phnecancel_appt}} <i
                          class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phnecancel_appt, orderph1_arr, 'cancelorder')"></i></li>
                    </ul>
                  </li>
                  <li>
                    <span class="notification"> via Email </span>
                    <span [class.icon-add]="!cancelemailOrder" [class.icon-minus]="cancelemailOrder"
                      (click)="cancelledOrderemailAddClicked()"></span>
                    <div class="form-group" *ngIf="cancelemailOrder">
                      <div class="input-group mb-3 emadd">
                        <input type="text" class="form-control" placeholder="Email" [(ngModel)]="notifyOrdercanclemail">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addOrderCancelemail()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="orderem1_arr.length > 0">
                      <li *ngFor="let emailcancl of orderem1_arr">{{emailcancl}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(emailcancl, orderem1_arr, 'cancelorder')"></i></li>
                    </ul>
                  </li>
                  <!-- <li>
                    <span class="notification">App notification</span>
                    <mat-slide-toggle class="example-margin" [(ngModel)]="cancelpushAppt"
                      (change)="changePushMsgStatus('cancelappointment')">
                    </mat-slide-toggle>
                  </li> -->
                  <li>
                    <span class="notification">App notification</span>
                    <span *ngIf="accountType==='BRANCH'" [class.icon-add]="!OrdercancelPushph" [class.icon-minus]="OrdercancelPushph" (click)="ordercancelPushAddClicked()"></span>
                    <div class="form-group" *ngIf="OrdercancelPushph">
                      <div class="input-group mb-3 phadd">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifyOrdercancelPushphonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addOrdercancelPushPh()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="ordercancelPushph_arr.length > 0">
                      <li *ngFor="let phne of ordercancelPushph_arr">{{phne}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phne, ordercancelPushph_arr, 'cancelorder')"></i></li>
                    </ul>
                  </li>
                </ul>
              </section>
              <button *ngIf="okOrderCancelStatus" (click)="OrderCancelNotifications('cancelorder')" type="button"
                mat-button class="cs-btn bt1 notifyOk">OK</button>
            </div>
          </mat-expansion-panel>
        </mat-accordion>


        <!-- </mat-expansion-panel>
        </mat-accordion> -->
        <mat-accordion *ngIf="donations_status">
          <mat-expansion-panel [expanded]="false">
            <mat-expansion-panel-header class="mgn-bt-10">
              <mat-panel-title class="block-level">Donation Notifications<br>
                <span class="form-level-settings">{{mode_of_notify}}</span>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="rw col-md-12">
              <div class="form-group">
                <div style="display: flex">
                  <span class="notification" style="font-weight: 600"> Notify whenever donation is received</span>
                  <mat-slide-toggle class="example-margin" (change)="selectDonatinNotify($event)"
                    [(ngModel)]="selDonatnNotify">
                  </mat-slide-toggle>
                </div>
              </div>
              <section class="leftselectAll" *ngIf="selDonatnNotify">
                <ul class="notifications">
                  <li>
                    <span class="notification"> via SMS </span>
                    <span [class.disabled]="is_noSMS" [class.icon-add]="!smsDonate" [class.icon-minus]="smsDonate"
                      (click)="smsDonateAddClicked()"></span>
                      <div class="sms_credit_warn" *ngIf="is_smsLow">{{smsWarnMsg}} <a (click)="gotoSmsAddon()">{{is_noSMS? 'Purchase now': 'Upgrade now'}}</a>{{is_noSMS? '' : ' to avoid undelivered SMS'}}</div>
                    <div class="form-group" *ngIf="smsDonate">
                      <div class="input-group mb-3 phadd">
                        <input class="form-control" style="max-width: 50px !important;" type="text" readonly value="+91">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifyDonatephonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addDonatePh()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="donateph_arr.length > 0">
                      <li *ngFor="let phne of donateph_arr">+91 {{phne}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phne, donateph_arr, 'newdonation')"></i></li>
                    </ul>
                  </li>
                  <li>
                    <span class="notification"> via Email</span>
                    <span [class.icon-add]="!emaildonate" [class.icon-minus]="emaildonate"
                      (click)="emaildonateAddClicked()"></span>
                    <div class="form-group" *ngIf="emaildonate">
                      <div class="input-group mb-3 emadd">
                        <input type="text" class="form-control" placeholder="Email" [(ngModel)]="notifydonateemail">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default " (click)="addDonatemail()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="donateem_arr.length > 0">
                      <li *ngFor="let emailval of donateem_arr">{{emailval}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(emailval, donateem_arr, 'newdonation')"></i></li>
                    </ul>
                  </li>
                  <!-- <li>
                    <span class="notification">App notification</span>
                    <mat-slide-toggle class="example-margin" [(ngModel)]="donatePush"
                      (change)="changePushMsgStatus('newdonation')">
                    </mat-slide-toggle>
                  </li> -->
                  <li>
                    <span class="notification"> App notification </span>
                    <span *ngIf="accountType==='BRANCH' || (accountType!=='BRANCH' && donatepushph_arr.length === 0)" [class.icon-add]="!pushAppDonate" [class.icon-minus]="pushAppDonate"
                      (click)="pushAppDonateAddClicked()"></span>
                    <div class="form-group" *ngIf="pushAppDonate">
                      <div class="input-group mb-3 phadd">
                        <input class="form-control" style="max-width: 50px !important;" type="text" readonly value="+91">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifypushDonatephonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addpushDonatePh()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="donatepushph_arr.length > 0">
                      <li *ngFor="let phne of donatepushph_arr">+91 {{phne}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phne, donatepushph_arr, 'newdonation')"></i></li>
                    </ul>
                  </li>
                </ul>
              </section>
              <button *ngIf="okDonateStatus" (click)="donateNotifications('newdonation')" type="button" mat-button
                class="cs-btn bt1 notifyOk">OK</button>
            </div>
            <!-- <div class="rw col-md-12">
              <div class="form-group">
                <div style="display: flex">
                  <span class="notification" style="font-weight: 600"> Notify whenever appointment gets
                    cancelled</span>
                  <mat-slide-toggle class="example-margin" (change)="selectApptCanclNotify($event)"
                    [(ngModel)]="selApptCancelNotify">
                  </mat-slide-toggle>
                </div>
              </div>
              <section class="leftselectAll" *ngIf="selApptCancelNotify">
                <ul class="notifications">
                  <li>
                    <span class="notification"> via SMS</span>
                    <span [class.icon-add]="!cancelsmsAppt" [class.icon-minus]="cancelsmsAppt"
                      (click)="cancelledApptsmsAddClicked()"></span>
                    <div class="form-group" *ngIf="cancelsmsAppt">
                      <div class="input-group mb-3 phadd">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifyApptcanclphonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addApptCanclph()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="apptph1_arr.length > 0">
                      <li *ngFor="let phnecancel_appt of apptph1_arr">{{phnecancel_appt}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phnecancel_appt, apptph1_arr, 'cancelappointment')"></i></li>
                    </ul>
                  </li>
                  <li>
                    <span class="notification"> via Email </span>
                    <span [class.icon-add]="!cancelemailAppt" [class.icon-minus]="cancelemailAppt"
                      (click)="cancelledApptemailAddClicked()"></span>
                    <div class="form-group" *ngIf="cancelemailAppt">
                      <div class="input-group mb-3 emadd">
                        <input type="text" class="form-control" placeholder="Email" [(ngModel)]="notifyApptcanclemail">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addApptCancelemail()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="apptem1_arr.length > 0">
                      <li *ngFor="let emailcancl of apptem1_arr">{{emailcancl}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(emailcancl, apptem1_arr, 'cancelappointment')"></i></li>
                    </ul>
                  </li>
                  <li>
                    <span class="notification">App notification</span>
                    <mat-slide-toggle class="example-margin" [(ngModel)]="cancelpushAppt"
                      (change)="changePushMsgStatus('cancelappointment')">
                    </mat-slide-toggle>
                  </li>
                </ul>
              </section>
              <button *ngIf="okApptCancelStatus" (click)="apptCancelNotifications('cancelappointment')" type="button"
                mat-button class="cs-btn bt1 notifyOk">OK</button>
            </div> -->
          </mat-expansion-panel>
        </mat-accordion>
     
     
        <mat-accordion >
          <mat-expansion-panel [expanded]="false">
            <mat-expansion-panel-header class="mgn-bt-10">
              <mat-panel-title class="block-level">Account Notifications<br>
                <span class="form-level-settings">{{mode_of_notify}}</span>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div class="rw col-md-12">
              <div class="form-group">
                <div style="display: flex">
                  <span class="notification" style="font-weight: 600"> Notify whenever license package changes</span>
                  <mat-slide-toggle class="example-margin" (change)="selectSystemNotify($event)"
                    [(ngModel)]="selSystemNotify">
                  </mat-slide-toggle>
                </div>
              </div>
              <section class="leftselectAll" *ngIf="selSystemNotify">
                <ul class="notifications">
                  <li>
                    <span class="notification"> via SMS </span>
                    <span [class.disabled]="is_noSMS" [class.icon-add]="!smsSystem" [class.icon-minus]="smsSystem"
                      (click)="smsSystemAddClicked()"></span>
                      <div class="sms_credit_warn" *ngIf="is_smsLow">{{smsWarnMsg}} <a (click)="gotoSmsAddon()">{{is_noSMS? 'Purchase now': 'Upgrade now'}}</a>{{is_noSMS? '' : ' to avoid undelivered SMS'}}</div>
                    <div class="form-group" *ngIf="smsSystem">
                      <div class="input-group mb-3 phadd">
                        <input class="form-control" style="max-width: 50px !important;" type="text" readonly value="+91">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifySystemphonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addSystemPh()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="systemph_arr.length > 0">
                      <li *ngFor="let phne of systemph_arr">+91 {{phne}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phne, systemph_arr, 'newsystem')"></i></li>
                    </ul>
                  </li>
                  <li>
                    <span class="notification"> via Email</span>
                    <span [class.icon-add]="!emailsystem" [class.icon-minus]="emailsystem"
                      (click)="emailsystemAddClicked()"></span>
                    <div class="form-group" *ngIf="emailsystem">
                      <div class="input-group mb-3 emadd">
                        <input type="text" class="form-control" placeholder="Email" [(ngModel)]="notifysystememail">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default " (click)="addSystemmail()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="systemem_arr.length > 0">
                      <li *ngFor="let emailval of systemem_arr">{{emailval}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(emailval, systemem_arr, 'newsystem')"></i></li>
                    </ul>
                  </li>
                  <!-- <li>
                    <span class="notification">App notification</span>
                    <mat-slide-toggle class="example-margin" [(ngModel)]="systemPush"
                      (change)="changePushMsgStatus('newsystem')">
                    </mat-slide-toggle>
                  </li> -->

                  <li>
                    <span class="notification"> App notification </span>
                    <span *ngIf="accountType==='BRANCH' || (accountType!=='BRANCH' && pushsystemph_arr.length === 0)" [class.icon-add]="!pushSystem" [class.icon-minus]="pushSystem"
                      (click)="pushSystemAddClicked()"></span>
                    <div class="form-group" *ngIf="pushSystem">
                      <div class="input-group mb-3 phadd">
                        <input class="form-control" style="max-width: 50px !important;" type="text" readonly value="+91">
                        <input type="text" class="form-control" placeholder="Phonenumber" (keypress)="isNumeric($event)"
                          [(ngModel)]="notifypushSystemphonenumber" minlength="0" maxlength="10">
                        <div class="input-group-append">
                          <button class="btn bt3 btn-default" (click)="addpushSystemPh()" type="button">Add</button>
                        </div>
                      </div>
                    </div>
                    <ul *ngIf="pushsystemph_arr.length > 0">
                      <li *ngFor="let phne of pushsystemph_arr">+91 {{phne}} <i class="pointer-cursor icon-delete"
                          (click)="removePhEmail(phne, pushsystemph_arr, 'newsystem')"></i></li>
                    </ul>
                  </li>
                </ul>
              </section>
              <button *ngIf="okSystemStatus" (click)="systemNotifications('newsystem')" type="button" mat-button
                class="cs-btn bt1 notifyOk">OK</button>
            </div>
          </mat-expansion-panel>
        </mat-accordion>
     
      </div>
    </div>
  </div>
</section>