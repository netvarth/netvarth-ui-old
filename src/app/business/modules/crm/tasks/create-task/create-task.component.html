<!-----card header start-->
<section class="card">
    <div class="title-gb no-padding">
        <div class="dash-head">&nbsp;&nbsp;&nbsp;
            <div style="display:flex;gap:5px">
                <div *ngIf="!api_loading_CreateActivity">
                    <i style="color:#1D3E77 !important" class="fa fa-arrow-left pointer-cursor" (click)="goback()"></i>
                </div>
                <div style="color: #1D3E77;" *ngIf="selectHeader">{{selectHeader}}</div>
            </div>
        </div>
    </div>
</section>
<app-common-innerloading-spinner *ngIf="api_loading"></app-common-innerloading-spinner>
<section class="card" *ngIf="taskMasterData">
    <div class=" card bgColor inputwithImg">
        <div class="noImg">
            <form [formGroup]="createTaskForm">
                <div *ngIf="(taskMasterData && taskMasterData.title && taskMasterData.title.isvisible)|| 
                    (taskMasterData && taskMasterData.description && taskMasterData.description.isvisible)||
                    (taskMasterData && taskMasterData.category && taskMasterData.category.isvisible)||
                    (taskMasterData && taskMasterData.type && taskMasterData.type.isvisible)||
                    (taskMasterData && taskMasterData.location && taskMasterData.location.isvisible)">
                    <span class="group-head" *ngIf="selectHeader">{{selectHeader}} details</span><br>
                    <div class="bggrey my-2">
                        <div *ngIf="taskMasterData && taskMasterData.title && taskMasterData.title.isvisible">
                            <div class="taskTitle" *ngIf="activityTitleField">
                                <div>{{activityTitleField}}</div>
                                <div class="astericColor">*</div>
                            </div>
                            <div class="fieldPadding"
                                [ngClass]="{'highlight': !(taskMasterData && taskMasterData.title && taskMasterData.title.iseditable)}">
                                <input (keyup)="resetErrors()" type="text" #taskTitle
                                    (ngModelChange)="hamdleTaskTitle(taskTitle.value)" placeholder="{{activityTitle}}"
                                    class="form-control" formControlName="taskTitle" autocomplete="off"
                                    [readonly]="!(taskMasterData && taskMasterData.title && taskMasterData.title.iseditable)"
                                    [value]="taskTitle" />
                                <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                    *ngIf="taskError" errorMsg="{{taskError}}">
                                </app-field-error-display>
                            </div>
                        </div>
                        <div
                            *ngIf="taskMasterData && taskMasterData.description && taskMasterData.description.isvisible">
                            <div class="taskTitle" *ngIf="activityDescriptionField">
                                <div>{{activityDescriptionField}}</div>
                            </div>
                            <div class="fieldPadding"
                                [ngClass]="{'highlight': !(taskMasterData && taskMasterData.description && taskMasterData.description.iseditable)}">
                                <textarea rowa="10" class="form-control" formControlName="taskDescription"
                                    #taskDescription (change)="handleTaskDescription(taskDescription.value)"
                                    (keyup)="autoGrowTextZone($event)" maxlength="1000"
                                    placeholder="{{activityDescription}}"
                                    [readonly]="!(taskMasterData && taskMasterData.description && taskMasterData.description.iseditable)">
                        </textarea>
                                <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                    *ngIf="taskError" errorMsg="{{taskError}}">
                                </app-field-error-display>
                            </div>
                        </div>
                        <div style="display: flex;gap: 5px">
                            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding"
                                *ngIf="taskMasterData && taskMasterData.category && taskMasterData.category.isvisible">
                                <div class="taskTitle" *ngIf="categoryLabelname">
                                    <div>{{categoryLabelname}}</div>
                                    <div class="astericColor">*</div>
                                </div>
                                <div class="fieldPadding"
                                    [ngClass]="{'highlight': !(taskMasterData && taskMasterData.category && taskMasterData.category.iseditable)}">
                                    <mat-select class="form-control widthWebKit" placeholder="Enter Category"
                                        [disabled]="!(taskMasterData && taskMasterData.category && taskMasterData.category.iseditable)"
                                        #userTaskCategory formControlName="userTaskCategory">
                                        <mat-option *ngFor="let item of categoryListData[0];let index=i"
                                            [value]="item.id"
                                            (selectionChange)="handleTaskCategorySelection(userTaskCategory.value)">
                                            <div>
                                                {{item.name}}
                                            </div>
                                        </mat-option>
                                    </mat-select>
                                </div>
                            </div>
                            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding"
                                *ngIf="taskMasterData && taskMasterData.type && taskMasterData.type.isvisible">
                                <div class="taskTitle" *ngIf="labelType">
                                    <div>{{labelType}}</div>
                                    <div class="astericColor">*</div>
                                </div>
                                <div class="fieldPadding"
                                    [ngClass]="{'highlight': !(taskMasterData && taskMasterData.type && taskMasterData.type.iseditable)}">
                                    <mat-select class="form-control widthWebKit" placeholder="Enter Type"
                                        [disabled]="!(taskMasterData && taskMasterData.type && taskMasterData.type.iseditable)"
                                        #userTaskType formControlName="userTaskType">
                                        <mat-option *ngFor="let item of taskTypeList[0];let index=i" [value]="item.id"
                                            (selectionChange)="handleTaskTypeSelection(userTaskType.value)">
                                            <div>
                                                {{item.name}}
                                            </div>
                                        </mat-option>
                                    </mat-select>
                                </div>
                            </div>
                        </div>
                        <div style="display: flex;gap: 5px">
                            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding"
                                *ngIf="taskMasterData && taskMasterData.location && taskMasterData.location.isvisible">
                                <div class="taskTitle" *ngIf="labelLocation">
                                    <div>{{labelLocation}}</div>
                                    <div class="astericColor">*</div>
                                </div>
                                <div class="fieldPadding"
                                    [ngClass]="{'highlight': !(taskMasterData && taskMasterData.location && taskMasterData.location.iseditable)}">
                                    <input (keyup)="resetErrors()" type="text" #taskLocation
                                        placeholder="Enter activity location" class="form-control widthWebKit"
                                        formControlName="taskLocation" autocomplete="off"
                                        [readonly]="!(taskMasterData && taskMasterData.location && taskMasterData.location.iseditable)"
                                        [value]="taskLocation.name" />
                                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                        *ngIf="taskError" errorMsg="{{taskError}}">
                                    </app-field-error-display>
                                </div>
                            </div>
                            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding"
                                *ngIf="taskMasterData && taskMasterData.locationArea && taskMasterData.locationArea.isvisible">
                                <div class="taskTitle" *ngIf="labelArea">
                                    <div>{{labelArea}}</div>
                                </div>
                                <div class="fieldPadding"
                                    [ngClass]="{'highlight': !(taskMasterData && taskMasterData.locationArea && taskMasterData.locationArea.iseditable)}">
                                    <input (keyup)="resetErrors()" type="text"
                                        [readonly]="!(taskMasterData && taskMasterData.locationArea && taskMasterData.locationArea.iseditable)"
                                        placeholder="" class="form-control widthWebKit" formControlName="areaName"
                                        autocomplete="off" />
                                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                        *ngIf="taskError" errorMsg="{{taskError}}">
                                    </app-field-error-display>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="(taskMasterData && taskMasterData.assignee && taskMasterData.assignee.isvisible)|| 
                    (taskMasterData && taskMasterData.manager && taskMasterData.manager.isvisible)">
                    <div style="display: flex;gap: 5px;">
                        <div class="group-head"
                            *ngIf="taskMasterData && taskMasterData.assignee && taskMasterData.assignee.isvisible ===true && labelActivityManager">
                            {{labelActivityManager|slice:0:25}}
                        </div>
                        <div class="group-head" style="display: none;"
                            *ngIf="taskMasterData && taskMasterData.assignee && taskMasterData.assignee.isvisible === false && labelActivityManager">
                            {{labelActivityManager|slice:0:25}}
                        </div>
                        <div class="group-head"
                            *ngIf="taskMasterData && taskMasterData.manager && taskMasterData.manager.isvisible===true && labelActivityManager">
                            <!-- and manager -->
                            {{labelActivityManager|slice:27:37}}
                        </div>
                        <div class="group-head" style="display: none;"
                            *ngIf="taskMasterData && taskMasterData.manager && taskMasterData.manager.isvisible===false && labelActivityManager">
                            {{labelActivityManager|slice:27:37}}
                        </div>
                    </div>
                    <div class="bggrey my-2">
                        <div *ngIf="taskMasterData && taskMasterData.assignee && taskMasterData.assignee.isvisible">
                            <div class="taskTitle" *ngIf="labelEmployee">
                                <div>{{labelEmployee}}</div>
                                <div class="astericColor">*</div>
                            </div>
                            <div class="fieldPadding"
                                [ngClass]="{'highlight': !(taskMasterData && taskMasterData.assignee && taskMasterData.assignee.iseditable)}">
                                <div>
                                    <div formControlName="selectMember" class="form-control"
                                        style="display: flex;justify-content: space-between;"
                                        (click)="selectMemberDialog(selectMember)">
                                        <div>{{selectMember}}</div>
                                        <div style="cursor: pointer;"><i class="fa fa-user" aria-hidden="true"></i>
                                        </div>
                                    </div>
                                </div>
                                <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                    *ngIf="taskError" errorMsg="{{taskError}}">
                                </app-field-error-display>
                            </div>
                        </div>
                        <div *ngIf="taskMasterData && taskMasterData.manager && taskMasterData.manager.isvisible">
                            <div class="taskTitle" *ngIf="labelManager">
                                <div>{{labelManager}}</div>
                            </div>
                            <div class="fieldPadding"
                                [ngClass]="{'highlight': !(taskMasterData && taskMasterData.manager && taskMasterData.manager.iseditable)}">
                                <div>
                                    <div formControlName="selectTaskManger" class="form-control"
                                        style="display: flex;justify-content: space-between;"
                                        (click)="selectManagerDialog(selectTaskManger)">
                                        <div>{{selectTaskManger}}</div>
                                        <div style="cursor: pointer;"><i class="fa fa-user" aria-hidden="true"></i>
                                        </div>
                                    </div>
                                </div>
                                <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                    *ngIf="taskError" errorMsg="{{taskError}}">
                                </app-field-error-display>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="(taskMasterData && taskMasterData.dueDate && taskMasterData.dueDate.isvisible)|| 
                    (taskMasterData && taskMasterData.estDuration && taskMasterData.estDuration.isvisible)||
                    (taskMasterData && taskMasterData.priority && taskMasterData.priority.isvisible)">
                    <div>
                        <div class="group-head"
                            *ngIf="taskMasterData && taskMasterData.dueDate && taskMasterData.dueDate.isvisible===true">
                            {{labelActivitydateOther | slice:0:14}}
                        </div>
                        <div class="group-head" style="display: none;"
                            *ngIf="taskMasterData && taskMasterData.dueDate && taskMasterData.dueDate.isvisible===false">
                            {{labelActivitydateOther | slice:0:14}}
                        </div>
                        <div class="group-head"
                            *ngIf="(taskMasterData && taskMasterData.estDuration && taskMasterData.estDuration.isvisible===true)">
                            Other info
                            {{labelActivitydateOther | slice:15:25}}
                        </div>
                        <div class="group-head" style="display: none;"
                            *ngIf="(taskMasterData && taskMasterData.estDuration && taskMasterData.estDuration.isvisible===false)">
                            {{labelActivitydateOther | slice:15:25}}
                        </div>
                        <div class="group-head"
                            *ngIf="(taskMasterData && taskMasterData.priority && taskMasterData.priority.isvisible===true)">
                            {{labelActivitydateOther | slice:15:25}}
                        </div>
                        <div class="group-head" style="display: none;"
                            *ngIf="(taskMasterData && taskMasterData.priority && taskMasterData.priority.isvisible===false)">
                            {{labelActivitydateOther | slice:15:25}}
                        </div>
                    </div>
                    <div class="bggrey my-2">
                        <div style="display: flex;gap: 5px;flex-wrap: wrap;">
                            <div class="lbl col-sm-8 col-md-6 col-lg-6 no-padding"
                                *ngIf="taskMasterData && taskMasterData.dueDate && taskMasterData.dueDate.isvisible">
                                <div class="taskTitle" *ngIf="labelDueDate">
                                    <div>{{labelDueDate}}</div>
                                </div>
                                <div class="pickerouter fieldPadding dt dateWithMatDtae">
                                    <input formControlName="taskDate" class="form-control widthWebKit positionNameInput"
                                        type="text"
                                        [ngClass]="{'highlight': !(taskMasterData && taskMasterData.dueDate && taskMasterData.dueDate.iseditable)}"
                                        matInput [matDatepicker]="picker" [value]="ddate"
                                        (dateChange)="handleDateChange($event)" placeholder="Enter Date" #taskDate>
                                    <mat-datepicker-toggle matSuffix [for]="picker">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker [dateClass]="dateClass.bind(this)">
                                    </mat-datepicker>
                                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                        *ngIf="taskError" errorMsg="{{taskError}}">
                                    </app-field-error-display>
                                </div>
                            </div>

                            <div class="lbl col-sm-8 col-md-7 col-lg-6 no-padding"
                                *ngIf="taskMasterData && taskMasterData.estDuration && taskMasterData.estDuration.isvisible">
                                <div class="taskTitle" *ngIf="labelEstDuration">
                                    <div>{{labelEstDuration}}</div>
                                </div>
                                <div class="fieldPadding d-flex" style="gap: 5px;flex-wrap: wrap;"
                                    *ngIf="createBTimeField"
                                    [ngClass]="{'highlight': !(taskMasterData && taskMasterData.estDuration && taskMasterData.estDuration.iseditable)}">
                                    <div class="estField">
                                        <div class="secondEst">
                                            <input id="days" [value]="taskDays" (keyup)="resetErrors()" type="number"
                                                #taskDays (ngModelChange)="handleTaskEstDuration(taskDays.value)"
                                                placeholder="{{labelEstDays}}" class="form-control widthWebKit"
                                                formControlName="taskDays"
                                                [readonly]="!(taskMasterData && taskMasterData.estDuration && taskMasterData.estDuration.iseditable)"
                                                autocomplete="off" min="0" />
                                        </div>
                                        <div class="timeField" *ngIf="labelEstDays">{{labelEstDays}}</div>
                                    </div>
                                    <div class="estField">
                                        <div class="secondEst">
                                            <input id="hrs" [value]="taskHrs" (keyup)="resetErrors()" type="number"
                                                #taskHrs (ngModelChange)="handleTaskEstDuration(taskHrs.value)"
                                                placeholder="{{labelEstHours}}" class="form-control widthWebKit"
                                                formControlName="taskHrs"
                                                [readonly]="!(taskMasterData && taskMasterData.estDuration && taskMasterData.estDuration.iseditable)"
                                                autocomplete="off" min="0" max="23" />
                                        </div>
                                        <div class="timeField" *ngIf="labelEstHours"> {{labelEstHours}} </div>
                                    </div>
                                    <div class="estField">
                                        <div class="secondEst">
                                            <input id="min" [value]="taskMin" (keyup)="resetErrors()" type="number"
                                                #taskMin (ngModelChange)="handleTaskEstDuration(taskMin.value)"
                                                placeholder="{{labelMinutes}}" class="form-control widthWebKit"
                                                formControlName="taskMin"
                                                [readonly]="!(taskMasterData && taskMasterData.estDuration && taskMasterData.estDuration.iseditable)"
                                                autocomplete="off" min="0" max="59" />
                                        </div>
                                        <div class="timeField" *ngIf="labelMinutes">{{labelMinutes}}</div>
                                    </div>
                                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                        *ngIf="taskError" errorMsg="{{taskError}}">
                                    </app-field-error-display>
                                </div>
                                <div class="fieldPadding" *ngIf="updateBTimefield">
                                    <div *ngIf="updateValue" class="form-control"
                                        style="display: flex !important;justify-content: space-between;align-items: center;">
                                        <div style="display: flex;gap: 5px;align-items: center;"
                                            *ngIf="(updateValue && updateValue.estDuration)">
                                            <div *ngIf="(updateValue.estDuration.days)">
                                                {{updateValue.estDuration.days}}days,</div>
                                            <div *ngIf="(updateValue.estDuration.hours)">
                                                {{updateValue.estDuration.hours}}hours,</div>
                                            <div *ngIf="(updateValue.estDuration.minutes)">
                                                {{updateValue.estDuration.minutes}}minutes</div>
                                        </div>
                                        <div style="cursor: pointer;" (click)="openTimeField()">
                                            <mat-icon>access_time</mat-icon>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="taskMasterData && taskMasterData.priority && taskMasterData.priority.isvisible">
                            <div class="taskTitle" *ngIf="labelPriority">
                                <div>{{labelPriority}}</div>
                            </div>
                            <div class="fieldPadding"
                                [ngClass]="{'highlight': !(taskMasterData && taskMasterData.priority && taskMasterData.priority.iseditable)}">
                                <mat-select class="form-control" placeholder="Select Priority"
                                    [disabled]="!(taskMasterData && taskMasterData.priority && taskMasterData.priority.iseditable)"
                                    #userTaskPriority formControlName="userTaskPriority">
                                    <mat-option *ngFor="let item of taskPriorityList[0];let index=i" [value]="item.id">
                                        <div *ngIf="item && item.name">{{item.name}}</div>
                                    </mat-option>
                                </mat-select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bggrey my-2" *ngIf="(taskMasterData && taskMasterData.status && taskMasterData.status.isvisible)|| 
                    (taskMasterData && taskMasterData.targetResult && taskMasterData.targetResult.isvisible)||
                    (taskMasterData && taskMasterData.targetPotential && taskMasterData.targetPotential.isvisible)">
                    <div style="display: flex;gap: 5px">
                        <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding"
                            *ngIf="taskMasterData && taskMasterData.status && taskMasterData.status.isvisible">
                            <div class="taskTitle" *ngIf="labelStatus">
                                <div>{{labelStatus}}</div>
                            </div>
                            <div class="fieldPadding"
                                [ngClass]="{'highlight': !(taskMasterData && taskMasterData.status && taskMasterData.status.iseditable)}">
                                <mat-select class="form-control widthWebKit" placeholder="Enter activity status"
                                    [disabled]="!(taskMasterData && taskMasterData.status && taskMasterData.status.iseditable)"
                                    #taskStatus formControlName="taskStatus" name="item">
                                    <mat-option *ngFor="let item of taskStatusList[0];let index=i" [value]="item.id">
                                        <div *ngIf="item && item.name" [ngStyle]="{'color': getColor(item.name)}">
                                            {{item.name | capitalizeFirst}}
                                        </div>
                                    </mat-option>
                                </mat-select>
                                <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                    *ngIf="taskError" errorMsg="{{taskError}}">
                                </app-field-error-display>
                            </div>
                        </div>
                    </div>
                    <div style="display: flex;gap: 5px">
                        <div class="lbl col-sm-8 col-md-7 col-lg-6 no-padding"
                            *ngIf="taskMasterData && taskMasterData.targetResult && taskMasterData.targetResult.isvisible">
                            <div class="taskTitle" *ngIf="labelTargetPotential">
                                <div>{{labelTargetPotential}}</div>
                            </div>
                            <div class="fieldPadding"
                                [ngClass]="{'highlight': !(taskMasterData && taskMasterData.targetResult && taskMasterData.targetResult.iseditable)}">
                                <input (keyup)="resetErrors()" type="text" #targetResult placeholder="Enter potential"
                                    class="form-control widthWebKit" formControlName="targetResult"
                                    [readonly]="!(taskMasterData && taskMasterData.targetResult && taskMasterData.targetResult.iseditable)"
                                    autocomplete="off" />
                            </div>
                        </div>
                        <div class="lbl col-sm-8 col-md-7 col-lg-6 no-padding"
                            *ngIf="taskMasterData && taskMasterData.targetPotential && taskMasterData.targetPotential.isvisible">
                            <div class="taskTitle" *ngIf="labelBusinessPotential">
                                <div>{{labelBusinessPotential}}</div>
                            </div>
                            <div class="fieldPadding"
                                [ngClass]="{'highlight': !(taskMasterData && taskMasterData.targetPotential && taskMasterData.targetPotential.iseditable)}">
                                <input min="0" (keyup)="resetErrors()" type="text" #targetPotential
                                    [readonly]="!(taskMasterData && taskMasterData.targetPotential && taskMasterData.targetPotential.iseditable)"
                                    placeholder="Enter ({{rupee_symbol}})" class="form-control widthWebKit"
                                    formControlName="targetPotential" autocomplete="off" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bggrey my-2"
                    *ngIf="(taskMasterData && taskMasterData.actualPotential && taskMasterData.actualPotential.isvisible)">
                    <div style="display: flex;gap: 5px">
                        <div class="lbl col-sm-8 col-md-7 col-lg-6 no-padding"
                            *ngIf="taskMasterData && taskMasterData.actualPotential && taskMasterData.actualPotential.isvisible">
                            <div class="taskTitle" *ngIf="labelResult">
                                <div>{{labelResult}}</div>
                            </div>
                            <div class="fieldPadding"
                                [ngClass]="{'highlight': !(taskMasterData && taskMasterData.actualPotential && taskMasterData.actualPotential.iseditable)}">
                                <input (keyup)="resetErrors()" type="number" #actualPotential placeholder="Enter result"
                                    min="0" class="form-control widthWebKit" formControlName="actualPotential"
                                    [readonly]="!(taskMasterData && taskMasterData.actualPotential && taskMasterData.actualPotential.iseditable)"
                                    autocomplete="off" />
                            </div>
                        </div>
                    </div>
                </div>
                <div style="text-align: center;margin-top: 15px;">
                    <ng-container>
                        <div class=" mgn-bt-20 mgn-up-10">
                            <button [ngClass]="{'cursorDiasable':  api_loading_CreateActivity}" type="button"
                                class="btn btn-primary font-weight-bold cancelBtn"
                                (click)="!api_loading_CreateActivity && goback()" *ngIf="cancelBtn">{{cancelBtn}}
                            </button>
                            <button [ngClass]="{'cursorDiasable':  api_loading_CreateActivity}" type="button"
                                (click)="saveCreateTask()" class="btn btn-primary font-weight-bold confirmBtn">
                                <app-common-innerloading-spinner *ngIf="api_loading_CreateActivity">
                                </app-common-innerloading-spinner>
                                <span *ngIf="!api_loading_CreateActivity">{{saveBtn}}</span>
                            </button>
                        </div>
                    </ng-container>
                </div>
            </form>
        </div>
    </div>
</section>
<section class="card" *ngIf="!taskMasterData">
    <div class=" card bgColor inputwithImg">
        <div class="noImg">
            <form [formGroup]="createTaskForm">
                <span class="group-head" *ngIf="selectHeader">{{selectHeader}} details</span><br>
                <div class="bggrey my-2" *ngIf="selectHeader">
                    <div>
                        <div class="taskTitle" *ngIf="activityTitleField">
                            <div>{{activityTitleField}}</div>
                            <div class="astericColor">*</div>
                        </div>
                        <div class="fieldPadding">
                            <input (keyup)="resetErrors()" type="text" #taskTitle
                                (ngModelChange)="hamdleTaskTitle(taskTitle.value)" placeholder="{{activityTitle}}"
                                class="form-control" formControlName="taskTitle" autocomplete="off"
                                [value]="taskTitle" />
                            <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                *ngIf="taskError" errorMsg="{{taskError}}">
                            </app-field-error-display>
                            <div *ngIf="bErrormsg || errorMsgAny" style="color: #f24949 !important;font-size: 12px;">
                                {{errorMsgAny}}
                            </div>
                        </div>
                    </div>
                    <div>
                        <div class="taskTitle" *ngIf="activityDescriptionField">
                            <div>{{activityDescriptionField}}</div>
                        </div>
                        <div class="fieldPadding">
                            <textarea rowa="10" class="form-control" formControlName="taskDescription" #taskDescription
                                (change)="handleTaskDescription(taskDescription.value)"
                                (keyup)="autoGrowTextZone($event)" maxlength="1000"
                                placeholder="{{activityDescription}}">
                        </textarea>
                            <app-field-error-display [displayError]="true"
                                style="color: #f24949 !important;font-size: 12px;" *ngIf="taskError"
                                errorMsg="{{taskError}}">
                            </app-field-error-display>
                        </div>
                    </div>
                    <div style="display: flex;gap: 5px">
                        <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                            <div class="taskTitle" *ngIf="categoryLabelname">
                                <div>{{categoryLabelname}}</div>
                                <div class="astericColor">*</div>
                            </div>
                            <div class="fieldPadding">
                                <mat-select class="form-control widthWebKit" placeholder="Enter Category"
                                    #userTaskCategory formControlName="userTaskCategory"
                                    (selectionChange)="handleTaskCategorySelection(userTaskCategory.value)">
                                    <mat-option *ngFor="let item of categoryListData[0];let index=i" [value]="item.id"
                                        (ngModelChange)="handleTaskCategorySelection(userTaskCategory.value)">
                                        <div *ngIf="item && item.name">{{item.name}}</div>
                                    </mat-option>
                                </mat-select>
                            </div>
                            <div *ngIf="bErrormsgCategory || errorMsgAnyCategory"
                                style="color: #f24949 !important;font-size: 12px;">
                                {{errorMsgAnyCategory}}</div>
                        </div>
                        <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                            <div class="taskTitle" *ngIf="labelType">
                                <div>{{labelType}}</div>
                                <div class="astericColor">*</div>
                            </div>
                            <div class="fieldPadding">
                                <mat-select class="form-control widthWebKit" placeholder="Enter Type" #userTaskType
                                    formControlName="userTaskType"
                                    (selectionChange)="handleTaskTypeSelection(userTaskType.value)">
                                    <mat-option *ngFor="let item of taskTypeList[0];let index=i" [value]="item.id"
                                        (ngModelChange)="handleTaskTypeSelection(userTaskType.value)">
                                        <div>
                                            {{item.name}}
                                        </div>
                                    </mat-option>
                                </mat-select>
                            </div>
                            <div *ngIf="bErrormsgType || errorMsgAnyType"
                                style="color: #f24949 !important;font-size: 12px;">
                                {{errorMsgAnyType}}</div>
                        </div>
                    </div>
                    <div style="display: flex;gap: 5px">
                        <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                            <div class="taskTitle" *ngIf="labelLocation">
                                <div>{{labelLocation}}</div>
                                <div class="astericColor">*</div>
                            </div>
                            <div class="fieldPadding">
                                <input (keyup)="resetErrors()" type="text" #taskLocation
                                    placeholder="Enter activity location" class="form-control widthWebKit"
                                    formControlName="taskLocation" autocomplete="off" [value]="taskLocation.name" />
                                <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                    *ngIf="taskError" errorMsg="{{taskError}}">
                                </app-field-error-display>
                            </div>
                        </div>
                        <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                            <div class="taskTitle" *ngIf="labelArea">
                                <div>{{labelArea}}</div>
                            </div>
                            <div class="fieldPadding">
                                <input (keyup)="resetErrors()" type="text" placeholder=""
                                    class="form-control widthWebKit" formControlName="areaName" autocomplete="off" />
                                <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                    *ngIf="taskError" errorMsg="{{taskError}}">
                                </app-field-error-display>
                            </div>
                        </div>
                    </div>
                </div>
                <span class="group-head" *ngIf="labelActivityManager">{{labelActivityManager}}</span><br>
                <div class="bggrey my-2" *ngIf="labelActivityManager">
                    <div>
                        <div class="taskTitle" *ngIf="labelEmployee">
                            <div>{{labelEmployee}}</div>
                            <div class="astericColor">*</div>
                        </div>
                        <div class="fieldPadding">
                            <div>
                                <div [formControlName]="selectMember" class="form-control"
                                    style="display: flex;justify-content: space-between;"
                                    (click)="selectMemberDialog(selectMember)">
                                    <div>{{selectMember}}</div>
                                    <div style="cursor: pointer;"><i class="fa fa-user" aria-hidden="true"></i></div>
                                </div>
                            </div>
                            <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                *ngIf="taskError" errorMsg="{{taskError}}">
                            </app-field-error-display>
                        </div>
                    </div>
                    <div>
                        <div class="taskTitle" *ngIf="labelManager">
                            <div>{{labelManager}}</div>
                        </div>
                        <div class="fieldPadding">
                            <div>
                                <div [formControlName]="selectTaskManger" class="form-control"
                                    style="display: flex;justify-content: space-between;"
                                    (click)="selectManagerDialog(selectTaskManger)">
                                    <div>{{selectTaskManger}}</div>
                                    <div style="cursor: pointer;"><i class="fa fa-user" aria-hidden="true"></i></div>
                                </div>
                            </div>
                            <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                *ngIf="taskError" errorMsg="{{taskError}}">
                            </app-field-error-display>
                        </div>
                    </div>
                </div>
                <span class="group-head" *ngIf="labelDateAndOther">{{labelDateAndOther}}</span><br>
                <div class="bggrey my-2" *ngIf="labelDateAndOther">
                    <div style="display: flex;gap: 5px;flex-wrap: wrap;">
                        <div class="lbl col-sm-8 col-md-6 col-lg-6 no-padding">
                            <div class="taskTitle" *ngIf="labelDueDate">
                                <div>{{labelDueDate}}</div>
                            </div>
                            <div class="pickerouter fieldPadding dt dateWithMatDtae">
                                <input formControlName="taskDate" class="form-control widthWebKit positionNameInput"
                                    type="text" matInput [matDatepicker]="picker" [value]="ddate"
                                    (dateChange)="handleDateChange($event)" placeholder="Enter Date" #taskDate>
                                <mat-datepicker-toggle matSuffix [for]="picker">
                                </mat-datepicker-toggle>
                                <mat-datepicker #picker [dateClass]="dateClass.bind(this)">
                                </mat-datepicker>
                                <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                    *ngIf="taskError" errorMsg="{{taskError}}">
                                </app-field-error-display>
                            </div>
                        </div>
                        <div class="lbl col-sm-8 col-md-6 col-lg-6 no-padding">
                            <div class="taskTitle" *ngIf="labelEstDuration">
                                <div>{{labelEstDuration}}</div>
                            </div>
                            <div class="fieldPadding d-flex" style="gap: 5px;flex-wrap: wrap;" *ngIf="createBTimeField">
                                <div class="estField">
                                    <div class="secondEst">
                                        <input id="days" [value]="taskDays" (keyup)="resetErrors()" type="number"
                                            #taskDays (ngModelChange)="handleTaskEstDuration(taskDays.value)"
                                            placeholder="Days" class="form-control widthWebKit"
                                            formControlName="taskDays" autocomplete="off" min="0" />
                                    </div>
                                    <div class="timeField" *ngIf="labelEstDays">{{labelEstDays}}</div>
                                </div>
                                <div class="estField">
                                    <div class="secondEst">
                                        <input id="hrs" [value]="taskHrs" (keyup)="resetErrors()" type="number" #taskHrs
                                            (ngModelChange)="handleTaskEstDuration(taskHrs.value)" placeholder="Hours"
                                            class="form-control widthWebKit" formControlName="taskHrs"
                                            autocomplete="off" min="0" max="23" />
                                    </div>
                                    <div class="timeField" *ngIf="labelEstHours"> {{labelEstHours}} </div>
                                </div>
                                <div class="estField">
                                    <div class="secondEst">
                                        <input id="min" [value]="taskMin" (keyup)="resetErrors()" type="number" #taskMin
                                            (ngModelChange)="handleTaskEstDuration(taskMin.value)" placeholder="Minutes"
                                            class="form-control widthWebKit" formControlName="taskMin"
                                            autocomplete="off" min="0" max="59" />
                                    </div>
                                    <div class="timeField" *ngIf="labelMinutes">{{labelMinutes}}</div>
                                </div>
                                <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                    *ngIf="taskError" errorMsg="{{taskError}}">
                                </app-field-error-display>
                            </div>
                            <div class="fieldPadding" *ngIf="updateBTimefield">
                                <div *ngIf="updateValue && updateValue.estDuration" class="form-control"
                                    style="display: flex !important;justify-content: space-between;align-items: center;">
                                    <div style="display: flex;gap: 5px;align-items: center;"
                                        *ngIf="updateValue && updateValue.estDuration">
                                        <div *ngIf="updateValue.estDuration.days">{{updateValue.estDuration.days}}days,
                                        </div>
                                        <div *ngIf="updateValue.estDuration.hours">
                                            {{updateValue.estDuration.hours}}hours,</div>
                                        <div *ngIf="updateValue.estDuration.minutes">
                                            {{updateValue.estDuration.minutes}}minutes</div>
                                    </div>
                                    <div style="cursor: pointer;" (click)="openTimeField()">
                                        <mat-icon>access_time</mat-icon>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <div class="taskTitle" *ngIf="labelPriority">
                            <div>{{labelPriority}}</div>
                        </div>
                        <div class="fieldPadding">
                            <mat-select class="form-control" placeholder="Select Priority" #userTaskPriority
                                formControlName="userTaskPriority">
                                <mat-option *ngFor="let item of taskPriorityList[0];let index=i" [value]="item.id">
                                    <div>
                                        {{item.name}}
                                    </div>
                                </mat-option>
                            </mat-select>
                        </div>
                    </div>
                </div>
                <div class="bggrey my-2">
                    <div style="display: flex;gap: 5px">
                        <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                            <div class="taskTitle" *ngIf="labelStatus">
                                <div>{{labelStatus}}</div>
                            </div>
                            <div class="fieldPadding">
                                <mat-select class="form-control widthWebKit" placeholder="Enter activity status"
                                    #taskStatus formControlName="taskStatus" name="item">
                                    <mat-option *ngFor="let item of taskStatusList[0];let index=i" [value]="item.id">
                                        <div *ngIf="item && item.name" [ngStyle]="{'color': getColor(item.name)}">
                                            {{item.name | capitalizeFirst}}
                                        </div>
                                    </mat-option>
                                </mat-select>
                                <app-field-error-display [displayError]="true" style="color: #f24949 !important;"
                                    *ngIf="taskError" errorMsg="{{taskError}}">
                                </app-field-error-display>
                            </div>
                        </div>
                    </div>
                    <div style="display: flex;gap: 5px;flex-wrap: wrap !important;">
                        <div class="lbl col-sm-8 col-md-7 col-lg-6 no-padding">
                            <div class="taskTitle" *ngIf="labelTargetPotential">
                                <div>{{labelTargetPotential}}</div>
                            </div>
                            <div class="fieldPadding">
                                <input (keyup)="resetErrors()" type="text" #targetResult placeholder="Enter potential"
                                    class="form-control widthWebKit" formControlName="targetResult"
                                    autocomplete="off" />
                            </div>
                        </div>
                        <div class="lbl col-sm-8 col-md-7 col-lg-6 no-padding">
                            <div class="taskTitle" *ngIf="labelBusinessPotential">
                                <div>{{labelBusinessPotential}}</div>
                            </div>
                            <div class="fieldPadding">
                                <input min="0" (keyup)="resetErrors()" type="number" #targetPotential
                                    placeholder="Enter ({{rupee_symbol}})" class="form-control widthWebKit"
                                    formControlName="targetPotential" autocomplete="off" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bggrey my-2">
                    <div style="display: flex;gap: 5px;flex-wrap: wrap !important;">
                        <div class="lbl col-sm-8 col-md-7 col-lg-6 no-padding">
                            <div class="taskTitle" *ngIf="labelResult">
                                <div>{{labelResult}}</div>
                            </div>
                            <div class="fieldPadding">
                                <input (keyup)="resetErrors()" type="text" #actualPotential placeholder="Enter result"
                                    class="form-control widthWebKit" formControlName="actualPotential"
                                    autocomplete="off" />
                            </div>
                        </div>
                    </div>
                </div>
                <div style="text-align: center;margin-top: 15px;" *ngIf="cancelBtn || saveBtn">
                    <ng-container>
                        <div class=" mgn-bt-20 mgn-up-10">
                            <button [ngClass]="{'cursorDiasable':  api_loading_CreateActivity}" type="button"
                                class="btn btn-primary font-weight-bold cancelBtn"
                                (click)="!api_loading_CreateActivity && goback()" *ngIf="cancelBtn">{{cancelBtn}}
                            </button>
                            <button [ngClass]="{'cursorDiasable':  api_loading_CreateActivity}" type="button"
                                (click)="saveCreateTask()" class="btn btn-primary font-weight-bold confirmBtn">
                                <app-common-innerloading-spinner *ngIf="api_loading_CreateActivity">
                                </app-common-innerloading-spinner>
                                <span *ngIf="!api_loading_CreateActivity">{{saveBtn}}</span>
                            </button>
                        </div>
                    </ng-container>
                </div>
            </form>
        </div>
    </div>
</section>