<!-----card header start-->
<section class="card cardBoxShadow">
  <div class="title-gb no-padding">
    <div class="mgn-up-15 mgn-lt-15 mgn-rt-15 dash-head">
      <span class="fa fa-arrow-left pointer-cursor" (click)="goback()"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      Add Details
    </div>
  </div>
</section>
<br>
<app-common-innerloading-spinner *ngIf="api_loading"></app-common-innerloading-spinner>

<section class="container card mt-4 mx-auto" *ngIf="showKyc">
  <div class=" card bgColor">
    <!-- ((this.leadDetails.title ==='Follow Up 1')  || (this.leadDetails.title ==='Follow Up 2')) &&  -->
    <div style="display: flex;
    align-items: center;
    gap: 10px;" *ngIf="(leadDetails.customer)">
      <div class="imageClass">
        <div style="color: #8A8383;">{{firstCustomerName | capitalizeFirst}}</div>
      </div>
      <div>
        <div>
          <div style="font-size: 14px;
        color: #000000;
        font-weight: bold;
        margin-bottom: 4px;">{{customerName | capitalizeFirst}}</div>
        </div>
        <div>
          <div style="font-size: 12px;color: #000000;">+91{{customerPhNo}}</div>
        </div>
      </div>
    </div>
    <hr />
    <div class="inputwithImg">
      <form [formGroup]="createLeadForm">
        <span class="group-head">KYC Details</span><br>
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Applicant KYC</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #idTypes formControlName="idTypes">
                  <mat-option [value]="kyc.name" *ngFor="let kyc of kyc_list">
                    <div>{{kyc.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Number</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="idValue" #idValue
                  (change)="handleidValue(idValue.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter number">
                      </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div class="fieldPadding">
            <div class="">
              <input #logofile type="file" accept="/*;capture=camera" style="display:none;" multiple
                (change)="filesSelected($event, 'applicant')">Click / Drop your files here
              <a class="btn btn-clean btn-icon btn-md" (click)="logofile.click()"><i class="material-icons">
                  attach_file</i></a>
            </div>

            <div>
              <div class="img-section clearfix mgn-up-20"
                *ngIf="selectedMessage['applicant'] && selectedMessage['applicant'].files && selectedMessage['applicant'].files.length > 0">
                <ul class="galul">
                  <li *ngFor="let file of selectedMessage['applicant'].files;let i = index ">
                    <div class="galimg_outer">
                      <div class="gal_img">
                        <img [src]="getImage(selectedMessage['applicant'].base64[i], file)"
                          *ngIf="selectedMessage['applicant'].base64[i]">
                      </div>
                      <div class="gal_action" (click)="deleteTempImage(i, 'applicant')">
                        <i class="fa fa-times-circle" aria-hidden="true"></i>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="mgn-bt-20"
          *ngIf="selectedMessage['applicant'] && selectedMessage['applicant'].files && selectedMessage['applicant'].files.length > 0"></div>
        <!-- <span class="group-head">KYC Details</span><br> -->
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Applicant KYC</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #idTypes1 formControlName="idTypes1">
                  <mat-option [value]="kyc.name" *ngFor="let kyc of kyc_list">
                    <div>{{kyc.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Number</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="idValue1" #idValue1
                  (change)="handleidValue1(idValue1.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter number">
                      </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>

          </div>

          <div class="fieldPadding">
            <div class="">
              <input #files type="file" accept="/*;capture=camera" style="display:none;" multiple
                (change)="filesSelected($event,'kyc')">Click / Drop your files here
              <a class="btn btn-clean btn-icon btn-md" (click)="files.click()"><i class="material-icons">
                  attach_file</i></a>
            </div>

            <div>
              <div class="img-section clearfix mgn-up-20"
                *ngIf="selectedMessage['kyc'] && selectedMessage['kyc'].files && selectedMessage['kyc'].files.length > 0">
                <ul class="galul">
                  <li *ngFor="let file of selectedMessage['kyc'].files;let i = index ">
                    <div class="galimg_outer">
                      <div class="gal_img">
                        <img [src]="getImage(selectedMessage['kyc'].base64[i], file)"
                          *ngIf="selectedMessage['kyc'].base64[i]">
                      </div>
                      <div class="gal_action" (click)="deleteTempImage(i, 'kyc')">
                        <i class="fa fa-times-circle" aria-hidden="true"></i>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="mgn-bt-20" *ngIf="selectedMessage['kyc'] && selectedMessage['kyc'].files && selectedMessage['kyc'].files.length > 0"></div>
        <span class="group-head">Pancard Details</span><br>
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Applicant KYC</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="Pancard">
                  <mat-option [value]="'Pancard'">
                    <div>
                      Pancard
                    </div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Pancard number</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="panNumber" #panNumber
                  (change)="handlpanNumber(panNumber.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter Pancard number">
                      </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div class="fieldPadding">
            <div class="">
              <input #file type="file" accept="/*;capture=camera" style="display:none;" multiple
                (change)="filesSelected($event, 'pan')">Click / Drop your files heree
              <a class="btn btn-clean btn-icon btn-md" (click)="file.click()"><i class="material-icons">
                  attach_file</i></a>
            </div>
          </div>
          <div>
            <div class="img-section clearfix mgn-up-20"
              *ngIf="selectedMessage['pan'] && selectedMessage['pan'].files && selectedMessage['pan'].files.length > 0">
              <ul class="galul">
                <li *ngFor="let file of selectedMessage['pan'].files;let i = index ">
                  <div class="galimg_outer">
                    <div class="gal_img">
                      <img [src]="getImage(selectedMessage['pan'].base64[i], file)"
                        *ngIf="selectedMessage['pan'].base64[i]">
                    </div>
                    <div class="gal_action" (click)="deleteTempImage(i, 'pan')">
                      <i class="fa fa-times-circle" aria-hidden="true"></i>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="mgn-bt-20" *ngIf="selectedMessage['pan'] && selectedMessage['pan'].files && selectedMessage['pan'].files.length > 0"></div>
        <span class="group-head">Details</span><br>
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Telephone Type</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #telephoneType
                  formControlName="telephoneType">
                  <mat-option [value]="'Residence'">
                    <div>
                      Residence
                    </div>
                  </mat-option>
                  <mat-option [value]="'Company'">
                    <div>
                      Company
                    </div>
                  </mat-option>
                  <mat-option [value]="'Mobile'">
                    <div>
                      Mobile
                    </div>
                  </mat-option>
                  <mat-option [value]="'Permanent'">
                    <div>
                      Permanent
                    </div>
                  </mat-option>
                  <mat-option [value]="'Foreign'">
                    <div>
                      Foreign
                    </div>
                  </mat-option>
                  <mat-option [value]="'Untagged'">
                    <div>
                      Untagged
                    </div>
                  </mat-option>
                  <mat-option [value]="'Other'">
                    <div>
                      Other
                    </div>
                  </mat-option>


                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Telephone number</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="telephoneNumber" #telephoneNumber
                  (change)="handletelephoneNumber(telephoneNumber.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="10" placeholder="Enter number">
                    </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div>
            <div class="leadTitle">
              <div>House Name</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <input (keyup)="resetErrors()" type="text" #permanentAddress
                (ngModelChange)="hamdlepermanentAddress(permanentAddress.value)" placeholder="" class="form-control"
                formControlName="permanentAddress" autocomplete="off" />
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>City</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="permanentCity" #permanentCity
                  (change)="handlepermanentCity(permanentCity.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>State</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control" placeholder="Enter State"
                  (ngModelChange)="handleLeadTypeSelection(permanentState.value)" #permanentState
                  formControlName="permanentState">
                  <mat-option *ngFor="let item of stateList[0];let index=i" [value]="item.name">
                    <div>
                      {{item.name}}
                    </div>
                  </mat-option>
                </mat-select>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Pin code</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="permanentPinCode" #permanentPinCode
                  (change)="handlepermanentPinCode(permanentPinCode.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Date of birth</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">

                <input (keyup)="resetErrors()" type="date" #dob (ngModelChange)="handledob(dob.value)" placeholder=""
                  class="form-control" formControlName="dob" autocomplete="off" />
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Relation name</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="relationName" #relationName
                  (change)="handlerelationName(relationName.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Relationship Type</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #relationType
                  formControlName="relationType">
                  <mat-option [value]="relation.name" *ngFor="let relation of relations">
                    <div>{{relation.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
          </div>
        </div>
        <!-- <span class="group-head">Co-Applicant Details</span><br> -->
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Nominee Name</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="nomineeName" #nomineeName
                  (change)="handlenomineeName(nomineeName.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter name">
                    </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Nominee Type</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #nomineeType formControlName="nomineeType">
                  <mat-option [value]="relation.name" *ngFor="let relation of relations">
                    <div>{{relation.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Address Type</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #addressType formControlName="addressType">
                  <mat-option [value]="'Residence'">
                    <div>
                      Residence
                    </div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Nominee Address</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <input (keyup)="resetErrors()" type="text" #address (ngModelChange)="hamdleaddress(address.value)"
                  placeholder="" class="form-control" formControlName="address" autocomplete="off" />
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>District</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="city" #city (change)="handlecity(city.value)"
                  (keyup)="autoGrowTextZone($event)" maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>State</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <!-- <textarea rowa="10" class="form-control" formControlName="state" #state
                  (change)="handlestate(state.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="1000" placeholder="">
                </textarea> -->

                <mat-select class="form-control" placeholder="Enter State"
                  (ngModelChange)="handleLeadTypeSelection(state.value)" #state formControlName="state">
                  <mat-option *ngFor="let item of stateList[0];let index=i" [value]="item.name">
                    <div>
                      {{item.name}}
                    </div>
                  </mat-option>
                </mat-select>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Pin code</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="pin" #pin (change)="handlepin(pin.value)"
                  (keyup)="autoGrowTextZone($event)" maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>

          </div>

        </div>


        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">

          </div>



        </div>

        <!----co applicant start-->
      </form>
      <form [formGroup]="createCoApplicantForm" *ngIf="isAnyCoapp">
        <div [formArrayName]="'formField'">
          <div *ngFor="let item of formControlArray;let i = index;" [formGroupName]="i">

            <div style="border-bottom: 1px solid #04A5FF;height: 30px;">
              <div style="display: flex;justify-content: space-between;align-items: center;">
                <div style="font-size: 15px!important;font-weight: bold!important" *ngIf="i===0">
                  Co-Applicant Name
                </div>
                <div style="font-size: 15px!important;font-weight: bold!important" *ngIf="i>0">
                  Co-Applicant {{i}} Name
                </div>
                <div>
                  <i (click)="deleteDynamicForm(i)" style="cursor:pointer" class="fa fa-trash" aria-hidden="true"></i>
                </div>
              </div>
            </div>
            <!--co applicant name phno start-->
            <div style="display: flex;gap: 5px">
              <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                <div class="leadTitle">
                  <div>Name</div>
                  <div class="astericColor">*</div>
                </div>
                <div class="fieldPadding">
                  <textarea rowa="10" class="form-control" formControlName="nameCoApplicant" #nameCoApplicant
                    (keyup)="autoGrowTextZone($event)" maxlength="1000" placeholder="Enter name">
                      </textarea>
                  <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                    errorMsg="{{leadError}}">
                  </app-field-error-display>
                </div>
              </div>
              <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                <div class="leadTitle">
                  <div>Phone Number</div>
                  <div class="astericColor">*</div>
                </div>
                <div class="fieldPadding">
                  <input class="form-control" formControlName="phNOCoApplicant" #phNOCoApplicant type="tel"
                    placeholder="Enter number" />
                  <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                    errorMsg="{{leadError}}">
                  </app-field-error-display>
                </div>
              </div>
            </div>
            <!--coapplicant name phno end-->

            <span class="group-head">KYC Details</span><br>
            <div class="bggrey my-2">
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Applicant KYC</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <mat-select class="form-control widthWebKit" placeholder="" #idTypes
                      formControlName="idTypes1CoApplicant">
                      <mat-option [value]="kyc.name" *ngFor="let kyc of kyc_list">
                        <div>{{kyc.displayName}}</div>
                      </mat-option>
                    </mat-select>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Number</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <textarea rowa="10" class="form-control" formControlName="idValue1CoApplicant" #idValue
                      (change)="handleidValue(idValue.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                      placeholder="Enter number">
                      </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>

              </div>

              <div class="fieldPadding">
                <div class="">
                  <input #logofile type="file" accept="/*;capture=camera" style="display:none;" multiple
                    (change)="filesSelected($event, 'coApplicant')">Click / Drop your files here
                  <a class="btn btn-clean btn-icon btn-md" (click)="logofile.click()"><i class="material-icons">
                      attach_file</i></a>
                </div>

                <div>
                  <div class="img-section clearfix mgn-up-20"
                    *ngIf="selectedMessage['coApplicant'] && selectedMessage['coApplicant'].files && selectedMessage['coApplicant'].files.length > 0">
                    <ul class="galul">
                      <li *ngFor="let file of selectedMessage['coApplicant'].files;let i = index ">
                        <div class="galimg_outer">
                          <div class="gal_img">
                            <img [src]="getImage(selectedMessage['coApplicant'].base64[i], file)"
                              *ngIf="selectedMessage['coApplicant'].base64[i]">
                          </div>
                          <div class="gal_action" (click)="deleteTempImage(i, 'coApplicant')">
                            <i class="fa fa-times-circle" aria-hidden="true"></i>
                          </div>
                        </div>
                      </li>
                    </ul>
                  </div>

                </div>
              </div>

            </div>
            <div class="mgn-bt-20"
              *ngIf="selectedMessage['coApplicant'] && selectedMessage['coApplicant'].files && selectedMessage['coApplicant'].files.length > 0"></div>
            <!-- <span class="group-head">KYC Details</span><br> -->

            <!------kyc part start coapplicant-->
            <div class="bggrey my-2">
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Applicant KYC</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <mat-select class="form-control widthWebKit" placeholder="" #idTypes1
                      formControlName="idTypes2CoApplicant">
                      <mat-option [value]="kyc.name" *ngFor="let kyc of kyc_list">
                        <div>{{kyc.displayName}}</div>
                      </mat-option>
                    </mat-select>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Number</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <textarea rowa="10" class="form-control" formControlName="idValue2CoApplicant" #idValue1
                      (change)="handleidValue1(idValue1.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                      placeholder="Enter number">
                      </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>

              </div>

              <div class="fieldPadding">
                <div class="">
                  <input #files type="file" accept="/*;capture=camera" style="display:none;" multiple
                    (change)="filesSelected($event, 'coApplicantKyc')">Click / Drop your files here
                  <a class="btn btn-clean btn-icon btn-md" (click)="files.click()"><i class="material-icons">
                      attach_file</i></a>
                </div>

                <div>
                  <div class="img-section clearfix mgn-up-20"
                    *ngIf="selectedMessage['coApplicantKyc'] && selectedMessage['coApplicantKyc'].files && selectedMessage['coApplicantKyc'].files.length > 0">
                    <ul class="galul">
                      <li *ngFor="let file of selectedMessage['coApplicantKyc'].files;let i = index ">
                        <div class="galimg_outer">
                          <div class="gal_img">
                            <img [src]="getImage(selectedMessage['coApplicantKyc'].base64[i], file)"
                              *ngIf="selectedMessage['coApplicantKyc'].base64[i]">
                          </div>
                          <div class="gal_action" (click)="deleteTempImage(i, 'coApplicantKyc')">
                            <i class="fa fa-times-circle" aria-hidden="true"></i>
                          </div>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <div class="mgn-bt-20"
              *ngIf="selectedMessage['coApplicantKyc'] && selectedMessage['coApplicantKyc'].files && selectedMessage['coApplicantKyc'].files.length > 0">
            </div>
            <!----kycpart coappliocant end-->

            <!--pancard start-->
            <span class="group-head">Pancard Details</span><br>
            <div class="bggrey my-2">
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Applicant KYC</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <mat-select class="form-control widthWebKit" placeholder="Pancard">
                      <mat-option [value]="'Pancard'">
                        <div>
                          Pancard
                        </div>
                      </mat-option>
                    </mat-select>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Pancard number</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <textarea rowa="10" class="form-control" formControlName="panNumberCoApplicant" #panNumber
                      (change)="handlpanNumber(panNumber.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                      placeholder="Enter Pancard number">
                      </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
              </div>
              <div class="fieldPadding">
                <div class="">
                  <input #file type="file" accept="/*;capture=camera" style="display:none;" multiple
                    (change)="filesSelected($event, 'coApplicantPan')">Click / Drop your files heree
                  <a class="btn btn-clean btn-icon btn-md" (click)="file.click()"><i class="material-icons">
                      attach_file</i></a>
                </div>
              </div>
              <div>
                <div class="img-section clearfix mgn-up-20"
                  *ngIf="selectedMessage['coApplicantPan'] && selectedMessage['coApplicantPan'].files && selectedMessage['coApplicantPan'].files.length > 0">
                  <ul class="galul">
                    <li *ngFor="let file of selectedMessage['coApplicantPan'].files;let i = index ">
                      <div class="galimg_outer">
                        <div class="gal_img">
                          <img [src]="getImage(selectedMessage['coApplicantPan'].base64[i], file)"
                            *ngIf="selectedMessage['coApplicantPan'].base64[i]">
                        </div>
                        <div class="gal_action" (click)="deleteTempImage(i, 'coApplicantPan')">
                          <i class="fa fa-times-circle" aria-hidden="true"></i>
                        </div>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="mgn-bt-20"
              *ngIf="selectedMessage['coApplicantPan'] && selectedMessage['coApplicantPan'].files && selectedMessage['coApplicantPan'].files.length > 0">
            </div>

            <!--pancard end-->

            <span class="group-head">Details</span><br>
            <div class="bggrey my-2">
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Telephone Type</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <mat-select class="form-control widthWebKit" placeholder="" #telephoneType
                      formControlName="telephoneTypeCoApplicant">
                      <mat-option [value]="'Residence'">
                        <div>
                          Residence
                        </div>
                      </mat-option>
                      <mat-option [value]="'Company'">
                        <div>
                          Company
                        </div>
                      </mat-option>
                      <mat-option [value]="'Mobile'">
                        <div>
                          Mobile
                        </div>
                      </mat-option>
                      <mat-option [value]="'Permanent'">
                        <div>
                          Permanent
                        </div>
                      </mat-option>
                      <mat-option [value]="'Foreign'">
                        <div>
                          Foreign
                        </div>
                      </mat-option>
                      <mat-option [value]="'Untagged'">
                        <div>
                          Untagged
                        </div>
                      </mat-option>
                      <mat-option [value]="'Other'">
                        <div>
                          Other
                        </div>
                      </mat-option>


                    </mat-select>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Telephone number</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <textarea rowa="10" class="form-control" formControlName="telephoneNumberCoApplicant"
                      #telephoneNumber (change)="handletelephoneNumber(telephoneNumber.value)"
                      (keyup)="autoGrowTextZone($event)" maxlength="10" placeholder="Enter number">
                    </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
              </div>
              <div>
                <div class="leadTitle">
                  <div>House Name</div>
                  <div class="astericColor">*</div>
                </div>
                <div class="fieldPadding">
                  <input (keyup)="resetErrors()" type="text" #permanentAddress
                    (ngModelChange)="hamdlepermanentAddress(permanentAddress.value)" placeholder="" class="form-control"
                    formControlName="permanentAddressCoApplicant" autocomplete="off" />
                  <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                    errorMsg="{{leadError}}">
                  </app-field-error-display>
                </div>
              </div>
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>City</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <textarea rowa="10" class="form-control" formControlName="permanentCityCoApplicant" #permanentCity
                      (change)="handlepermanentCity(permanentCity.value)" (keyup)="autoGrowTextZone($event)"
                      maxlength="1000" placeholder="">
              </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>State</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div>
                    <div class="fieldPadding">
                      <mat-select class="form-control widthWebKit" placeholder="" #relationType
                        formControlName="permanentStateCoApplicant">
                        <mat-option *ngFor="let state of states" [value]="state.name">
                          <div>{{state.displayName}}</div>
                        </mat-option>
                      </mat-select>
                    </div>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
              </div>
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Pin code</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <textarea rowa="10" class="form-control" formControlName="permanentPinCodeCoApplicant"
                      #permanentPinCode (change)="handlepermanentPinCode(permanentPinCode.value)"
                      (keyup)="autoGrowTextZone($event)" maxlength="1000" placeholder="">
              </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Date of birth</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">

                    <input (keyup)="resetErrors()" type="date" #dob (ngModelChange)="handledob(dob.value)"
                      placeholder="" class="form-control" formControlName="dobCoApplicant" autocomplete="off" />
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
              </div>
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Relation name</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <textarea rowa="10" class="form-control" formControlName="relationNameCoApplicant" #relationName
                      (change)="handlerelationName(relationName.value)" (keyup)="autoGrowTextZone($event)"
                      maxlength="1000" placeholder="">
              </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Relationship Type</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <mat-select class="form-control widthWebKit" placeholder="" #relationType
                      formControlName="relationTypeCoApplicant">
                      <mat-option [value]="relation.name" *ngFor="let relation of relations">
                        <div>{{relation.displayName}}</div>
                      </mat-option>
                    </mat-select>
                  </div>
                </div>
              </div>
            </div>
            <!-- <span class="group-head">Co-Applicant Details</span><br> -->
            <div class="bggrey my-2">
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Nominee Name</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <textarea rowa="10" class="form-control" formControlName="nomineeNameCoApplicant" #nomineeName
                      (change)="handlenomineeName(nomineeName.value)" (keyup)="autoGrowTextZone($event)"
                      maxlength="1000" placeholder="Enter name">
                    </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Nominee Type</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <mat-select class="form-control widthWebKit" placeholder="" #nomineeType
                      formControlName="nomineeTypeCoApplicant">
                      <mat-option [value]="relation.name" *ngFor="let relation of relations">
                        <div>{{relation.displayName}}</div>
                      </mat-option>
                    </mat-select>
                  </div>
                </div>
              </div>

              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Address Type</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <mat-select class="form-control widthWebKit" placeholder="" #addressType
                      formControlName="addressTypeCoApplicant">
                      <mat-option [value]="'Residence'">
                        <div>
                          Residence
                        </div>
                      </mat-option>



                    </mat-select>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Nominee Address</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <input (keyup)="resetErrors()" type="text" #address (ngModelChange)="hamdleaddress(address.value)"
                      placeholder="" class="form-control" formControlName="addressCoAplicant" autocomplete="off" />
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
              </div>
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>District</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <textarea rowa="10" class="form-control" formControlName="cityCoApplicant" #city
                      (change)="handlecity(city.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                      placeholder="">
              </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>State</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <!-- <textarea rowa="10" class="form-control" formControlName="stateCoApplicant" #state
                  (change)="handlestate(state.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="1000" placeholder="">
                </textarea> -->
                    <mat-select class="form-control widthWebKit" placeholder="" #relationType
                      formControlName="stateCoApplicant">
                      <mat-option *ngFor="let state of states" [value]="state.name">
                        <div>{{state.displayName}}</div>
                      </mat-option>
                    </mat-select>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
              </div>
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Pin code</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <textarea rowa="10" class="form-control" formControlName="pinCoApplicant" #pin
                      (change)="handlepin(pin.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                      placeholder="">
              </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
              </div>
            </div>
            <!----co applicant end-->
            <!----for second form btn start-->

            <!----for second form btn end-->

          </div>
        </div>
      </form>
      <div>
        <button id="reset" type="button" class="btn btn-primary font-weight-bold coApplicantForm"
          (click)="addCoApplicant()">
          <div class="applicantBtn">
            <div>
              Add Co-Applicant
            </div>
            <div>
              <i class="fa fa-plus" aria-hidden="true"></i>
            </div>
          </div>
        </button>
      </div>
      <div style="text-align: center;margin-top: 15px;">
        <ng-container>
          <div class=" mgn-bt-20 mgn-up-10" style="display: flex;
        justify-content: center;
        gap: 10px;">
            <button type="button" class="btn btn-primary font-weight-bold cancelBtn" (click)="goback()">Cancel
            </button>
            <button [ngClass]="{
                          'btn btn-primary font-weight-bold cancelBtn': !createLeadForm.valid,
                          'btn btn-primary font-weight-bold confirmBtn': createLeadForm.valid
                      }" [class.spinner]="api_loading" [class.disabled]="api_loading"
              [class.spinner-center]="api_loading" type="button" (click)="saveCreateLead()">Save
            </button>
            <!-- <button type="button" class="btn btn-primary font-weight-bold confirmBtn" style="background: #D7FEE9 !important;
          border: 1.0803px solid #D7FFE9 !important;color: #38C984 !important;" (click)="ProceedStatus()">Proceed
          </button> -->
            <button type="button" class="btn btn-primary font-weight-bold confirmBtn"
              style="background: #FADDDD !important;color: #D50000 !important" (click)="failedStatus()">Reject
            </button>
          </div>
        </ng-container>
      </div>
    </div>
    <!-- <div class="imageClass">
          <img class="leadImg" src="/assets/images/crmImages/Addtasks.png" />
      </div> -->
  </div>


</section>
<section class="container card mt-4 mx-auto" *ngIf="showupdateKyc">
  <div class=" card bgColor">
    <div style="display: flex;
    align-items: center;
    gap: 10px;" *ngIf="(leadDetails.customer)">
      <div class="imageClass">
        <div style="color: #8A8383;">{{firstCustomerName | capitalizeFirst}}</div>
      </div>
      <div>
        <div>
          <div style="font-size: 14px;
        color: #000000;
        font-weight: bold;
        margin-bottom: 4px;">{{customerName | capitalizeFirst}}</div>
        </div>
        <div>
          <div style="font-size: 12px;color: #000000;">+91{{customerPhNo}}</div>
        </div>
      </div>
    </div>
    <hr />
    <div class="inputwithImg">
      <form [formGroup]="createLeadForm">
        <span class="group-head">KYC Details</span><br>
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Applicant KYC</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select [disabled]="!editable" class="form-control widthWebKit" placeholder="" #idTypes formControlName="idTypes">
                  <mat-option [value]="kyc.name" *ngFor="let kyc of kyc_list">
                    <div>{{kyc.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Number</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea [readonly]="true"rowa="10" class="form-control" formControlName="idValue" #idValue
                  (change)="handleidValue(idValue.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter number">
                      </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>


        </div>
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Applicant KYC</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select [disabled]="!editable" class="form-control widthWebKit" placeholder="" #idTypes1 formControlName="idTypes1">
                  <mat-option [value]="kyc.name" *ngFor="let kyc of kyc_list">
                    <div>{{kyc.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Number</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea [readonly]="true" rowa="10" class="form-control" formControlName="idValue1" #idValue1
                  (change)="handleidValue1(idValue1.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter number">
                      </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
        </div>
        <span class="group-head">Pancard Details</span><br>
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Applicant KYC</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select [disabled]="!editable"  class="form-control widthWebKit" placeholder="Pancard">
                  <mat-option [value]="'Pancard'">
                    <div>
                      Pancard
                    </div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Pancard number</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea [readonly]="true" rowa="10" class="form-control" formControlName="panNumber" #panNumber
                  (change)="handlpanNumber(panNumber.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter Pancard number">
                      </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>

        </div>
        <span class="group-head" *ngIf="updateValue && updateValue.panAttachments">Pancard File Details</span><br>
        <div class="bggrey my-2" *ngIf="updateValue && updateValue.panAttachments">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">

              <div *ngFor="let file of updateValue.panAttachments ;let i= index">
                <a href="{{file.s3path}}" target="_blank" download>
                  <img style="height: 20px; width:20px;" [src]="getImageType(file.fileType)" alt="">
                  {{file.fileName?.length>10 ? file.fileName.slice(0, 10)+'...' : file.fileName}}
                </a>

              </div>
            </div>

          </div>
        </div>
        <span class="group-head">Details</span><br>
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Telephone Type</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select [disabled]="!editable" class="form-control widthWebKit" placeholder="" #telephoneType
                  formControlName="telephoneType">
                  <mat-option [value]="'Residence'">
                    <div>
                      Residence
                    </div>
                  </mat-option>
                  <mat-option [value]="'Company'">
                    <div>
                      Company
                    </div>
                  </mat-option>
                  <mat-option [value]="'Mobile'">
                    <div>
                      Mobile
                    </div>
                  </mat-option>
                  <mat-option [value]="'Permanent'">
                    <div>
                      Permanent
                    </div>
                  </mat-option>
                  <mat-option [value]="'Foreign'">
                    <div>
                      Foreign
                    </div>
                  </mat-option>
                  <mat-option [value]="'Military'">
                    <div>
                      Military
                    </div>
                  </mat-option>
                  <mat-option [value]="'Other'">
                    <div>
                      Other
                    </div>
                  </mat-option>

                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Telephone number</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea [readonly]="true" rowa="10" class="form-control" formControlName="telephoneNumber" #telephoneNumber
                  (change)="handletelephoneNumber(telephoneNumber.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="10" placeholder="Enter number">
                    </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div>
            <div class="leadTitle">
              <div>House Name</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <input [readonly]="true" (keyup)="resetErrors()" type="text" #permanentAddress
                (ngModelChange)="hamdlepermanentAddress(permanentAddress.value)" placeholder="" class="form-control"
                formControlName="permanentAddress" autocomplete="off" />
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>City</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea [readonly]="true" rowa="10" class="form-control" formControlName="permanentCity" #permanentCity
                  (change)="handlepermanentCity(permanentCity.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>State</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select [disabled]="!editable" class="form-control widthWebKit" placeholder="" #relationType
                  formControlName="permanentState">
                  <mat-option *ngFor="let state of states" [value]="state.name">
                    <div>{{state.displayName}}</div>
                  </mat-option>
                </mat-select>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Pin code</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea [readonly]="true" rowa="10" class="form-control" formControlName="permanentPinCode" #permanentPinCode
                  (change)="handlepermanentPinCode(permanentPinCode.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Date of birth</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">

                <input [readonly]="true" (keyup)="resetErrors()" type="date" #dob (ngModelChange)="handledob(dob.value)" placeholder=""
                  class="form-control" formControlName="dob" autocomplete="off" />
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Relation name</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea [readonly]="true" rowa="10" class="form-control" formControlName="relationName" #relationName
                  (change)="handlerelationName(relationName.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Relationship Type</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select [disabled]="!editable" class="form-control widthWebKit" placeholder="" #relationType
                  formControlName="relationType">
                  <mat-option [value]="relation.name" *ngFor="let relation of relations">
                    <div>{{relation.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
          </div>
        </div>
        <!-- <span class="group-head">Co-Applicant Details</span><br> -->
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Nominee Name</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea [readonly]="true" rowa="10" class="form-control" formControlName="nomineeName" #nomineeName
                  (change)="handlenomineeName(nomineeName.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter name">
                    </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Nominee Type</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <mat-select [disabled]="!editable" class="form-control widthWebKit" placeholder="" #nomineeType formControlName="nomineeType">
                  <mat-option [value]="relation.name" *ngFor="let relation of relations">
                    <div>{{relation.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Address Type</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <mat-select [disabled]="!editable" class="form-control widthWebKit" placeholder="" #addressType formControlName="addressType">
                  <mat-option [value]="'Residence'">
                    <div>
                      Residence
                    </div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Nominee Address</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <input [readonly]="true" (keyup)="resetErrors()" type="text" #address (ngModelChange)="hamdleaddress(address.value)"
                  placeholder="" class="form-control" formControlName="address" autocomplete="off" />
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>District</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea [readonly]="true" rowa="10" class="form-control" formControlName="city" #city (change)="handlecity(city.value)"
                  (keyup)="autoGrowTextZone($event)" maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>State</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <mat-select [disabled]="!editable"  class="form-control widthWebKit" placeholder="" #relationType formControlName="state">
                  <mat-option *ngFor="let state of states" [value]="state.name">
                    <div>{{state.displayName}}</div>
                  </mat-option>
                </mat-select>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Pin code</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea [readonly]="true" rowa="10" class="form-control" formControlName="pin" #pin (change)="handlepin(pin.value)"
                  (keyup)="autoGrowTextZone($event)" maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
        </div>
        <!---crif btn start-->
        <div class=" my-2">
          <button type="button" class="font-weight-bold confirmBtn" style="background: #32de84 !important;
        border: 1px solid #D7FFE9 !important;
        color: #fff;
        width: -webkit-fill-available;" (click)="crifBtnStatus()">Generate CRIF Score of Applicant
          </button>
        </div>
        <!----crif btn end-->
        <div *ngIf="generateCrifScore">
          <span class="group-head">CRIF Score of Applicant</span><br>
          <div class="bggrey my-2">
            <div style="display: flex;gap: 5px">
              <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding" style="display: flex;
            flex-direction: row-reverse;
            justify-content: left;">
                <div class="leadTitle">
                </div>
                <div class="fieldPadding">
                  <a class="navbar-item-color bold pointer-cursor disp-none-small" *ngIf="crifScore"> CRIF SCORE :
                    {{crifScore}} </a>
                  <button mat-flat-button style="margin-left: 25px !important;"
                    class="btn btn mb-2 action-button action-button-add confirmBtn" (click)="saveCrifApplicant()">
                    Check CRIF Verification </button>
                </div>
                <div *ngIf="showPdfIcon">

                  <a (click)="preview(crifHTML)">
                    <img class="img" style="height: 50px; width: 50px;" src="/assets/images/ImgeFileIcon/pdf.png" />
                  </a>
                </div>
              </div>

            </div>
          </div>
        </div>
      </form>

      <form [formGroup]="createCoApplicantForm">
        <div>
          <div *ngFor="let item of updateValueCoApplicant[0];let i = index;">

            <div style="border-bottom: 1px solid #04A5FF;height: 30px;">
              <div style="display: flex;justify-content: space-between;align-items: center;">
                <div style="font-size: 15px!important;font-weight: bold!important" *ngIf="i===0">
                  Co-Applicant Name
                </div>
                <div style="font-size: 15px!important;font-weight: bold!important" *ngIf="i>0">
                  Co-Applicant {{i}} Name
                </div>
                <div>
                  <i (click)="deleteDynamicForm(i)" style="cursor:pointer" class="fa fa-trash" aria-hidden="true"></i>
                </div>
              </div>
            </div>
            <!--propiosed ammount start--->
            <!-- <div>
            <div class="leadTitle" style="margin-top: 10px;">
              <div>Proposed Amount</div>
            </div>
            <div class="fieldPadding">
              <input style="width:100% !important" (keyup)="resetErrors()" type="number" #proposedAmmounts
                 placeholder="" class="form-control" (ngModelChange)="proposedAmmount(proposedAmmounts.value)"
                formControlName="proposedAmmount" autocomplete="off" min="0" />
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div> -->
            <!--propiosed ammount end--->
            <!--co applicant name phno start-->
            <div style="display: flex;gap: 5px">
              <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                <div class="leadTitle">
                  <div>Name</div>
                  <div class="astericColor">*</div>
                </div>
                <div class="fieldPadding">
                  <textarea [readonly]="true" rowa="10" class="form-control" formControlName="nameCoApplicant" #nameCoApplicant
                    (keyup)="autoGrowTextZone($event)" maxlength="1000" placeholder="Enter name">
                      </textarea>
                  <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                    errorMsg="{{leadError}}">
                  </app-field-error-display>
                </div>
              </div>
              <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                <div class="leadTitle">
                  <div>Phone Number</div>
                  <div class="astericColor">*</div>
                </div>
                <div class="fieldPadding">
                  <input [readonly]="true"  class="form-control" formControlName="phNOCoApplicant" #phNOCoApplicant type="tel"
                    placeholder="Enter number" />
                  <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                    errorMsg="{{leadError}}">
                  </app-field-error-display>
                </div>
              </div>
            </div>
            <!--coapplicant name phno end-->
            <span class="group-head">KYC Details</span><br>
            <div class="bggrey my-2">
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Applicant KYC</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <mat-select [disabled]="!editable"  class="form-control widthWebKit" placeholder="" #idTypes
                      formControlName="idTypes1CoApplicant">
                      <mat-option [value]="kyc.name" *ngFor="let kyc of kyc_list">
                        <div>{{kyc.displayName}}</div>
                      </mat-option>
                    </mat-select>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Number</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <textarea [readonly]="true" rowa="10" class="form-control" formControlName="idValue1CoApplicant" #idValue
                      (change)="handleidValue(idValue.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                      placeholder="Enter number">
                      </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
              </div>
              <div class="fieldPadding">
                <div class="">
                  <input #logofile type="file" accept="/*;capture=camera" style="display:none;" multiple
                    (change)="filesSelected($event, 'coApplicant')">Click / Drop your files here
                  <a class="btn btn-clean btn-icon btn-md" (click)="logofile.click()"><i class="material-icons">
                      attach_file</i></a>
                </div>

                <div>
                  <div class="img-section clearfix mgn-up-20"
                    *ngIf="selectedMessage['coApplicant'] && selectedMessage['coApplicant'].files && selectedMessage['coApplicant'].files.length > 0">
                    <ul class="galul">
                      <li *ngFor="let file of selectedMessage['coApplicant'].files;let i = index ">
                        <div class="galimg_outer">
                          <div class="gal_img">
                            <img [src]="getImage(selectedMessage['coApplicant'].base64[i], file)"
                              *ngIf="selectedMessage['coApplicant'].base64[i]">
                          </div>
                          <div class="gal_action" (click)="deleteTempImage(i, 'coApplicant')">
                            <i class="fa fa-times-circle" aria-hidden="true"></i>
                          </div>
                        </div>
                      </li>
                    </ul>
                  </div>

                </div>
              </div>
            </div>
            <div class="mgn-bt-20"
              *ngIf="selectedMessage['coApplicant'] && selectedMessage['coApplicant'].files && selectedMessage['coApplicant'].files.length > 0"></div>
            <!-- <span class="group-head">KYC Details</span><br> -->
            <!------kyc part start coapplicant-->
            <div class="bggrey my-2">
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Applicant KYC</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <mat-select [disabled]="!editable" class="form-control widthWebKit" placeholder="" #idTypes1
                      formControlName="idTypes2CoApplicant">
                      <mat-option [value]="kyc.name" *ngFor="let kyc of kyc_list">
                        <div>{{kyc.displayName}}</div>
                      </mat-option>
                    </mat-select>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Number</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <textarea [readonly]="true" rowa="10" class="form-control" formControlName="idValue2CoApplicant" #idValue1
                      (change)="handleidValue1(idValue1.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                      placeholder="Enter number">
                      </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>

              </div>

              <div class="fieldPadding">
                <div class="">
                  <input [readonly]="true" #files type="file" accept="/*;capture=camera" style="display:none;" multiple
                    (change)="filesSelected($event, 'coApplicantKyc')">Click / Drop your files here
                  <a class="btn btn-clean btn-icon btn-md" (click)="files.click()"><i class="material-icons">
                      attach_file</i></a>
                </div>

                <div>
                  <div class="img-section clearfix mgn-up-20"
                    *ngIf="selectedMessage['coApplicantKyc'] && selectedMessage['coApplicantKyc'].files && selectedMessage['coApplicantKyc'].files.length > 0">
                    <ul class="galul">
                      <li *ngFor="let file of selectedMessage['coApplicantKyc'].files;let i = index ">
                        <div class="galimg_outer">
                          <div class="gal_img">
                            <img [src]="getImage(selectedMessage['coApplicantKyc'].base64[i], file)"
                              *ngIf="selectedMessage['coApplicantKyc'].base64[i]">
                          </div>
                          <div class="gal_action" (click)="deleteTempImage(i, 'coApplicantKyc')">
                            <i class="fa fa-times-circle" aria-hidden="true"></i>
                          </div>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <div class="mgn-bt-20"
              *ngIf="selectedMessage['coApplicantKyc'] && selectedMessage['coApplicantKyc'].files && selectedMessage['coApplicantKyc'].files.length > 0">
            </div>
            <!----kycpart coappliocant end-->

            <!--pancard start-->
            <span class="group-head">Pancard Details</span><br>
            <div class="bggrey my-2">
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Applicant KYC</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <mat-select [disabled]="!editable" class="form-control widthWebKit" placeholder="Pancard">
                      <mat-option [value]="'Pancard'">
                        <div>
                          Pancard
                        </div>
                      </mat-option>
                    </mat-select>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Pancard number</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <textarea [readonly]="true" rowa="10" class="form-control" formControlName="panNumberCoApplicant" #panNumber
                      (change)="handlpanNumber(panNumber.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                      placeholder="Enter Pancard number">
                      </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
              </div>
              <div class="fieldPadding">
                <div class="">
                  <input [readonly]="true" #file type="file" accept="/*;capture=camera" style="display:none;" multiple
                    (change)="filesSelected($event, 'coApplicantPan')">Click / Drop your files heree
                  <a class="btn btn-clean btn-icon btn-md" (click)="file.click()"><i class="material-icons">
                      attach_file</i></a>
                </div>
              </div>
              <div>
                <div class="img-section clearfix mgn-up-20"
                  *ngIf="selectedMessage['coApplicantPan'] && selectedMessage['coApplicantPan'].files && selectedMessage['coApplicantPan'].files.length > 0">
                  <ul class="galul">
                    <li *ngFor="let file of selectedMessage['coApplicantPan'].files;let i = index ">
                      <div class="galimg_outer">
                        <div class="gal_img">
                          <img [src]="getImage(selectedMessage['coApplicantPan'].base64[i], file)"
                            *ngIf="selectedMessage['coApplicantPan'].base64[i]">
                        </div>
                        <div class="gal_action" (click)="deleteTempImage(i, 'coApplicantPan')">
                          <i class="fa fa-times-circle" aria-hidden="true"></i>
                        </div>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="mgn-bt-20"
              *ngIf="selectedMessage['coApplicantPan'] && selectedMessage['coApplicantPan'].files && selectedMessage['coApplicantPan'].files.length > 0">
            </div>

            <!--pancard end-->

            <span class="group-head">Details</span><br>
            <div class="bggrey my-2">
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Telephone Type</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <mat-select [disabled]="!editable" class="form-control widthWebKit" placeholder="" #telephoneType
                      formControlName="telephoneTypeCoApplicant">
                      <mat-option [value]="'Residence'">
                        <div>
                          Residence
                        </div>
                      </mat-option>
                      <mat-option [value]="'Company'">
                        <div>
                          Company
                        </div>
                      </mat-option>
                      <mat-option [value]="'Mobile'">
                        <div>
                          Mobile
                        </div>
                      </mat-option>
                      <mat-option [value]="'Permanent'">
                        <div>
                          Permanent
                        </div>
                      </mat-option>
                      <mat-option [value]="'Foreign'">
                        <div>
                          Foreign
                        </div>
                      </mat-option>
                      <mat-option [value]="'Untagged'">
                        <div>
                          Untagged
                        </div>
                      </mat-option>
                      <mat-option [value]="'Other'">
                        <div>
                          Other
                        </div>
                      </mat-option>


                    </mat-select>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Telephone number</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <textarea [readonly]="true" rowa="10" class="form-control" formControlName="telephoneNumberCoApplicant"
                      #telephoneNumber (change)="handletelephoneNumber(telephoneNumber.value)"
                      (keyup)="autoGrowTextZone($event)" maxlength="10" placeholder="Enter number">
                    </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
              </div>
              <div>
                <div class="leadTitle">
                  <div>House Name</div>
                  <div class="astericColor">*</div>
                </div>
                <div class="fieldPadding">
                  <input [readonly]="true" (keyup)="resetErrors()" type="text" #permanentAddress
                    (ngModelChange)="hamdlepermanentAddress(permanentAddress.value)" placeholder="" class="form-control"
                    formControlName="permanentAddressCoApplicant" autocomplete="off" />
                  <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                    errorMsg="{{leadError}}">
                  </app-field-error-display>
                </div>
              </div>
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>City</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <textarea [readonly]="true" rowa="10" class="form-control" formControlName="permanentCityCoApplicant" #permanentCity
                      (change)="handlepermanentCity(permanentCity.value)" (keyup)="autoGrowTextZone($event)"
                      maxlength="1000" placeholder="">
              </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>State</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <textarea [readonly]="true" rowa="10" class="form-control" formControlName="permanentStateCoApplicant" #permanentState
                      (change)="handlepermanentState(permanentState.value)" (keyup)="autoGrowTextZone($event)"
                      maxlength="1000" placeholder="">
                </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
              </div>
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Pin code</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <textarea [readonly]="true" rowa="10" class="form-control" formControlName="permanentPinCodeCoApplicant"
                      #permanentPinCode (change)="handlepermanentPinCode(permanentPinCode.value)"
                      (keyup)="autoGrowTextZone($event)" maxlength="1000" placeholder="">
              </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Date of birth</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">

                    <input [readonly]="true" (keyup)="resetErrors()" type="date" #dob (ngModelChange)="handledob(dob.value)"
                      placeholder="" class="form-control" formControlName="dobCoApplicant" autocomplete="off" />
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
              </div>
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Relation name</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <textarea [readonly]="true" rowa="10" class="form-control" formControlName="relationNameCoApplicant" #relationName
                      (change)="handlerelationName(relationName.value)" (keyup)="autoGrowTextZone($event)"
                      maxlength="1000" placeholder="">
              </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Relationship Type</div>
                    <div class="astericColor">*</div>
                  </div>
                  <div class="fieldPadding">
                    <mat-select [disabled]="!editable" class="form-control widthWebKit" placeholder="" #relationType
                      formControlName="relationTypeCoApplicant">
                      <mat-option [value]="relation.name" *ngFor="let relation of relations">
                        <div>{{relation.displayName}}</div>
                      </mat-option>                      
                    </mat-select>
                  </div>
                </div>
              </div>
            </div>
            <!-- <span class="group-head">Co-Applicant Details</span><br> -->
            <div class="bggrey my-2">
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Nominee Name</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <textarea [readonly]="true" rowa="10" class="form-control" formControlName="nomineeNameCoApplicant" #nomineeName
                      (change)="handlenomineeName(nomineeName.value)" (keyup)="autoGrowTextZone($event)"
                      maxlength="1000" placeholder="Enter name">
                    </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Nominee Type</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <mat-select [disabled]="!editable" class="form-control widthWebKit" placeholder="" #nomineeType
                      formControlName="nomineeTypeCoApplicant">
                      <mat-option [value]="relation.name" *ngFor="let relation of relations">
                        <div>
                          {{relation.displayName}}
                        </div>
                      </mat-option> 
                    </mat-select>
                  </div>
                </div>
              </div>

              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Address Type</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <mat-select [disabled]="!editable" class="form-control widthWebKit" placeholder="" #addressType
                      formControlName="addressTypeCoApplicant">
                      <mat-option [value]="'Residence'">
                        <div>
                          Residence
                        </div>
                      </mat-option>



                    </mat-select>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Nominee Address</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <input [readonly]="true" (keyup)="resetErrors()" type="text" #address (ngModelChange)="hamdleaddress(address.value)"
                      placeholder="" class="form-control" formControlName="addressCoAplicant" autocomplete="off" />
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
              </div>
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>District</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <textarea [readonly]="true" rowa="10" class="form-control" formControlName="cityCoApplicant" #city
                      (change)="handlecity(city.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                      placeholder="">
              </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>State</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <textarea [readonly]="true" rowa="10" class="form-control" formControlName="stateCoApplicant" #state
                      (change)="handlestate(state.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                      placeholder="">
                </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
              </div>
              <div style="display: flex;gap: 5px">
                <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
                  <div class="leadTitle">
                    <div>Pin code</div>
                    <!-- <div class="astericColor">*</div> -->
                  </div>
                  <div class="fieldPadding">
                    <textarea [readonly]="true" rowa="10" class="form-control" formControlName="pinCoApplicant" #pin
                      (change)="handlepin(pin.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                      placeholder="">
              </textarea>
                    <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                      errorMsg="{{leadError}}">
                    </app-field-error-display>
                  </div>
                </div>
              </div>
            </div>
            <!----co applicant end-->
            <!----for second form btn start-->

            <!----for second form btn end-->

          </div>
        </div>
      </form>

      <div style="margin-top:10px">
        <div class="textareaStart">
          <div class="fiesWithIcon">
            <div>
              <span class="card-title"><b>Remarks</b></span>
            </div>
            <div *ngIf="leadDetails.notes.length>0">
              <span (click)="noteView(leadDetails)" class="pointer-cursor fa fa-external-link"></span>
            </div>
          </div>
          <div style="padding:10px">
            <textarea rows="10" class="form-control" [(ngModel)]="notesTextarea" #taskDescription
              (ngModelChange)="handleNotesDescription(taskDescription.value)" (keyup)="autoGrowTextZone($event)"
              maxlength="1000" placeholder="Enter remarks description"
              style=" height: 40px !important;background: #FCFCFC !important;border: 1.07315px solid #C9C9C9 !important;border-radius: 11.8046px !important;"></textarea>
          </div>
          <!---cancel save btn start-->
          <div
            style="display: flex;justify-content: flex-end;align-items: center;margin-right: 10px;margin-bottom: 10px;">
            <div style="text-align: center;">
              <ng-container>
                <div>
                  <button type="button" class="btn btn-primary font-weight-bold confirmBtn"
                    (click)="saveCreateNote(notesTextarea)">Add Remarks</button>
                </div>
              </ng-container>
            </div>
          </div>
          <div *ngIf="leadDetails.notes.length>0 " style="display: flex;align-items: center;margin-left: 10px;">
            <div>
              <img style="height:25px" src="/assets/images/crmImages/noteIcon.png" />
            </div>
            <div class="label" style="padding:0px !important">
              ( Saved Remarks)
            </div>
          </div>
          <div class="my-2  height-limit" *ngIf="leadDetails.notes.length>0 ">
            <!-- <app-common-innerloading-spinner *ngIf="api_loading"></app-common-innerloading-spinner> -->
            <div>
              <div *ngFor="let note of leadDetails.notes;let i=index" class="allNotesList"
                style="display: flex;justify-content: space-between;align-items: center;">
                <div class="notesListSection">
                  {{note.note}}
                </div>
                <div class="notesListSection">
                  <div>{{note.createdDate}}</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div style="text-align: center;margin-top: 15px;">
        <ng-container>
          <div class=" mgn-bt-20 mgn-up-10" style="display: flex;justify-content: center;gap: 10px;">
            <button type="button" class="btn btn-primary font-weight-bold cancelBtn" (click)="goback()">Cancel
            </button>
            <!-- <button class="btn btn-primary font-weight-bold confirmBtn" type="button" (click)="crifStatus()">Save
            </button> -->
            <button type="button" class="btn btn-primary font-weight-bold confirmBtn" style="background: #D7FEE9 !important;
            border: 1.0803px solid #D7FFE9 !important;color: #38C984 !important;" (click)="ProceedStatusToSales()">Proceed
            </button>
            <button type="button" class="btn btn-primary font-weight-bold confirmBtn"
              style="background: #FADDDD !important;color:black !important" (click)="failedStatus()">Rejected
            </button>
            <!-- <button type="button" class="btn btn-primary font-weight-bold confirmBtn" (click)="toggleShow()">Remarks
            </button> -->
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</section>
<section *ngIf="showqnr">
  <div class="row d-lg-flex justify-content-lg-start" *ngIf="showQuestionnaire && showqnr">
    <div class="card">
      <div style="display: flex;
      align-items: center;background-color: #fff;
      gap: 10px;margin-left: 30px;" *ngIf="(leadDetails.customer)">
        <div class="imageClass">
          <div style="color: #8A8383;">{{firstCustomerName | capitalizeFirst}}</div>
        </div>
        <div>
          <div>
            <div style="font-size: 14px;
          color: #000000;
          font-weight: bold;
          margin-bottom: 4px;">{{customerName | capitalizeFirst}}</div>
          </div>
          <div>
            <div style="font-size: 12px;color: #000000;">+91{{customerPhNo}}</div>
          </div>
        </div>
      </div>
    </div>
    <hr />
    <app-questionnaire [questionnaireList]="leadquestionnaireList" [source]="'proLead'"
      [questionAnswers]="questionAnswers" (returnAnswers)="getQuestionAnswers($event)"></app-questionnaire>
  </div>
  <div style="text-align: center;margin-top: 15px;">
    <ng-container>
      <div class=" mgn-bt-20 mgn-up-10">
        <button type="button" class="btn btn-primary font-weight-bold cancelBtn" (click)="goback()">Cancel
        </button>
        <button class="btn btn-primary font-weight-bold confirmBtn" type="button" (click)="submitQnr()">Proceed
        </button>
        <button type="button" class="btn btn-primary font-weight-bold confirmBtn"
          style="margin-left: 10px;;background: #FADDDD !important;color:black !important"
          (click)="failedStatus()">Rejected
        </button>
      </div>
    </ng-container>
  </div>
</section>
<section *ngIf="showafterqnr" style="width: 100%;">
  <div class="row d-lg-flex justify-content-lg-start" *ngIf="showQuestionnaire && showafterqnr">
    <div class="container card mt-4 mx-auto">
    <div >
    <div style="display: flex;
    align-items: center;background-color: #fff;
    gap: 10px;margin-left: 30px;" *ngIf="(leadDetails.customer)">
      <div class="imageClass">
        <div style="color: #8A8383;">{{firstCustomerName | capitalizeFirst}}</div>
      </div>
    <div>
      <div> 
        <div style="font-size: 14px;
        color: #000000;
        font-weight: bold;
        margin-bottom: 4px;">{{customerName | capitalizeFirst}}</div>
      </div>
      <div>
        <div style="font-size: 12px;color: #000000;">+91{{customerPhNo}}</div>
      </div>
    </div>
    </div>
  </div>
</div>
  <hr />
    <app-questionnaire [questionnaireList]="unreleased_question_arr" [source]="'proLeadafter'"
      [questionAnswers]="questionAnswers" (returnAnswers)="getQuestionAnswers($event)"></app-questionnaire>


  </div>
  <div style="text-align: center;margin-top: 15px;">
    <ng-container>
      <div class=" mgn-bt-20 mgn-up-10">
        <button type="button" class="btn btn-primary font-weight-bold cancelBtn" (click)="goback()">Cancel
        </button>
        <button class="btn btn-primary font-weight-bold confirmBtn" type="button" (click)="submitafterQnr()">Submit
        </button>
        <button type="button" class="btn btn-primary font-weight-bold confirmBtn" style="margin-left: 10px;;background: #FADDDD !important;color:black !important" (click)="failedStatus()">Rejected
        </button>
      </div>
    </ng-container>
  </div>
</section>

<section class="container card mt-4 mx-auto" *ngIf="afterCreatetKycproceed">
  <div class=" card bgColor">
    <div style="display: flex;
    align-items: center;
    gap: 10px;" *ngIf="(leadDetails.customer)">
      <div class="imageClass">
        <div style="color: #8A8383;">{{firstCustomerName | capitalizeFirst}}</div>
      </div>
    <div>
      <div> 
        <div style="font-size: 14px;
        color: #000000;
        font-weight: bold;
        margin-bottom: 4px;">{{customerName | capitalizeFirst}}</div>
      </div>
      <div>
        <div style="font-size: 12px;color: #000000;">+91{{customerPhNo}}</div>
      </div>
    </div>
    </div>
  <hr />
    <div class="inputwithImg">
      <form [formGroup]="createLeadForm">
        <span class="group-head">KYC Details</span><br>
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Applicant KYC</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #idTypes formControlName="idTypes">
                  <mat-option [value]="kyc.name" *ngFor="let kyc of kyc_list">
                    <div>{{kyc.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Number</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="idValue" #idValue
                  (change)="handleidValue(idValue.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter number">
                      </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            
          </div>
          <div  class="bggrey my-2 clearfix fieldPadding">
            <div class="">
              <input #logofile type="file" accept="/*;capture=camera" style="display:none;" multiple
                (change)="filesSelected($event, 'applicant')">Click / Drop your files here
              <a class="btn btn-clean btn-icon btn-md" (click)="logofile.click()"><i class="material-icons">
                  attach_file</i></a>
            </div>
  
            <div>
              <div class="img-section clearfix mgn-up-20"
                *ngIf="selectedMessage['applicant'] && selectedMessage['applicant'].files && selectedMessage['applicant'].files.length > 0">
                <ul class="galul">
                  <li *ngFor="let file of selectedMessage['applicant'].files;let i = index ">
                    <div class="galimg_outer">
                      <div class="gal_img">
                        <img [src]="getImage(selectedMessage['applicant'].base64[i], file)"
                          *ngIf="selectedMessage['applicant'].base64[i]">
                      </div>
                      <div class="gal_action" (click)="deleteTempImage(i, 'applicant')">
                        <i class="fa fa-times-circle" aria-hidden="true"></i>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="bggrey my-2 clearfix" *ngIf="updateValue && updateValue.validationIds && updateValue.validationIds[0] && updateValue.validationIds[0].attachments.length > 0">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">

              <div *ngFor="let file of updateValue.validationIds[0].attachments">
                <a href="{{file.s3path}}" target="_blank" download>
                  <img style="height: 20px; width:20px;" [src]="getImageType(file.fileType)" alt="">
                  {{file.fileName?.length>10 ? file.fileName.slice(0, 10)+'...' : file.fileName}}
                </a>

              </div>
            </div>

          </div>
        </div>
        <div class="mgn-bt-20"
          *ngIf="selectedMessage['applicant'] && selectedMessage['applicant'].files && selectedMessage['applicant'].files.length > 0"></div>

        <!----second appplicant start-->
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Applicant KYC</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #idTypes1 formControlName="idTypes1">
                  <mat-option [value]="kyc.name" *ngFor="let kyc of kyc_list">
                    <div>{{kyc.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Number</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="idValue1" #idValue1
                  (change)="handleidValue1(idValue1.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter number">
                      </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            
          </div>
          <div class="fieldPadding">
            <div class="">
              <input #files type="file" accept="/*;capture=camera" style="display:none;" multiple
                (change)="filesSelected($event,'kyc')">Click / Drop your files here
              <a class="btn btn-clean btn-icon btn-md" (click)="files.click()"><i class="material-icons">
                  attach_file</i></a>
            </div>

            <div>
              <div class="img-section clearfix mgn-up-20"
                *ngIf="selectedMessage['kyc'] && selectedMessage['kyc'].files && selectedMessage['kyc'].files.length > 0">
                <ul class="galul">
                  <li *ngFor="let file of selectedMessage['kyc'].files;let i = index ">
                    <div class="galimg_outer">
                      <div class="gal_img">
                        <img [src]="getImage(selectedMessage['kyc'].base64[i], file)"
                          *ngIf="selectedMessage['kyc'].base64[i]">
                      </div>
                      <div class="gal_action" (click)="deleteTempImage(i, 'kyc')">
                        <i class="fa fa-times-circle" aria-hidden="true"></i>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="bggrey my-2 clearfix" *ngIf="updateValue && updateValue.validationIds && updateValue.validationIds[1] && updateValue.validationIds[1].attachments.length > 0">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">

              <div *ngFor="let file of updateValue.validationIds[1].attachments">
                <a href="{{file.s3path}}" target="_blank" download>
                  <img style="height: 20px; width:20px;" [src]="getImageType(file.fileType)" alt="">
                  {{file.fileName?.length>10 ? file.fileName.slice(0, 10)+'...' : file.fileName}}
                </a>

              </div>
            </div>

          </div>
        </div>
        <div class="mgn-bt-20" *ngIf="selectedMessage['kyc'] && selectedMessage['kyc'].files && selectedMessage['kyc'].files.length > 0"></div>
        <span class="group-head">Pancard Details</span><br>
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Applicant KYC</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="Pancard">
                  <mat-option [value]="'Pancard'">
                    <div>
                      Pancard
                    </div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Pancard number</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="panNumber" #panNumber
                  (change)="handlpanNumber(panNumber.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter Pancard number">
                      </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div class="fieldPadding">
            <div class="">
              <input #file type="file" accept="/*;capture=camera" style="display:none;" multiple
                (change)="filesSelected($event, 'pan')">Click / Drop your files heree
              <a class="btn btn-clean btn-icon btn-md" (click)="file.click()"><i class="material-icons">
                  attach_file</i></a>
            </div>
          </div>
          <div>
            <div class="img-section clearfix mgn-up-20"
              *ngIf="selectedMessage['pan'] && selectedMessage['pan'].files && selectedMessage['pan'].files.length > 0">
              <ul class="galul">
                <li *ngFor="let file of selectedMessage['pan'].files;let i = index ">
                  <div class="galimg_outer">
                    <div class="gal_img">
                      <img [src]="getImage(selectedMessage['pan'].base64[i], file)"
                        *ngIf="selectedMessage['pan'].base64[i]">
                    </div>
                    <div class="gal_action" (click)="deleteTempImage(i, 'pan')">
                      <i class="fa fa-times-circle" aria-hidden="true"></i>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>     
        </div>
        <span class="group-head" *ngIf="updateValue && updateValue.panAttachments">Pancard File Details</span><br>
        <div class="bggrey my-2" *ngIf="updateValue && updateValue.panAttachments">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding" >

              <div *ngFor="let file of updateValue.panAttachments ;let i= index">
                <a  href="{{file.s3path}}" target="_blank" download>
                  <img style="height: 20px; width:20px;" [src]="getImageType(file.fileType)" alt="">
                  {{file.fileName?.length>10 ? file.fileName.slice(0, 10)+'...' : file.fileName}}
                </a>

              </div>
            </div>

          </div>
        </div>
        <div class="mgn-bt-20" *ngIf="selectedMessage['pan'] && selectedMessage['pan'].files && selectedMessage['pan'].files.length > 0"></div>
        <span class="group-head">Details</span><br>
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Telephone Type</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #telephoneType
                  formControlName="telephoneType">
                  <mat-option [value]="'Residence'">
                    <div>
                      Residence
                    </div>
                  </mat-option>
                  <mat-option [value]="'Company'">
                    <div>
                      Company
                    </div>
                  </mat-option>
                  <mat-option [value]="'Mobile'">
                    <div>
                      Mobile
                    </div>
                  </mat-option>
                  <mat-option [value]="'Permanent'">
                    <div>
                      Permanent
                    </div>
                  </mat-option>
                  <mat-option [value]="'Foreign'">
                    <div>
                      Foreign
                    </div>
                  </mat-option>
                  <mat-option [value]="'Military'">
                    <div>
                      Military
                    </div>
                  </mat-option>
                  <mat-option [value]="'Other'">
                    <div>
                      Other
                    </div>
                  </mat-option>

                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Telephone number</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="telephoneNumber" #telephoneNumber
                  (change)="handletelephoneNumber(telephoneNumber.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="10" placeholder="Enter number">
                    </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div>
            <div class="leadTitle">
              <div>House Name</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <input (keyup)="resetErrors()" type="text" #permanentAddress (ngModelChange)="hamdlepermanentAddress(permanentAddress.value)"
                placeholder="" class="form-control" formControlName="permanentAddress" autocomplete="off" />
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>City</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="permanentCity" #permanentCity (change)="handlepermanentCity(permanentCity.value)"
                  (keyup)="autoGrowTextZone($event)" maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>State</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <!-- <textarea rowa="10" class="form-control" formControlName="permanentState" #permanentState
                  (change)="handlepermanentState(permanentState.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="">
                </textarea> -->
                <mat-select class="form-control widthWebKit" placeholder="" #relationType
                formControlName="permanentState">
                <mat-option *ngFor="let state of states" [value]="state.name">
                  <div>{{state.displayName}}</div>
                </mat-option>
              </mat-select>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Pin code</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="permanentPinCode" #permanentPinCode (change)="handlepermanentPinCode(permanentPinCode.value)"
                  (keyup)="autoGrowTextZone($event)" maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Date of birth</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">

                <input (keyup)="resetErrors()" type="date" #dob (ngModelChange)="handledob(dob.value)" placeholder=""
                  class="form-control" formControlName="dob" autocomplete="off" />
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Relation name</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="relationName" #relationName
                  (change)="handlerelationName(relationName.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Relationship Type</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #relationType
                  formControlName="relationType">
                  <mat-option [value]="relation.name" *ngFor="let relation of relations">
                    <div>{{relation.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
          </div>
        </div>
        <!-- <span class="group-head">Co-Applicant Details</span><br> -->
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Nominee Name</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="nomineeName" #nomineeName
                  (change)="handlenomineeName(nomineeName.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter name">
                    </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Nominee Type</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #nomineeType formControlName="nomineeType">
                  <mat-option [value]="relation.name" *ngFor="let relation of relations">
                    <div>{{relation.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Address Type</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #addressType
                  formControlName="addressType">
                  <mat-option [value]="'Residence'">
                    <div>
                      Residence
                    </div>
                  </mat-option>
                 


                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Nominee Address</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <input (keyup)="resetErrors()" type="text" #address
                  (ngModelChange)="hamdleaddress(address.value)" placeholder="" class="form-control"
                  formControlName="address" autocomplete="off" />
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>District</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="city" #city
                  (change)="handlecity(city.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>State</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <!-- <textarea rowa="10" class="form-control" formControlName="state" #state
                  (change)="handlestate(state.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="1000" placeholder="">
                </textarea> -->
                <mat-select class="form-control widthWebKit" placeholder="" #relationType
                formControlName="state">
                <mat-option *ngFor="let state of states" [value]="state.name">
                  <div>{{state.displayName}}</div>
                </mat-option>
              </mat-select>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Pin code</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="pin" #pin
                  (change)="handlepin(pin.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
        </div>
      </form>

      <form [formGroup]="createCoApplicantForm" >
        <div>
        <div *ngFor="let item of updateValueCoApplicant[0];let i = index;" >
         
         <div style="border-bottom: 1px solid #04A5FF;height: 30px;">
          <div style="display: flex;justify-content: space-between;align-items: center;">
            <div style="font-size: 15px!important;font-weight: bold!important" *ngIf="i===0">
             Co-Applicant Name
            </div>
            <div style="font-size: 15px!important;font-weight: bold!important" *ngIf="i>0">
              Co-Applicant {{i}} Name
             </div>
            <div>
             <i (click)="deleteDynamicForm(i)" style="cursor:pointer" class="fa fa-trash" aria-hidden="true"></i>
            </div>
          </div>
         </div>
         <!--propiosed ammount start--->
          <!-- <div>
            <div class="leadTitle" style="margin-top: 10px;">
              <div>Proposed Amount</div>
            </div>
            <div class="fieldPadding">
              <input style="width:100% !important" (keyup)="resetErrors()" type="number" #proposedAmmounts
                 placeholder="" class="form-control" (ngModelChange)="proposedAmmount(proposedAmmounts.value)"
                formControlName="proposedAmmount" autocomplete="off" min="0" />
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div> -->
          <!--propiosed ammount end--->
          <!--co applicant name phno start-->
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Name</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="nameCoApplicant" #nameCoApplicant
                   (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter name">
                      </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Phone Number</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <input  class="form-control" formControlName="phNOCoApplicant" #phNOCoApplicant
                  type="tel"
                  placeholder="Enter number"
                      />
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div> 
            </div>
          </div>
          <!--coapplicant name phno end-->

          <span class="group-head">KYC Details</span><br>
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Applicant KYC</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #idTypes formControlName="idTypes1CoApplicant">
                  <mat-option [value]="kyc.name" *ngFor="let kyc of kyc_list">
                    <div>{{kyc.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Number</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="idValue1CoApplicant" #idValue 
                  (change)="handleidValue(idValue.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter number">
                      </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
           
          </div>
          <div class="bggrey my-2 clearfix" *ngIf="updateValueCoApplicant && updateValueCoApplicant[0] && updateValueCoApplicant[0][0].validationIds && updateValueCoApplicant[0][0].validationIds[0] && updateValueCoApplicant[0][0].validationIds[0].attachments.length > 0">
            <div style="display: flex;gap: 5px">
              <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
  
                <div *ngFor="let file of updateValueCoApplicant[0][0].validationIds[0].attachments">
                  <a href="{{file.s3path}}" target="_blank" download>
                    <img style="height: 20px; width:20px;" [src]="getImageType(file.fileType)" alt="">
                    {{file.fileName?.length>10 ? file.fileName.slice(0, 10)+'...' : file.fileName}}
                  </a>
  
                </div>
              </div>
  
            </div>
          </div>
          <div class="fieldPadding" *ngIf="updateValueCoApplicant && !updateValueCoApplicant[0]">
            <div class="">
              <input #logofile type="file" accept="/*;capture=camera" style="display:none;" multiple
                (change)="filesSelected($event, 'coApplicant')">Click / Drop your files here
              <a class="btn btn-clean btn-icon btn-md" (click)="logofile.click()"><i class="material-icons">
                  attach_file</i></a>
            </div>

            <div>
              <div class="img-section mgn-up-20" *ngIf="selectedMessage['coApplicant'] && selectedMessage['coApplicant'].files && selectedMessage['coApplicant'].files.length > 0">
                <ul class="galul">
                  <li *ngFor="let file of selectedMessage['coApplicant'].files;let i = index ">
                    <div class="galimg_outer">
                      <div class="gal_img">
                        <img [src]="getImage(selectedMessage['coApplicant'].base64[i], file)" *ngIf="selectedMessage['coApplicant'].base64[i]">
                      </div>
                      <div class="gal_action" (click)="deleteTempImage(i, 'coApplicant')">
                        <i class="fa fa-times-circle" aria-hidden="true"></i>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>

            </div>
          </div>
        </div>
        <div *ngIf="selectedMessage['coApplicant'] && selectedMessage['coApplicant'].files && selectedMessage['coApplicant'].files.length > 0"></div>
        <!-- <span class="group-head">KYC Details</span><br> -->

        <!------kyc part start coapplicant-->
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Applicant KYC</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #idTypes1 formControlName="idTypes2CoApplicant">
                  <mat-option [value]="kyc.name" *ngFor="let kyc of kyc_list">
                    <div>{{kyc.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Number</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="idValue2CoApplicant" #idValue1
                  (change)="handleidValue1(idValue1.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter number">
                      </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
           
          </div>          
          <div class="bggrey my-2 clearfix" *ngIf="updateValueCoApplicant && updateValueCoApplicant[0] && updateValueCoApplicant[0][0].validationIds && updateValueCoApplicant[0][0].validationIds[1] && updateValueCoApplicant[0][0].validationIds[1].attachments.length > 0">
            <div style="display: flex;gap: 5px">
              <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
  
                <div *ngFor="let file of updateValueCoApplicant[0][0].validationIds[1].attachments">
                  <a href="{{file.s3path}}" target="_blank" download>
                    <img style="height: 20px; width:20px;" [src]="getImageType(file.fileType)" alt="">
                    {{file.fileName?.length>10 ? file.fileName.slice(0, 10)+'...' : file.fileName}}
                  </a>
  
                </div>
              </div>
  
            </div>
          </div>
          <div class="fieldPadding" *ngIf="updateValueCoApplicant && !updateValueCoApplicant[0]">
            <div class="">
              <input #files type="file" accept="/*;capture=camera" style="display:none;" multiple
                (change)="filesSelected($event, 'kycCoApplicant')">Click / Drop your files here
              <a class="btn btn-clean btn-icon btn-md" (click)="files.click()"><i class="material-icons">
                  attach_file</i></a>
            </div>

            <div>
              <div class="img-section mgn-up-20" *ngIf="selectedMessage['kycCoApplicant'] && selectedMessage['kycCoApplicant'].files && selectedMessage['kycCoApplicant'].files.length > 0">
                <ul class="galul">
                  <li *ngFor="let file of selectedMessage['kycCoApplicant'].files;let i = index ">
                    <div class="galimg_outer">
                      <div class="gal_img">
                        <img [src]="getImage(selectedMessage['kycCoApplicant'].base64[i], file)" *ngIf="selectedMessage['kycCoApplicant'].base64[i]">
                      </div>
                      <div class="gal_action" (click)="deleteTempImage(i, 'kycCoApplicant')">
                        <i class="fa fa-times-circle" aria-hidden="true"></i>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="selectedMessage['kycCoApplicant'] && selectedMessage['kycCoApplicant'].files && selectedMessage['kycCoApplicant'].files.length > 0"></div>
        <!----kycpart coappliocant end-->

        <!--pancard start-->
        <span class="group-head">Pancard Details</span><br>
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Applicant KYC</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="Pancard">
                  <mat-option [value]="'Pancard'">
                    <div>
                      Pancard
                    </div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Pancard number</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="panNumberCoApplicant" #panNumber
                  (change)="handlpanNumber(panNumber.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter Pancard number">
                      </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div class="bggrey my-2" *ngIf="updateValueCoApplicant && updateValueCoApplicant[0] && updateValueCoApplicant[0][0].panAttachments">
            <div style="display: flex;gap: 5px">
              <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
  
                <div *ngFor="let file of updateValueCoApplicant[0][0].panAttachments ;let i= index">
                  <a href="{{file.s3path}}" target="_blank" download>
                    <img style="height: 20px; width:20px;" [src]="getImageType(file.fileType)" alt="">
                    {{file.fileName?.length>10 ? file.fileName.slice(0, 10)+'...' : file.fileName}}
                  </a>
  
                </div>
              </div>
  
            </div>
          </div>
          <div class="fieldPadding" *ngIf="updateValueCoApplicant && !updateValueCoApplicant[0]">
            <div class="">
              <input #file type="file" accept="/*;capture=camera" style="display:none;" multiple
                (change)="filesSelected($event, 'coApplicantPan')">Click / Drop your files heree
              <a class="btn btn-clean btn-icon btn-md" (click)="file.click()"><i class="material-icons">
                  attach_file</i></a>
            </div>
          </div>
          <div>
            <div class="img-section mgn-up-20" *ngIf="selectedMessage['coApplicantPan'] && selectedMessage['coApplicantPan'].files && selectedMessage['coApplicantPan'].files.length > 0">
              <ul class="galul">
                <li *ngFor="let file of selectedMessage['coApplicantPan'].files;let i = index ">
                  <div class="galimg_outer">
                    <div class="gal_img">
                      <img [src]="getImage(selectedMessage['coApplicantPan'].base64[i], file)" *ngIf="selectedMessage['coApplicantPan'].base64[i]">
                    </div>
                    <div class="gal_action" (click)="deleteTempImage(i, 'coApplicantPan')">
                      <i class="fa fa-times-circle" aria-hidden="true"></i>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="mgn-bt-20" *ngIf="selectedMessage['coApplicantPan'] && selectedMessage['coApplicantPan'].files && selectedMessage['coApplicantPan'].files.length > 0"></div>
        
        <!--pancard end-->
        
        <span class="group-head">Details</span><br>
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Telephone Type</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #telephoneType
                  formControlName="telephoneTypeCoApplicant">
                  <mat-option [value]="'Residence'">
                    <div>
                      Residence
                    </div>
                  </mat-option>
                  <mat-option [value]="'Company'">
                    <div>
                      Company
                    </div>
                  </mat-option>
                  <mat-option [value]="'Mobile'">
                    <div>
                      Mobile
                    </div>
                  </mat-option>
                  <mat-option [value]="'Permanent'">
                    <div>
                      Permanent
                    </div>
                  </mat-option>
                  <mat-option [value]="'Foreign'">
                    <div>
                      Foreign
                    </div>
                  </mat-option>
                  <mat-option [value]="'Untagged'">
                    <div>
                      Untagged
                    </div>
                  </mat-option>
                  <mat-option [value]="'Other'">
                    <div>
                      Other
                    </div>
                  </mat-option>


                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Telephone number</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="telephoneNumberCoApplicant" #telephoneNumber
                  (change)="handletelephoneNumber(telephoneNumber.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="10" placeholder="Enter number">
                    </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div>
            <div class="leadTitle">
              <div>House Name</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <input (keyup)="resetErrors()" type="text" #permanentAddress (ngModelChange)="hamdlepermanentAddress(permanentAddress.value)"
                placeholder="" class="form-control" formControlName="permanentAddressCoApplicant" autocomplete="off" />
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>City</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="permanentCityCoApplicant" #permanentCity (change)="handlepermanentCity(permanentCity.value)"
                  (keyup)="autoGrowTextZone($event)" maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>State</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="permanentStateCoApplicant" #permanentState
                  (change)="handlepermanentState(permanentState.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="">
                </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Pin code</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="permanentPinCodeCoApplicant" #permanentPinCode (change)="handlepermanentPinCode(permanentPinCode.value)"
                  (keyup)="autoGrowTextZone($event)" maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Date of birth</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">

                <input (keyup)="resetErrors()" type="date" #dob (ngModelChange)="handledob(dob.value)" placeholder=""
                  class="form-control" formControlName="dobCoApplicant" autocomplete="off" />
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Relation name</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="relationNameCoApplicant" #relationName
                  (change)="handlerelationName(relationName.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Relationship Type</div>
                <div class="astericColor">*</div>
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #relationType
                  formControlName="relationTypeCoApplicant">
                  <mat-option [value]="relation.name" *ngFor="let relation of relations">
                    <div>{{relation.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
          </div>
        </div>
        <!-- <span class="group-head">Co-Applicant Details</span><br> -->
        <div class="bggrey my-2">
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Nominee Name</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="nomineeNameCoApplicant" #nomineeName
                  (change)="handlenomineeName(nomineeName.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                  placeholder="Enter name">
                    </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Nominee Type</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #nomineeType formControlName="nomineeTypeCoApplicant">
                  <mat-option [value]="relation.name" *ngFor="let relation of relations">
                    <div>{{relation.displayName}}</div>
                  </mat-option>
                </mat-select>
              </div>
            </div>
          </div>
         
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Address Type</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <mat-select class="form-control widthWebKit" placeholder="" #addressType
                  formControlName="addressTypeCoApplicant">
                  <mat-option [value]="'Residence'">
                    <div>
                      Residence
                    </div>
                  </mat-option>
                 


                </mat-select>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Nominee Address</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <input (keyup)="resetErrors()" type="text" #address
                  (ngModelChange)="hamdleaddress(address.value)" placeholder="" class="form-control"
                  formControlName="addressCoAplicant" autocomplete="off" />
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>District</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="cityCoApplicant" #city
                  (change)="handlecity(city.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>State</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="stateCoApplicant" #state
                  (change)="handlestate(state.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="1000" placeholder="">
                </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
          <div style="display: flex;gap: 5px">
            <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
              <div class="leadTitle">
                <div>Pin code</div>
                <!-- <div class="astericColor">*</div> -->
              </div>
              <div class="fieldPadding">
                <textarea rowa="10" class="form-control" formControlName="pinCoApplicant" #pin
                  (change)="handlepin(pin.value)" (keyup)="autoGrowTextZone($event)"
                  maxlength="1000" placeholder="">
              </textarea>
                <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                  errorMsg="{{leadError}}">
                </app-field-error-display>
              </div>
            </div>
          </div>
        </div>
        <!----co applicant end-->
        <!----for second form btn start-->
      
       <!----for second form btn end-->
      
      </div>
    </div>
    </form>

    <form [formGroup]="createCoApplicantForm" *ngIf="isAnyCoapp">
      <div  [formArrayName]="'formField'" >
      <div *ngFor="let item of formControlArray;let i = index;" [formGroupName]="i">
       
       <div style="border-bottom: 1px solid #04A5FF;height: 30px;">
        <div style="display: flex;justify-content: space-between;align-items: center;">
          <div style="font-size: 15px!important;font-weight: bold!important" *ngIf="i===0">
           Co-Applicant Name
          </div>
          <div style="font-size: 15px!important;font-weight: bold!important" *ngIf="i>0">
            Co-Applicant {{i}} Name
           </div>
          <div>
           <i (click)="deleteDynamicForm(i)" style="cursor:pointer" class="fa fa-trash" aria-hidden="true"></i>
          </div>
        </div>
       </div>
       <!--propiosed ammount start--->
        <!-- <div>
          <div class="leadTitle" style="margin-top: 10px;">
            <div>Proposed Amount</div>
          </div>
          <div class="fieldPadding">
            <input style="width:100% !important" (keyup)="resetErrors()" type="number" #proposedAmmounts
               placeholder="" class="form-control" (ngModelChange)="proposedAmmount(proposedAmmounts.value)"
              formControlName="proposedAmmount" autocomplete="off" min="0" />
            <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
              errorMsg="{{leadError}}">
            </app-field-error-display>
          </div>
        </div> -->
        <!--propiosed ammount end--->
        <!--co applicant name phno start-->
        <div style="display: flex;gap: 5px">
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Name</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <textarea rowa="10" class="form-control" formControlName="nameCoApplicant" #nameCoApplicant
                 (keyup)="autoGrowTextZone($event)" maxlength="1000"
                placeholder="Enter name">
                    </textarea>
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Phone Number</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <input  class="form-control" formControlName="phNOCoApplicant" #phNOCoApplicant
                type="tel"
                placeholder="Enter number"
                    />
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div> 
          </div>
        </div>
        <!--coapplicant name phno end-->

        <span class="group-head">KYC Details</span><br>
      <div class="bggrey my-2">
        <div style="display: flex;gap: 5px">
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Applicant KYC</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <mat-select class="form-control widthWebKit" placeholder="" #idTypes formControlName="idTypes1CoApplicant">
                <mat-option [value]="kyc.name" *ngFor="let kyc of kyc_list">
                  <div>{{kyc.displayName}}</div>
                </mat-option>
              </mat-select>
            </div>
          </div>
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Number</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <textarea rowa="10" class="form-control" formControlName="idValue1CoApplicant" #idValue 
                (change)="handleidValue(idValue.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                placeholder="Enter number">
                    </textarea>
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
         
        </div>

        <div class="fieldPadding">
          <div class="">
            <input #logofile type="file" accept="/*;capture=camera" style="display:none;" multiple
              (change)="filesSelected($event, 'coApplicant')">Click / Drop your files here
            <a class="btn btn-clean btn-icon btn-md" (click)="logofile.click()"><i class="material-icons">
                attach_file</i></a>
          </div>

          <div>
            <div class="img-section mgn-up-20" *ngIf="selectedMessage['coApplicant'] && selectedMessage['coApplicant'].files && selectedMessage['coApplicant'].files.length > 0">
              <ul class="galul">
                <li *ngFor="let file of selectedMessage['coApplicant'].files;let i = index ">
                  <div class="galimg_outer">
                    <div class="gal_img">
                      <img [src]="getImage(selectedMessage['coApplicant'].base64[i], file)" *ngIf="selectedMessage['coApplicant'].base64[i]">
                    </div>
                    <div class="gal_action" (click)="deleteTempImage(i, 'coApplicant')">
                      <i class="fa fa-times-circle" aria-hidden="true"></i>
                    </div>
                  </div>
                </li>
              </ul>
            </div>

          </div>
        </div>
      </div>
      <div *ngIf="selectedMessage['coApplicant'] && selectedMessage['coApplicant'].files && selectedMessage['coApplicant'].files.length > 0"></div>
      <!-- <span class="group-head">KYC Details</span><br> -->

      <!------kyc part start coapplicant-->
      <div class="bggrey my-2">
        <div style="display: flex;gap: 5px">
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Applicant KYC</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <mat-select class="form-control widthWebKit" placeholder="" #idTypes1 formControlName="idTypes2CoApplicant">
                <mat-option [value]="kyc.name" *ngFor="let kyc of kyc_list">
                  <div>{{kyc.displayName}}</div>
                </mat-option>
              </mat-select>
            </div>
          </div>
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Number</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <textarea rowa="10" class="form-control" formControlName="idValue2CoApplicant" #idValue1
                (change)="handleidValue1(idValue1.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                placeholder="Enter number">
                    </textarea>
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
         
        </div>

        <div class="fieldPadding">
          <div class="">
            <input #files type="file" accept="/*;capture=camera" style="display:none;" multiple
              (change)="filesSelected($event, 'coApplicantKyc')">Click / Drop your files here
            <a class="btn btn-clean btn-icon btn-md" (click)="files.click()"><i class="material-icons">
                attach_file</i></a>
          </div>

          <div>
            <div class="img-section mgn-up-20" *ngIf="selectedMessage['coApplicantKyc'] && selectedMessage['coApplicantKyc'].files && selectedMessage['coApplicantKyc'].files.length > 0">
              <ul class="galul">
                <li *ngFor="let file of selectedMessage['coApplicantKyc'].files;let i = index ">
                  <div class="galimg_outer">
                    <div class="gal_img">
                      <img [src]="getImage(selectedMessage['coApplicantKyc'].base64[i], file)" *ngIf="selectedMessage['coApplicantKyc'].base64[i]">
                    </div>
                    <div class="gal_action" (click)="deleteTempImage(i, 'coApplicantKyc')">
                      <i class="fa fa-times-circle" aria-hidden="true"></i>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="selectedMessage['coApplicantKyc'] && selectedMessage['coApplicantKyc'].files && selectedMessage['coApplicantKyc'].files.length > 0"></div>
      <!----kycpart coappliocant end-->

      <!--pancard start-->
      <span class="group-head">Pancard Details</span><br>
      <div class="bggrey my-2">
        <div style="display: flex;gap: 5px">
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Applicant KYC</div>
              <!-- <div class="astericColor">*</div> -->
            </div>
            <div class="fieldPadding">
              <mat-select class="form-control widthWebKit" placeholder="Pancard">
                <mat-option [value]="'Pancard'">
                  <div>
                    Pancard
                  </div>
                </mat-option>
              </mat-select>
            </div>
          </div>
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Pancard number</div>
              <!-- <div class="astericColor">*</div> -->
            </div>
            <div class="fieldPadding">
              <textarea rowa="10" class="form-control" formControlName="panNumberCoApplicant" #panNumber
                (change)="handlpanNumber(panNumber.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                placeholder="Enter Pancard number">
                    </textarea>
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
        </div>
        <div class="fieldPadding">
          <div class="">
            <input #file type="file" accept="/*;capture=camera" style="display:none;" multiple
              (change)="filesSelected($event, 'coApplicantPan')">Click / Drop your files heree
            <a class="btn btn-clean btn-icon btn-md" (click)="file.click()"><i class="material-icons">
                attach_file</i></a>
          </div>
        </div>
        <div>
          <div class="img-section mgn-up-20" *ngIf="selectedMessage['coApplicantPan'] && selectedMessage['coApplicantPan'].files && selectedMessage['coApplicantPan'].files.length > 0">
            <ul class="galul">
              <li *ngFor="let file of selectedMessage['coApplicantPan'].files;let i = index ">
                <div class="galimg_outer">
                  <div class="gal_img">
                    <img [src]="getImage(selectedMessage['coApplicantPan'].base64[i], file)" *ngIf="selectedMessage['coApplicantPan'].base64[i]">
                  </div>
                  <div class="gal_action" (click)="deleteTempImage(i, 'coApplicantPan')">
                    <i class="fa fa-times-circle" aria-hidden="true"></i>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="mgn-bt-20" *ngIf="selectedMessage['coApplicantPan'] && selectedMessage['coApplicantPan'].files && selectedMessage['coApplicantPan'].files.length > 0"></div>
      
      <!--pancard end-->
      
      <span class="group-head">Details</span><br>
      <div class="bggrey my-2">
        <div style="display: flex;gap: 5px">
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Telephone Type</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <mat-select  class="form-control widthWebKit" placeholder="" #telephoneType
                formControlName="telephoneTypeCoApplicant">
                <mat-option [value]="'Residence'">
                  <div>
                    Residence
                  </div>
                </mat-option>
                <mat-option [value]="'Company'">
                  <div>
                    Company
                  </div>
                </mat-option>
                <mat-option [value]="'Mobile'">
                  <div>
                    Mobile
                  </div>
                </mat-option>
                <mat-option [value]="'Permanent'">
                  <div>
                    Permanent
                  </div>
                </mat-option>
                <mat-option [value]="'Foreign'">
                  <div>
                    Foreign
                  </div>
                </mat-option>
                <mat-option [value]="'Untagged'">
                  <div>
                    Untagged
                  </div>
                </mat-option>
                <mat-option [value]="'Other'">
                  <div>
                    Other
                  </div>
                </mat-option>


              </mat-select>
            </div>
          </div>
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Telephone number</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <textarea rowa="10" class="form-control" formControlName="telephoneNumberCoApplicant" #telephoneNumber
                (change)="handletelephoneNumber(telephoneNumber.value)" (keyup)="autoGrowTextZone($event)"
                maxlength="10" placeholder="Enter number">
                  </textarea>
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
        </div>
        <div>
          <div class="leadTitle">
            <div>House Name</div>
            <div class="astericColor">*</div>
          </div>
          <div class="fieldPadding">
            <input (keyup)="resetErrors()" type="text" #permanentAddress (ngModelChange)="hamdlepermanentAddress(permanentAddress.value)"
              placeholder="" class="form-control" formControlName="permanentAddressCoApplicant" autocomplete="off" />
            <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
              errorMsg="{{leadError}}">
            </app-field-error-display>
          </div>
        </div>
        <div style="display: flex;gap: 5px">
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>City</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <textarea rowa="10" class="form-control" formControlName="permanentCityCoApplicant" #permanentCity (change)="handlepermanentCity(permanentCity.value)"
                (keyup)="autoGrowTextZone($event)" maxlength="1000" placeholder="">
            </textarea>
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>State</div>
              <div class="astericColor">*</div>
            </div>
            <div>
              <div class="fieldPadding">
              <mat-select class="form-control widthWebKit" placeholder="" #relationType
              formControlName="permanentStateCoApplicant">
              <mat-option [value]="state.name" *ngFor="let state of states">
                <div>{{state.displayName}}</div>
              </mat-option>
            </mat-select>
          </div>
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
        </div>
        <div style="display: flex;gap: 5px">
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Pin code</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <textarea rowa="10" class="form-control" formControlName="permanentPinCodeCoApplicant" #permanentPinCode (change)="handlepermanentPinCode(permanentPinCode.value)"
                (keyup)="autoGrowTextZone($event)" maxlength="1000" placeholder="">
            </textarea>
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Date of birth</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">

              <input (keyup)="resetErrors()" type="date" #dob (ngModelChange)="handledob(dob.value)" placeholder=""
                class="form-control" formControlName="dobCoApplicant" autocomplete="off" />
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
        </div>
        <div style="display: flex;gap: 5px">
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Relation name</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <textarea rowa="10" class="form-control" formControlName="relationNameCoApplicant" #relationName
                (change)="handlerelationName(relationName.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                placeholder="">
            </textarea>
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Relationship Type</div>
              <div class="astericColor">*</div>
            </div>
            <div class="fieldPadding">
              <mat-select class="form-control widthWebKit" placeholder="" #relationType
                formControlName="relationTypeCoApplicant">
                <mat-option [value]="relation.name" *ngFor="let relation of relations">
                  <div>{{relation.displayName}}</div>
                </mat-option>
              </mat-select>
            </div>
          </div>
        </div>
      </div>
      <!-- <span class="group-head">Co-Applicant Details</span><br> -->
      <div class="bggrey my-2">
        <div style="display: flex;gap: 5px">
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Nominee Name</div>
              <!-- <div class="astericColor">*</div> -->
            </div>
            <div class="fieldPadding">
              <textarea rowa="10" class="form-control" formControlName="nomineeNameCoApplicant" #nomineeName
                (change)="handlenomineeName(nomineeName.value)" (keyup)="autoGrowTextZone($event)" maxlength="1000"
                placeholder="Enter name">
                  </textarea>
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Nominee Type</div>
              <!-- <div class="astericColor">*</div> -->
            </div>
            <div class="fieldPadding">
              <mat-select class="form-control widthWebKit" placeholder="" #nomineeType formControlName="nomineeTypeCoApplicant">
                <mat-option [value]="relation.name" *ngFor="let relation of relations">
                  <div>{{relation.displayName}}</div>
                </mat-option>
              </mat-select>
            </div>
          </div>
        </div>
       
        <div style="display: flex;gap: 5px">
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Address Type</div>
              <!-- <div class="astericColor">*</div> -->
            </div>
            <div class="fieldPadding">
              <mat-select class="form-control widthWebKit" placeholder="" #addressType
                formControlName="addressTypeCoApplicant">
                <mat-option [value]="'Residence'">
                  <div>
                    Residence
                  </div>
                </mat-option>
               


              </mat-select>
            </div>
          </div>
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Nominee Address</div>
              <!-- <div class="astericColor">*</div> -->
            </div>
            <div class="fieldPadding">
              <input (keyup)="resetErrors()" type="text" #address
                (ngModelChange)="hamdleaddress(address.value)" placeholder="" class="form-control"
                formControlName="addressCoAplicant" autocomplete="off" />
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
        </div>
        <div style="display: flex;gap: 5px">
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>District</div>
              <!-- <div class="astericColor">*</div> -->
            </div>
            <div class="fieldPadding">
              <textarea rowa="10" class="form-control" formControlName="cityCoApplicant" #city
                (change)="handlecity(city.value)" (keyup)="autoGrowTextZone($event)"
                maxlength="1000" placeholder="">
            </textarea>
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>State</div>
              <!-- <div class="astericColor">*</div> -->
            </div>
            <div class="fieldPadding">
              <!-- <textarea rowa="10" class="form-control" formControlName="stateCoApplicant" #state
                (change)="handlestate(state.value)" (keyup)="autoGrowTextZone($event)"
                maxlength="1000" placeholder="">
              </textarea> -->
              <mat-select class="form-control widthWebKit" placeholder="" #relationType
              formControlName="stateCoApplicant">
              <mat-option *ngFor="let state of states" [value]="state.name">
                <div>{{state.displayName}}</div>
              </mat-option>
            </mat-select>
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
        </div>
        <div style="display: flex;gap: 5px">
          <div class="lbl col-sm-8 col-md-7 col-lg-7 no-padding">
            <div class="leadTitle">
              <div>Pin code</div>
              <!-- <div class="astericColor">*</div> -->
            </div>
            <div class="fieldPadding">
              <textarea rowa="10" class="form-control" formControlName="pinCoApplicant" #pin
                (change)="handlepin(pin.value)" (keyup)="autoGrowTextZone($event)"
                maxlength="1000" placeholder="">
            </textarea>
              <app-field-error-display [displayError]="true" style="color: #f24949 !important;" *ngIf="leadError"
                errorMsg="{{leadError}}">
              </app-field-error-display>
            </div>
          </div>
        </div>
      </div>
      <!----co applicant end-->
      <!----for second form btn start-->
    
     <!----for second form btn end-->
    
    </div>
  </div>
  </form>

    <div>
      <button id="reset" type="button" class="btn btn-primary font-weight-bold coApplicantForm" (click)="addCoApplicant()">
        <div class="applicantBtn">
          <div>
            Add Co-Applicant
          </div>
          <div>
            <i class="fa fa-plus" aria-hidden="true"></i>
          </div>
        </div>
      </button>
     </div>

      <div style="margin-top:10px" >
        <div class="textareaStart">
          <div class="fiesWithIcon">
            <div>
              <span class="card-title"><b>Remarks</b></span> 
            </div>
            <div *ngIf="leadDetails.notes.length>0">
              <span (click)="noteView(leadDetails)" class="pointer-cursor fa fa-external-link"></span>
            </div>
          </div>
          <div style="padding:10px">
            <textarea  rows="10" class="form-control" [(ngModel)]="notesTextarea" #taskDescription
          (ngModelChange)="handleNotesDescription(taskDescription.value)" (keyup)="autoGrowTextZone($event)"
          maxlength="1000" placeholder="Enter remarks description" style=" height: 40px !important;background: #FCFCFC !important;border: 1.07315px solid #C9C9C9 !important;border-radius: 11.8046px !important;"></textarea>
          </div>
          <!---cancel save btn start-->
        <div style="display: flex;justify-content: flex-end;align-items: center;margin-right: 10px;margin-bottom: 10px;">
          <div style="text-align: center;">
              <ng-container>
                  <div>
                      <button type="button" class="btn btn-primary font-weight-bold confirmBtn"
                          (click)="saveCreateNote(notesTextarea)">Add Remarks</button>
                  </div>
              </ng-container>
          </div>
        </div>
      <div *ngIf="leadDetails.notes.length>0 " style="display: flex;align-items: center;margin-left: 10px;" >
        <div>
          <img style="height:25px" src="/assets/images/crmImages/noteIcon.png" />
        </div>
        <div class="label"style="padding:0px !important">
         ( Saved Remarks)
        </div>
      </div>
              <div class="my-2  height-limit" *ngIf="leadDetails.notes.length>0 ">
                <!-- <app-common-innerloading-spinner *ngIf="api_loading"></app-common-innerloading-spinner> -->
                <div >
                  <div *ngFor="let note of leadDetails.notes;let i=index" class="allNotesList" style="display: flex;justify-content: space-between;align-items: center;">
                    <div class="notesListSection">
                      {{note.note}}
                    </div>
                    <div class="notesListSection">
                       <div>{{note.createdDate}}</div>
                    </div>
                   </div>
                </div>
              </div>
        </div>
      </div>

      <div style="text-align: center;margin-top: 15px;">
        <ng-container>
          <div class=" mgn-bt-20 mgn-up-10" style="display: flex;
          justify-content: center;
          gap: 10px;
      ">
            <button type="button" class="btn btn-primary font-weight-bold cancelBtn" (click)="goback()">Cancel
            </button>
            <!-- (click)="crifStatus()" -->
            <button class="btn btn-primary font-weight-bold confirmBtn" type="button"(click)="updateKyc()">Save
            </button>
            <button type="button" class="btn btn-primary font-weight-bold confirmBtn" style="background: #D7FEE9 !important;
            border: 1.0803px solid #D7FFE9 !important;color: #38C984 !important;" (click)="ProceedStatus()">Proceed
            </button>
            <button type="button" class="btn btn-primary font-weight-bold confirmBtn" style="background: #FADDDD !important;color:black !important" (click)="failedStatus()">Rejected
            </button>
          </div>
        </ng-container>
      </div>
    </div>

  </div>


</section>