<section class="card">
    <div class="title-gb no-padding">
      <div class="dash-head text-primary">
        <span class="fa fa-arrow-left pointer-cursor border-cirlce" (click)="goBack()"></span>&nbsp;
          {{headerName}}
      </div>
    </div>
    
  </section>
 <section class="container card mt-4 mx-auto" *ngIf="leadDetails">
   <div>
     <div class="leadTitle" >
      {{leadTitle | capitalizeFirst}}
     </div>
     <!----customar name details start-->
     <div class="customerDetails">
       <div>
        <div class="customerName" >
          <div class="customer">
            {{customer_label | capitalizeFirst}}
          </div>
          <div class="customer">:</div>
          <div class="customer">
            {{customerName | capitalizeFirst}}
          </div>
         </div>
         <div class="customerName">
          <div class="assignCustomer">
           Assignee
          </div>
          <div class="assignCustomer">:</div>
          <div class="assignCustomer">
            {{customerAssigneeName | capitalizeFirst}}
          </div>
         </div>
       </div>
       <div  class="customerLead" >
         <div class="leadDetails">
           Lead Id
         </div>
         <div class="leadDetailsDot">:</div>
         <div class="leadDetails">
           <!---for temopary purp[pose]-->
           {{leadId}}
         </div>
       </div>
     </div>
     <!--customer name details end-->
     <!---status start-->
     <div>
      <div class="eachTab mgn-up-15" style="flex-wrap: wrap;" >
        <div class="customCard redirectionList" *ngFor="let item of redirectionListStatus">
            <div class="activityTemplate">
                <div >
                    <img class="imgTempalte" src="/assets/images/crmImages/navbarIcon.png" />
                </div>
                <div class="topicNameedirectionList" >
                    {{item.activityName}}
                </div>
            </div>
        </div>
    </div>
     </div>
     <!---status end-->
   </div>
     <!----\files start-->
  <div class="notesWidth">
    <div class="notesSection">
      <div class="fiesWithIcon">
        <div>
          <span class="card-title"><b>Files</b></span> 
        </div>
        <div *ngIf="leadDetails.attachments.length>0">
          <span (click)="attatchmentDialog(leadDetails.attachments)" class="pointer-cursor fa fa-external-link"></span>
        </div>
      </div>
      <!-- <hr /> -->
      <div class="text-left" >
          <div class="filesUploadThings">
            <div  mat-button [mat-dialog-close]="true" class="lnk action pointer-cursor btn btn-primary upload-file-btn text-primary inputFile"  (click)="uploadFiles()">
              <div class="filesUploadThingsAction">
               <img width="25px" src="/assets/images/crmImages/fileUpload.png"  />
              <div class="text-dark btn-text">Click or Upload Files related to activity</div>
              </div>
            </div>
            <!-- <div *ngIf="taskType==='SubTask'" mat-button [mat-dialog-close]="true" class="lnk action pointer-cursor btn btn-primary upload-file-btn text-primary inputFile"  (click)="uploadFiles()">
              <div class="filesUploadThingsAction">
               <img width="25px" src="/assets/images/crmImages/fileUpload.png"  />
             <div class="text-dark btn-text">Click or Upload Files related to subactivity</div>
              </div>
            </div> -->
          </div>
          <!-- <span class="label" ><b></b></span> -->
          <div *ngIf="leadDetails.attachments.length>0" style="display: flex;align-items: center;margin-left: 10px;gap:5px" >
            <div>
              <img style="height:25px" src="/assets/images/crmImages/fileUploADHeader.png" />
            </div>
            <div class="label"style="padding:0px !important">
             ( Uploaded Files )
            </div>
          </div>
          <div class="my-2  height-limit" *ngIf="leadDetails.attachments.length>0">
            <div >
              <div *ngFor="let attachment of leadDetails.attachments;let i=index" class="allNotesList">
                <div class="notesListSection">
                  <div style="color: #121212;">{{attachment.originalName}}<br><span class="labelFile"><b>File Type : </b>{{attachment.type}} &nbsp;&nbsp;&nbsp;<b>Size : </b>{{attachment.size}} MB</span></div>
                  <a style="cursor: pointer;" href="{{attachment.s3path}}" target="_blank"><i class="fa fa-eye" aria-hidden="true"></i></a>
                </div>
               </div>
            </div>
          </div>
      </div>
    </div>
    <!---notes start-->
  <div style="margin-top:10px" >
    <div class="textareaStart">
      <div class="fiesWithIcon">
        <div>
          <span class="card-title"><b>Remarks</b></span> 
        </div>
        <div *ngIf="leadDetails.notes.length>0">
          <span (click)="noteView(leadDetails)" class="pointer-cursor fa fa-external-link"></span>
        </div>
      </div>
      <div style="padding:10px">
        <textarea  rows="10" class="form-control" [(ngModel)]="notesTextarea" #taskDescription
      (ngModelChange)="handleNotesDescription(taskDescription.value)" (keyup)="autoGrowTextZone($event)"
      maxlength="1000" placeholder="Enter remarks description" style=" height: 85px !important;background: #FCFCFC !important;border: 1.07315px solid #C9C9C9 !important;border-radius: 11.8046px !important;"></textarea>
      </div>
      <!---cancel save btn start-->
    <div style="display: flex;justify-content: flex-end;align-items: center;margin-right: 10px;margin-bottom: 10px;">
      <div style="text-align: center;">
          <ng-container>
              <div>
                  <button type="button" class="btn btn-primary font-weight-bold confirmBtn"
                      (click)="saveCreateNote(notesTextarea)">Add Remarks</button>
              </div>
          </ng-container>
      </div>
    </div>
  <!---cancel save btn end-->
  <!-- <app-common-innerloading-spinner *ngIf="api_loading"></app-common-innerloading-spinner> -->
  <!-- <span class="label" *ngIf="leadDetails.notes.length>0 "><b>Saved Remarks</b></span> -->
  <div *ngIf="leadDetails.notes.length>0 " style="display: flex;align-items: center;margin-left: 10px;" >
    <div>
      <img style="height:25px" src="/assets/images/crmImages/noteIcon.png" />
    </div>
    <div class="label"style="padding:0px !important">
     ( Saved Remarks)
    </div>
  </div>
          <div class="my-2  height-limit" *ngIf="leadDetails.notes.length>0 ">
            <!-- <app-common-innerloading-spinner *ngIf="api_loading"></app-common-innerloading-spinner> -->
            <div >
              <div *ngFor="let note of leadDetails.notes;let i=index" class="allNotesList" style="display: flex;justify-content: space-between;align-items: center;">
                <div class="notesListSection">
                  {{note.note}}
                </div>
                <div class="notesListSection">
                   <div>{{note.createdDate}}</div>
                </div>
               </div>
            </div>
          </div>
    </div>
  </div>
  <!---notes end-->
  </div>
  <!----files end-->
 </section> 
  
  
  <!-- <section class="container card mt-4 mx-auto" *ngIf="leadDetails">
    <h3>{{leadDetails.title}}</h3>
    <div class="text-primary location-name mb-2">
      <i *ngIf="leadDetails.locationArea || leadDetails.location.name" class="fa fa-map-marker"></i>&nbsp;
      <span *ngIf="leadDetails.locationArea">{{leadDetails.locationArea}},</span>
      <span *ngIf="leadDetails.location.name">{{leadDetails.location.name}}</span>
    </div>
    <div class="d-flex" *ngIf="leadDetails.status.name != 'Completed'">
      <div>
        <a [matTooltipClass]="tooltipcls"
            class="navbar-item-color bold pointer-cursor">
              <button type="button"   [matMenuTriggerFor]="appMenu" class="btn btn-outline-primary"> 
                <span class="text-dark">Actions</span> <i style="margin-left: 5px;" class="fa fa-chevron-down"></i>
              </button>
              <mat-menu #appMenu="matMenu">
                  <button style="align-items:baseline !important;" mat-menu-item (click)="openDialogStatusChange(leadDetails)">
                    <span >
                      <i class="fa fa-refresh" aria-hidden="true"></i>&nbsp;&nbsp;
                    </span>
                    <span class="text-dark">Change Status</span>
                  </button>
              </mat-menu>
            </a>
      </div>
      <div>
        <button class="btn btn-outline-primary mx-2" (click)="openAddNoteDialog('AddNote')">Add Remarks</button>
      </div>
    </div>
  </section>
   
  <section>
    <app-common-innerloading-spinner *ngIf="api_loading"></app-common-innerloading-spinner>
    <div class="container card mt-2 mx-auto" *ngIf="!api_loading">
      <div class="col-md-12 no-padding-small" *ngIf="leadDetails">
        <div class="row d-lg-flex justify-content-between">
          <div class="border col-md-12 col-lg-12 col-sm-12 col-xs-12 no-padding">
            <div class="d-flex">
              <div>
              </div>
              <div class="ml-3">
                <span class="details text-dark" *ngIf="leadDetails.customer.name"><b> {{customer_label}} : {{leadDetails.customer.name}} </b></span><br>

                <span class="details text-secondary" *ngIf="leadDetails.assignee.name"><b> Assigned to {{leadDetails.assignee.name}} </b></span><br>
                <span class="details text-secondary" *ngIf="leadDetails.manager.name">Manager : {{leadDetails.manager.name}}</span><br>
                <span class="details text-secondary" *ngIf="leadDetails.status.name"><b> Status : <span [class]="leadDetails.status.name">{{leadDetails.status.name}}</span></b></span><br>
                <span class="details text-warning" *ngIf="leadDetails.priority.name">Priority : {{leadDetails.priority.name}} </span><br>
              </div>
            </div>
            <div class="lead-description">
              {{leadDetails.description}}
            </div>
          </div>
          
          
        </div>
        
        <div class="row d-lg-flex justify-content-lg-start">
          <div class="border  col-md-4 col-lg-4 col-sm-12 col-xs-12 no-padding mt-2">
            <div class="d-flex justify-content-between">
              <div class="my-auto">
                <span class="card-title"><b>Files</b></span> 
              </div>
              <div>
                <a mat-button [mat-dialog-close]="true" class="lnk action pointer-cursor btn btn-primary upload-file-btn text-primary"  (click)="uploadFiles()"><i class="fa fa-paperclip mgn-rt-5" aria-hidden="true"></i>Upload
                    File
                </a>
              </div>
            </div>
            <hr class="my-2 py-2">
            <div class="text-left height-limit">
              <span>
                <div class="my-2" *ngIf="leadDetails.attachments.length >0">
                  <div *ngFor="let attachment of leadDetails.attachments;let i=index" class="allNotesList">
                    <a href="{{attachment.s3path}}" target="_blank">
                      <div class="notesListSection" style="cursor: pointer;">
                        <div class="text-primary">{{attachment.originalName}}<br><span class="label"><b>{{attachment.type}}</b></span></div>
                        <span>{{attachment.size}} MB</span>
                      </div>
                    </a>
                   </div>
                </div>
                <div class="text-center text-primary" *ngIf="leadDetails.attachments.length == 0">
                  <span>No Files Uploaded</span>
                </div>
              </span>
            </div>
          </div>
          <div class="border  col-md-4 col-lg-4 col-sm-12 col-xs-12 no-padding mt-2">
            <div class="d-flex justify-content-between">
              <div class="my-auto">
                <span class="card-title"><b>Token</b></span> 
              </div>
              <div>
                <a mat-button [mat-dialog-close]="true" class="lnk action pointer-cursor btn btn-primary upload-file-btn text-primary"  (click)="createToken()"><i class="fa fa-plus" aria-hidden="true"></i>
                  Token
                </a>
              </div>
            </div>
            <hr class="my-2 py-2">
            <div class="text-left height-limit">
              <span>
                <div class="my-2" *ngIf="leadTokens.length >0">
                  <div *ngFor="let token of leadTokens;let i=index" class="allNotesList" >
                   
                      <div class="notesListSection" style="cursor: pointer;" (click)="goCheckinDetail(token.waitlistUid)">
                        <span class="pull-left mgn-lt-5 date circle-token bold">{{token.token}}</span>
                        <div class="text-primary" *ngIf="token.consumerName">{{token.consumerName}}<br><span class="label"><b>Created By : {{token.createdByName}}</b></span></div>
                       
                      </div>
                    
                   </div>
                </div>
                <div class="text-center text-primary" *ngIf="leadTokens.length == 0">
                  <span>No Records Found</span>
                </div>
              </span>
            </div>
          </div>
          <div class="border  col-md-4 col-lg-4 col-sm-12 col-xs-12 no-padding mt-2" *ngIf="leadDetails.notes.length>0">
            <div class="d-flex justify-content-between">
              <div>
                <span class="card-title"><b>Remarks</b></span> 
              </div>
              <div>
              </div>
            </div>
            <hr class="my-2 py-2">
            <div class="text-left height-limit">
              <span>
                <div class="my-2">
                  <div *ngFor="let note of leadDetails.notes;let i=index" class="allNotesList">
                    <div class="notesListSection">
                      {{note.note}}
                      <hr class="my-2 py-2">
                      {{note.createdDate | date : newDateFormat}}
                    </div>
                   </div>
                </div>
              </span>
            </div>
          </div>
        </div>
        <div class="row d-lg-flex justify-content-lg-start">
          <div  class="sublead-border  col-md-12 col-lg-12 col-sm-12 col-xs-12 no-padding mt-2">
            <app-tasks [leadid]="leadkid"></app-tasks>
          </div>
        </div>
      </div>
    </div>
  </section> -->