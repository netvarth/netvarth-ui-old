<section class="card">
    <div class="title-gb no-padding">
      <div class="dash-head text-primary">
        <span class="fa fa-arrow-left pointer-cursor border-cirlce" (click)="goBack()"></span>&nbsp;
          {{headerName}}
      </div>
    </div>
    
  </section>
 <section class="container card mt-4 mx-auto" *ngIf="leadDetails">
   <div>
     <div class="leadTitle" >
      {{leadTitle | capitalizeFirst}}
     </div>
     <!----customar name details start-->
     <div class="customerDetails">
       <div>
        <div class="customerName" >
          <div class="customer">
            {{customer_label | capitalizeFirst}}
          </div>
          <div class="customer">:</div>
          <div class="customer">
            {{customerName | capitalizeFirst}}
          </div>
         </div>
         <div class="customerName">
          <div class="assignCustomer">
           Assignee
          </div>
          <div class="assignCustomer">:</div>
          <div class="assignCustomer">
            {{customerAssigneeName | capitalizeFirst}}
          </div>
         </div>
       </div>
       <div  class="customerLead" >
         <div class="leadDetails">
           Lead Id
         </div>
         <div class="leadDetailsDot">:</div>
         <div class="leadDetails">
           <!---for temopary purp[pose]-->
           {{leadId}}
         </div>
       </div>
     </div>
     <!--customer name details end-->
     <!---status start-->
     <div>
      <div class="eachTab mgn-up-15" style="flex-wrap: wrap;" >
        <div class="customCard redirectionList" *ngFor="let item of redirectionListStatus">
            <div class="activityTemplate">
                <div >
                    <img class="imgTempalte" src="/assets/images/crmImages/navbarIcon.png" />
                </div>
                <div class="topicNameedirectionList" >
                    {{item.activityName}}
                </div>
            </div>
        </div>
    </div>
     </div>
     <!---status end-->
   </div>
     <!----\files start-->
  <div class="notesWidth">
    <div class="notesSection">
      <div class="fiesWithIcon">
        <div>
          <span class="card-title"><b>Files</b></span> 
        </div>
        <div *ngIf="leadDetails.attachments.length>0">
          <span (click)="attatchmentDialog(leadDetails.attachments)" class="pointer-cursor fa fa-external-link"></span>
        </div>
      </div>
      <!-- <hr /> -->
      <div class="text-left" >
          <div class="filesUploadThings">
            <div  mat-button [mat-dialog-close]="true" class="lnk action pointer-cursor btn btn-primary upload-file-btn text-primary inputFile"  (click)="uploadFiles()">
              <div class="filesUploadThingsAction">
               <img width="25px" src="/assets/images/crmImages/fileUpload.png"  />
              <div class="text-dark btn-text">Click or Upload Files related to activity</div>
              </div>
            </div>
            <!-- <div *ngIf="taskType==='SubTask'" mat-button [mat-dialog-close]="true" class="lnk action pointer-cursor btn btn-primary upload-file-btn text-primary inputFile"  (click)="uploadFiles()">
              <div class="filesUploadThingsAction">
               <img width="25px" src="/assets/images/crmImages/fileUpload.png"  />
             <div class="text-dark btn-text">Click or Upload Files related to subactivity</div>
              </div>
            </div> -->
          </div>
          <!-- <span class="label" ><b></b></span> -->
          <div *ngIf="leadDetails.attachments.length>0" style="display: flex;align-items: center;margin-top: 10px;gap:5px" >
            <div>
              <img style="height:25px" src="/assets/images/crmImages/fileUploADHeader.png" />
            </div>
            <div class="label"style="padding:0px !important">
             ( Uploaded Files )
            </div>
          </div>
          <div class="my-2  height-limit" *ngIf="leadDetails.attachments.length>0">
            <div >
              <div *ngFor="let attachment of leadDetails.attachments;let i=index" class="allNotesList">
                <div class="notesListSection">
                  <div style="color: #121212;">{{attachment.originalName}}<br><span class="labelFile"><b>File Type : </b>{{attachment.type}} &nbsp;&nbsp;&nbsp;<b>Size : </b>{{attachment.size}} MB</span></div>
                  <a style="cursor: pointer;" href="{{attachment.s3path}}" target="_blank"><i class="fa fa-eye" aria-hidden="true"></i></a>
                </div>
               </div>
            </div>
          </div>
      </div>
    </div>
    <!---notes start-->
  <div style="margin-top:10px"class="notesSection" >
    <div class="textareaStart">
      <div class="fiesWithIcon">
        <div>
          <span class="card-title"><b>Remarks</b></span> 
        </div>
        <div *ngIf="leadDetails.notes.length>0">
          <span (click)="noteView(leadDetails)" class="pointer-cursor fa fa-external-link"></span>
        </div>
      </div>
      <div style="padding:10px">
        <textarea  rows="10" class="form-control" [(ngModel)]="notesTextarea" #taskDescription
      (ngModelChange)="handleNotesDescription(taskDescription.value)" (keyup)="autoGrowTextZone($event)"
      maxlength="1000" placeholder="Enter remarks description" style=" height: 85px !important;background: #FCFCFC !important;border: 1.07315px solid #C9C9C9 !important;border-radius: 11.8046px !important;"></textarea>
      </div>
      <!---cancel save btn start-->
    <div style="display: flex;justify-content: flex-end;align-items: center;margin-right: 10px;margin-bottom: 10px;">
      <div style="text-align: center;">
          <ng-container>
              <div>
                  <button type="button" class="btn btn-primary font-weight-bold confirmBtn"
                      (click)="saveCreateNote(notesTextarea)">Add Remarks</button>
              </div>
          </ng-container>
      </div>
    </div>
  <!---cancel save btn end-->
  <!-- <app-common-innerloading-spinner *ngIf="api_loading"></app-common-innerloading-spinner> -->
  <!-- <span class="label" *ngIf="leadDetails.notes.length>0 "><b>Saved Remarks</b></span> -->
  <div *ngIf="leadDetails.notes.length>0 " style="display: flex;align-items: center;margin-left: 10px;" >
    <div>
      <img style="height:25px" src="/assets/images/crmImages/noteIcon.png" />
    </div>
    <div class="label"style="padding:0px !important">
     ( Saved Remarks)
    </div>
  </div>
          <div class="my-2  height-limit" *ngIf="leadDetails.notes.length>0 ">
            <!-- <app-common-innerloading-spinner *ngIf="api_loading"></app-common-innerloading-spinner> -->
            <div >
              <div *ngFor="let note of leadDetails.notes;let i=index" class="allNotesList" style="display: flex;justify-content: space-between;align-items: center;">
                <div class="notesListSection">
                  {{note.note}}
                </div>
                <div class="notesListSection">
                   <div>{{note.createdDate}}</div>
                </div>
               </div>
            </div>
          </div>
    </div>
  </div>
  <!---notes end-->
  </div>
  <div style="margin-top: 10px;
  display: flex;
  justify-content: center;">
    <button type="button" class="btn btn-primary font-weight-bold confirmBtn" style="background: #FADDDD !important;color:black !important" (click)="failedStatus()">Rejected
    </button>
  </div>
 </section> 