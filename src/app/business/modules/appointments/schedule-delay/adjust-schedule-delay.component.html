<form [formGroup]="amForm" novalidate (ngSubmit)="amForm.valid &&
            onSubmit(amForm.value)">
  <div class="row">
    <div class="col-md-12 col-xs-12 col-sm-12">
      <i style="font-size: 20px !important;margin-top: 2; margin-bottom: 2;"
        class="fa fa-close pointer-cursor pull-right my-2 mx-2" aria-hidden="true" mat-dialog-close tabindex="-1"
        (click)="onCancel()"></i>
      <h5 class="mb-0 mx-2 adjustSpace">
        <span style="margin-top: 3px !important;"> Adjust delay</span>
      </h5>
      <p class="form-level-settings mb-0 mx-2 smlScreen">{{frm_adjust_del_cap}}</p>
      <hr>
      <div class="card mx-2 mb-0 shadow ">
        <div class="row" *ngIf="!chekintype">
          <div class="col-md-12 col-xs-12 col-sm-12 my-1">
            <ng-container>
              <p class="mb-0"> {{customer_label | capitalizeFirst}} Name<span class="lrgScreen">:</span> </p>
              <span class="bold mb-5">
                {{(apptData.appmtFor[0].firstName || apptData.appmtFor[0].lastName) ?
                apptData.appmtFor[0].firstName + ' ' + apptData.appmtFor[0].lastName : customer_label + ' id ' +
                apptData.providerConsumer.jaldeeId}}
              </span>
            </ng-container>
          </div>
        </div>
        <div class="row" *ngIf="!chekintype">
          <div class="col-md-6 col-xs-12 col-sm-12 mb-2">
            <p class="mb-0"> Service Name<span class="lrgScreen">:</span></p>
            <span class="bold"> {{apptData.service.name }}</span>
          </div>
          <div class="col-md-6 col-xs-12 col-sm-12 ">
            <p class="mb-0">Selected Slot<span class="lrgScreen">:</span></p>
            <span class="bold mb-5">{{getSingleTime(apptData.appmtFor[0].apptTime)}}</span>
          </div>
        </div>
        <div class="row" *ngIf="chekintype">
          <p>Selected Slots<span class="lrgScreen">:</span></p>
          <div class="col-md-12 col-xs-6 col-sm-6 scrollOnLg scrollOnSm">
            <!-- | paginate: config; -->
            <div class="col-md-3 col-xs-6 col-sm-6" *ngFor="let appt of apptData; let i=index">
              <span class="bold mb-2">{{getSingleTime(appt.appmtFor[0].apptTime)}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card mx-2">
      <div class="form-group my-2" *ngIf="queuejson.length > 0">
        <div class="row">
          <div class="col-md-5 col-xs-12 col-sm-12 col-12">
            <label class="col-form-label mt-5"> <i class="glyphicon glyphicon-time" style="color: rgb(45, 45, 109);"
                aria-hidden="true"></i> {{delay_cap}}</label>
          </div>
          <div class="col-md-4 col-xs-12 col-sm-12 col-12">
            <ngb-timepicker [(ngModel)]="time" (keyup)="isInRange($event)" formControlName="delay"
              style="display: flex; align-items: center; margin-left: 15px !important;">
            </ngb-timepicker>
          </div>
        </div>
        <!-- isAddToDelay -->
        <mat-checkbox class="" formControlName="isAddToDelay" *ngIf="apptData.isApptDelayed === true || chekintype">
          Add to previous delay</mat-checkbox>
      </div>
      <div class="form-group inline adjustdelay" *ngIf="queuejson.length > 0">
        <mat-checkbox formControlName="send_message">Send message to {{customer_label}} about the delay</mat-checkbox>
        <ng-container *ngIf="amForm.get('send_message').value === true">
          <textarea class="form-control" placeholder="Message" formControlName="message" autocomplete="off"
            [placeholder]="placeholder" (keyup)="setCharCount()" (focus)="setDescFocus()" (blur)="lostDescFocus()"
            maxlength="500"></textarea>
        </ng-container>
        <span class="max-char-length" *ngIf="isfocused">You have {{char_count}} characters remaining</span>
      </div>
      <div class="form-group inline" *ngIf="amForm.get('send_message').value === true && apptData.phoneNumber">
        <label class="col-form-label mt-2">Select Notification Mode:</label>
        <mat-checkbox formControlName="isSMS" *ngIf="apptData.phoneNumber">SMS</mat-checkbox>&nbsp;
        <mat-checkbox formControlName="isEmail" *ngIf="apptData.appmtFor[0].email">Email</mat-checkbox>&nbsp;
        <mat-checkbox formControlName="isApp" *ngIf="apptData.phoneNumber">App</mat-checkbox>&nbsp;
        <mat-checkbox formControlName="isTelegram" *ngIf="apptData.phoneNumber">Telegram</mat-checkbox>
      </div>
    </div>
  </div>
  <div class="col-md-12 mgn-bt-10" style="margin-top: 15px;display: inline-flex;" *ngIf="queuejson.length > 0">
    <button (click)="onCancel()" type="button" class="cs-btn bt2 pull-right">{{ cancel_btn}}</button>&nbsp;
    <button type="submit" mat-button [disabled]="!amForm.valid || disableButton"
      class="cs-btn bt1 pull-right">{{save_btn}}</button>
  </div>
  <app-field-error-display [displayError]="true" *ngIf="api_error" errorMsg="{{api_error}}">
  </app-field-error-display>
  <app-form-success-display [displayMsg]="true" *ngIf="api_success" successMsg="{{api_success}}">
  </app-form-success-display>
</form>