<div class="card">
  <div class="d-flex justify-content-between">
    <div class="d-flex">
      <div>
        <img width="60" height="60" src="../../../../assets/images/cdl/profile.png">
      </div>
      <div class="pt-1">
        <span class="font-weight-bold">Welcome,
          <span *ngIf="user && user.firstName">{{user.firstName}}</span>
          <span *ngIf="user && user.lastName">{{user.lastName}}</span>
        </span><br>
        <span class="sub-title"><i class="fa fa-stop-circle" aria-hidden="true"></i>&nbsp;You have new
          notifications</span>
      </div>
    </div>
    <div class="pt-1">
      <a class="btn btn-danger" (click)="doLogout()">
        Logout
      </a>
    </div>
  </div>
</div>
<div class="clearfix"></div>
<div>
  <div class="no-padding">
    <div class="cauroselsection">
      <owl-carousel [options]="customOptions">
        <div class="recentcards item">
          <img src="../../../../assets/images/cdl/carousal-1.jpg" alt="Card image cap">
        </div>
        <div class="recentcards item">
          <img src="../../../../assets/images/cdl/carousal-2.png" alt="Card image cap">
        </div>
        <div class="recentcards item">
          <img src="../../../../assets/images/cdl/carousal-3.png" alt="Card image cap">
        </div>
      </owl-carousel>
    </div>
  </div>
  <div class="no-padding" *ngIf="desktopView">
    <div class="card">
      <div class="row">
        <div class="col-md-3">
          <div class="dashboard-card text-center border px-3">
            <div class="d-flex">
              <div>
                <i class="fa fa-certificate approved-loan-head-icon" aria-hidden="true"></i>
              </div>&nbsp;&nbsp;
              <div class="text-left">
                <span class="head-card-title">Approved Loans</span><br>
                <span class="font-weight-bold">10</span>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="dashboard-card text-center border px-3">
            <div class="d-flex">
              <div>
                <i class="fa fa-money approved-amount-head-icon" aria-hidden="true"></i>
              </div>&nbsp;&nbsp;
              <div class="text-left">
                <span class="head-card-title">Total Approved Amount</span><br>
                <span class="font-weight-bold"><i class="fa fa-inr"></i>&nbsp;30,000</span>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="dashboard-card text-center border px-3">
            <div class="d-flex">
              <div>
                <i class="fa fa-signal rejected-loan-head-icon" aria-hidden="true"></i>
              </div>&nbsp;&nbsp;
              <div class="text-left">
                <span class="head-card-title">Rejected Loans</span><br>
                <span class="font-weight-bold">1</span>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="dashboard-card text-center border px-3">
            <div class="d-flex">
              <div>
                <i class="fa fa-users total-amount-head-icon" aria-hidden="true"></i>
              </div>&nbsp;&nbsp;
              <div class="text-left">
                <span class="head-card-title">Leads</span><br>
                <span class="font-weight-bold">80</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-12 mt-3" *ngIf="mobileView">
    <div class="card shadow m-1">
      <div class="row">
        <div class="col-md-6 col-sm-6 col-xs-6 no-padding-small">
          <div class="dashboard-card text-center">
            <div class="d-flex">
              <div>
                <img width="50" height="50" src="../../../../assets/images/cdl/partner/all_loans.png">
              </div>&nbsp;&nbsp;
              <div class="text-left my-auto">
                <span class="head-card-title">All Loans</span><br>
                <span class="font-weight-bold">{{allLoansCount}}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6 col-sm-6 col-xs-6 no-padding-small">
          <div class="dashboard-card text-center">
            <div class="d-flex">
              <div>
                <img width="50" height="50" src="../../../../assets/images/cdl/partner/approved_loans.png">
              </div>&nbsp;&nbsp;
              <div class="text-left my-auto">
                <span class="head-card-title">Approved</span><br>
                <span class="font-weight-bold">{{approvedLoansCount}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 col-sm-6 col-xs-6 no-padding-small">
          <div class="dashboard-card text-center">
            <div class="d-flex">
              <div>
                <img width="50" height="50" src="../../../../assets/images/cdl/partner/pending_loans.png">
              </div>&nbsp;&nbsp;
              <div class="text-left my-auto">
                <span class="head-card-title">Pending</span><br>
                <span class="font-weight-bold">{{pendingLoansCount}}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6 col-sm-6 col-xs-6 no-padding-small">
          <div class="dashboard-card text-center">
            <div class="d-flex">
              <div>
                <img width="50" height="50" src="../../../../assets/images/cdl/partner/rejected_loans.png">
              </div>&nbsp;&nbsp;
              <div class="text-left my-auto">
                <span class="head-card-title">Rejected</span><br>
                <span class="font-weight-bold">{{rejectedLoansCount}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<div class="card m-2" *ngIf="desktopView">
  <div class="mb-2">
    <span class="font-weight-bold">Quick Actions</span>
  </div>
  <div class="row">
    <div class="col-md-2" (click)="CreateLoan()">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor shadow">
        <div>
          <i class="fa fa-plus add-loan-icon"></i>
        </div>
        <div class="mt-1">
          <span class="card-title">Create Loan</span>
        </div>
      </div>
    </div>


    <!-- <div class="col-md-2" (click)="rejectedLoans()">
        <div class="dashboard-card text-center shadow p-2 pointer-cursor">
          <div>
            <i class="fa fa-times rejected-loan-icon"></i>
          </div>
          <div class="mt-1">
            <span class="card-title">Rejected Loans</span>
          </div>
        </div>
      </div> -->


    <div class="col-md-2" (click)="allSchemes()">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-globe schemes-loan-icon"></i>
        </div>
        <div class="mt-1">
          <span class="card-title">All Schemes</span>
        </div>
      </div>
    </div>


    <div class="col-md-2" (click)="allLoans()">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-clock-o all-loans-icon"></i>
        </div>
        <div>
          <span class="card-title">All Loans</span>
        </div>
      </div>
    </div>

    <div class="col-md-2" (click)="customers()">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-users all-loans-icon"></i>
        </div>
        <div>
          <span class="card-title">Customers</span>
        </div>
      </div>
    </div>

    <!-- <div class="col-md-2">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-user create-dealer-icon"></i>
        </div>
        <div class="mt-1">
          <span class="card-title">Create Scheme</span>
        </div>
      </div>
    </div> -->




    <div class="col-md-2" (click)="viewFile('emicalc')">
      <div class="dashboard-card text-center shadow p-2 pointer-cursor">
        <div>
          <i class="fa fa-calculator emi-calc-icon"></i>
        </div>
        <div class="mt-1">
          <span class="card-title">EMI Calculator</span>
        </div>
      </div>
    </div>
  </div>
</div>




<div class="col-md-12 mt-3" *ngIf="mobileView">
  <div>
    <div class="card shadow m-1">
      <div class="row">
        <div class="col-md-6 col-sm-4 col-xs-4 no-padding-small">
          <div class="dashboard-card text-center pointer-cursor" (click)="CreateLoan()">
            <div>
              <div>
                <img width="60" height="60" src="../../../../assets/images/cdl/partner/create_loan.png">
              </div>
              <div class="text-center">
                <span class="head-card-sub-title">Create Loan</span><br>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6 col-sm-4 col-xs-4 no-padding-small">
          <div class="dashboard-card text-center pointer-cursor" (click)="allLoans()">
            <div>
              <div>
                <img width="60" height="60" src="../../../../assets/images/cdl/partner/loans.png">
              </div>
              <div class="text-center">
                <span class="head-card-sub-title">Loans</span><br>
              </div>
            </div>
          </div>
        </div>


        <div class="col-md-6 col-sm-4 col-xs-4 no-padding-small">
          <div class="dashboard-card text-center pointer-cursor" (click)="allSchemes()">
            <div>
              <div>
                <img width="60" height="60" src="../../../../assets/images/cdl/partner/schemes.png">
              </div>
              <div class="text-center">
                <span class="head-card-sub-title">Schemes</span><br>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 col-sm-4 col-xs-4 no-padding-small">
          <div class="dashboard-card text-center">
            <div>
              <div>
                <img width="60" height="60" src="../../../../assets/images/cdl/partner/leads.png">
              </div>
              <div class="text-center">
                <span class="head-card-sub-title">Leads</span><br>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6 col-sm-4 col-xs-4 no-padding-small" (click)="customers()">
          <div class="dashboard-card text-center">
            <div>
              <div>
                <img width="60" height="60" src="../../../../assets/images/cdl/partner/customers.png">
              </div>
              <div class="text-center">
                <span class="head-card-sub-title">Customers</span><br>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6 col-sm-4 col-xs-4 no-padding-small">
          <div class="dashboard-card text-center" (click)="viewFile('emicalc')">
            <div>
              <div>
                <img width="60" height="60" src="../../../../assets/images/cdl/partner/emi_calci.png">
              </div>
              <div class="text-center">
                <span class="head-card-sub-title">EMI Calci</span><br>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row" *ngIf="desktopView">
  <div class="col-md-8">
    <div class="card loans-card ">
      <div class="d-flex justify-content-between">
        <div class="form-group col-md-4 no-padding">
          <select class="form-control" (change)="transform($event)">
            <option value="all"><span class="text-capitalize">All Loans</span></option>
            <option value="approved"><span class="text-capitalize">Approved Loans</span></option>
            <option value="pending"><span class="text-capitalize">Pending Loans</span></option>
            <option value="redirected"><span class="text-capitalize">Redirected Loans</span></option>
            <option value="rejected"><span class="text-capitalize">Rejected Loans</span></option>
          </select>
        </div>
        <div>
          <nav class="navbar navbar-light bg-light">
            <form class="form-inline">
              <div class="form-group">
                <input class="form-control" type="search" (keyup)="searchText($event)" class="form-control"
                  placeholder="Search with Name,Status,Loan Amount" />
              </div>
            </form>
          </nav>
        </div>
      </div>
      <div class="table-responsive dash-list">
        <table class="table">
          <thead>
            <tr class="tble-filtr-tr heght">
              <th class="head_color">Loan Id</th>
              <th class="head_color">Customer Name</th>
              <th class="head_color">Dealer</th>
              <th class="head_color">Status</th>
            </tr>
          </thead>
          <tbody class="table_data">
            <ng-container *ngIf="loans && loans.length > 0">
              <tr style="cursor:pointer" *ngFor="let item of loans;let i=index" (click)="loanDetails(item.uid)">
                <td data-title="Loan Details" class="td1" *ngIf="item && item.id">{{item.id}}</td>
                <td data-title="Loan Details" class="td1" *ngIf="item && item.customer && item.customer.firstName">
                  {{item.customer.firstName}} {{item.customer.lastName}}</td>
                <td data-title="Loan Details" class="td1" *ngIf="item && item.partner && item.partner.partnerName">
                  {{item.partner.partnerName}}</td>
                <td data-title="Loan Details" class="td1" *ngIf="item && !item.partner || !item.partner.partnerName">
                  {{item.partner.partnerName}}</td>
                <td data-title="Loan Details" class="td1 loanStatus" *ngIf="item && item.status && item.status.name">
                  <div class="approvedColor text-capitalize"
                    *ngIf="item && item.status && item.status.name && item.status.name==='New'"><i
                      class="fa fa-spinner"></i>&nbsp;{{item.status.name}}
                  </div>
                  <div class="approvedColor text-capitalize"
                    *ngIf="item && item.status && item.status.name && item.status.name==='approved'"><i
                      class="fa fa-check-circle"></i>&nbsp;{{item.status.name}}
                  </div>
                  <div class="pendingColor text-capitalize"
                    *ngIf="item && item.status && item.status.name && (item.status.name==='pending' || item.status.name==='redirected')">
                    <i class="fa fa-spinner"></i>&nbsp;{{item.status.name}}
                  </div>
                  <div class="rejectedColor text-capitalize"
                    *ngIf="item && item.status && item.status.name && item.status.name==='rejected'"><i
                      class="fa fa-times-circle"></i>&nbsp;{{item.status.name}}
                  </div>
                </td>
                <td>
                  <div *ngIf="item && item.uid">
                    <a class="btn btn-primary">View</a>
                  </div>
                </td>
              </tr>
            </ng-container>
            <ng-container *ngIf="loans && loans.length == 0">
              <tr class="my-2">
                <td class="text-primary">No Loan Applications Found</td>
              </tr>
            </ng-container>
          </tbody>
        </table>
        <span class="text-primary font-weight-bold pointer-cursor btn btn-primary" *ngIf="!viewmore && loans.length>6"
          (click)="viewMore()">View All</span>
      </div>
    </div>


    <br>

  </div>
  <div class="col-md-4" *ngIf="desktopView">
    <div class="card">
      <div class="mb-2">
        <span class="font-weight-bold">News Feed</span>
      </div>
      <div class="d-flex">
        <div>
          <i class="fa fa-newspaper-o id-card-1" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="news-title">Please check the Credit report</span><br>
          <span class="news-sub-title">We will target growth of 10-15% in gold loans in coming fiscal year
          </span>
        </div>
      </div>

      <div class="d-flex">
        <div>
          <i class="fa fa-newspaper-o id-card-2" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="news-title">Please check the Credit report</span><br>
          <span class="news-sub-title">We will target growth of 10-15% in gold loans in coming fiscal year
          </span>
        </div>
      </div>

      <div class="d-flex">
        <div>
          <i class="fa fa-newspaper-o id-card-3" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="news-title">Please check the Credit report</span><br>
          <span class="news-sub-title">We will target growth of 10-15% in gold loans in coming fiscal year
          </span>
        </div>
      </div>

      <div class="d-flex">
        <div>
          <i class="fa fa-newspaper-o id-card-1" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="news-title">Please check the Credit report</span><br>
          <span class="news-sub-title">We will target growth of 10-15% in gold loans in coming fiscal year
          </span>
        </div>
      </div>

      <div class="d-flex">
        <div>
          <i class="fa fa-newspaper-o id-card-2" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="news-title">Please check the Credit report</span><br>
          <span class="news-sub-title">We will target growth of 10-15% in gold loans in coming fiscal year
          </span>
        </div>
      </div>

      <div class="d-flex">
        <div>
          <i class="fa fa-newspaper-o id-card-3" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="news-title">Please check the Credit report</span><br>
          <span class="news-sub-title">We will target growth of 10-15% in gold loans in coming fiscal year
          </span>
        </div>
      </div>


    </div>
  </div>
  <div class="col-md-4 mt-4">
    <div class="card">
      <div class="mb-2">
        <span class="font-weight-bold">Alerts</span>
      </div>
      <div class="d-flex mt-2">
        <div>
          <i class="fa fa-bell alerts-icon" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="alerts-title">Loan Id : 1234 is Approved</span>
        </div>
      </div>

      <div class="d-flex mt-2">
        <div>
          <i class="fa fa-bell alerts-icon" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="alerts-title">Loan Id : 2458 is Rejected</span>
        </div>
      </div>

      <div class="d-flex mt-2">
        <div>
          <i class="fa fa-bell alerts-icon" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="alerts-title">Loan Id : 7854 is Redirected</span>
        </div>
      </div>

      <div class="d-flex mt-2">
        <div>
          <i class="fa fa-bell alerts-icon" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="alerts-title">Loan Id : 4758 is Auto Approved</span>
        </div>
      </div>

      <div class="d-flex mt-2">
        <div>
          <i class="fa fa-bell alerts-icon" aria-hidden="true"></i>
        </div>&nbsp;&nbsp;
        <div>
          <span class="alerts-title">Loan Id : 4578 is Approved</span>
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="mobileView">
  <br><br>
  <app-footer></app-footer>
</div>
<br>
