<section>
    <app-provider-subheader [isCheckin]="isCheckin" [activeTab]="'settings'"></app-provider-subheader>
    <!-- Subheader section -->
    <app-breadcrumb [breadcrumbs]="breadcrumbs" [moreOptions]="breadcrumb_moreoptions"></app-breadcrumb>
</section>

<section>
    <div class="content comn-cls">
        <div class="container">
            <div class="row">
                <div class="card p0">
                    <div class="paysettings-tab">
                        <!-- <mat-tab-group dynamicHeight="true" class="paysettings-tab" [selectedIndex]="tabid"
                    (selectedIndexChange)="selectedIndexChange($event)">
                   <mat-tab > -->
                        <div class="paysettings ynw-common-form-nm">
                            <span class="form-level-settings">{{payment_set_cap}}<a class="learnmore-pointer"
                                    id="customer-help" (click)="learnmore_clicked('payment-settings', $event)">Learn
                                    More</a></span>

                            <mat-radio-group class="" [(ngModel)]="optJaldeeAccount">
                                <div class="lbr mt-3  col-sm-12 col-md-12 col-lg-12">
                                    <div class="rw">
                                        <div class="form-group">
                                            <mat-radio-button [value]="'enable'"></mat-radio-button>
                                            <label for="">{{jaldee_account_cap}}</label>
                                        </div>
                                    </div>
                                    <div class="rw">
                                        <div class="form-group" [ngClass]="{'disabledradio' :disableMyAcc}">
                                            <mat-radio-button [disabled]="disableMyAcc" [value]="'disable'">
                                            </mat-radio-button>
                                            <label for="">{{my_own_account_cap}}</label>
                                            <div *ngIf="optJaldeeAccount!='enable'">
                                                <div class="outermost">
                                                    <!-- <div class='pay-outer'>
                                                <span class="ttle">
                                                    Online Payment Enabled? <span class="sts" [class.active]="paystatus==true">{{(paystatus==true)?'Yes':'No'}}</span>
                                                </span>
                                                <span class="ctrl"><mat-slide-toggle [checked]="paystatus" (change)="showhidepaytype()"></mat-slide-toggle></span>
                                            </div> -->
                                                    <div class="no-dta"
                                                        *ngIf="!emailidVerified && profileQueryExecuted">
                                                        <p>{{pay_if_mail_verified_cap}}</p>
                                                        <span class="cs-btn bt3"
                                                            (click)="redirectToEmail()">{{go_to_mail_settings_cap}}</span>
                                                        <p></p>
                                                        <p>{{revisit_this_page_cap}}</p>
                                                    </div>
                                                    <div class='paymode-outer' *ngIf="emailidVerified">
                                                        <div class='paytm-outer patm_txtgrp'>
                                                            <div class="form-group">
                                                                <mat-checkbox class="pay-chk" [checked]="paytmenabled"
                                                                    (change)="handleChange('pay')"
                                                                    [disabled]="!ineditMode" tabindex="0">{{pay_tm_cap}}
                                                                </mat-checkbox>
                                                                <span *ngIf="paytmverified && paytmenabled"
                                                                    class="verified">{{verified_cap}}</span><span
                                                                    *ngIf="!paytmverified && paytmenabled"
                                                                    class="not-verified">{{not_verified_cap}}</span>
                                                            </div>
                                                            <div class='paytm-det row' *ngIf="paytmenabled">
                                                                <div class="col-sm-6 col-md-4 col-lg-4 col-12">
                                                                    <div class="form-group">
                                                                        <label class="caption">Enter 10 digits mobile
                                                                            number
                                                                            *</label>
                                                                        <mat-form-field>
                                                                            <div class="input-group">
                                                                                <div
                                                                                    class="input-group-prepend mob-prefix">
                                                                                    <span class="input-group-text"
                                                                                        id="">{{mob_prefix_cap}}</span>
                                                                                </div>
                                                                                <input class="form-control"
                                                                                    maxlength="10" matInput #paymobref
                                                                                    [(ngModel)]="paytmmobile"
                                                                                    (keypress)="resetApi('paytmmobile')"
                                                                                    autocomplete="off"
                                                                                    [disabled]="!ineditMode"
                                                                                    (blur)="paytmBlur()" tabindex="2">
                                                                            </div>
                                                                        </mat-form-field>
                                                                        <app-field-error-display
                                                                            [displayError]="showError['paytmmobile']['status']"
                                                                            [errorMsg]="showError['paytmmobile']['msg']">
                                                                        </app-field-error-display>

                                                                    </div>
                                                                </div>
                                                                <div class="col-sm-6 col-md-4 col-lg-4 col-12">
                                                                    <div class="form-group">
                                                                        <label class="caption">Merchant Id *</label>
                                                                        <mat-form-field>
                                                                            <input matInput #paytmidref
                                                                                [(ngModel)]="paytmMerchantId"
                                                                                (keypress)="resetApi('paytmMerchantId')"
                                                                                autocomplete="off"
                                                                                [disabled]="!ineditMode"
                                                                                (blur)="paytmMidBlur()" tabindex="3">
                                                                        </mat-form-field>
                                                                        <app-field-error-display
                                                                            [displayError]="showError['paytmMerchantId']['status']"
                                                                            [errorMsg]="showError['paytmMerchantId']['msg']">
                                                                        </app-field-error-display>
                                                                    </div>
                                                                </div>
                                                                <div class="col-sm-6 col-md-4 col-lg-4 col-12">
                                                                    <div class="form-group">
                                                                        <label class="caption">Merchant Key *</label>
                                                                        <mat-form-field>
                                                                            <input matInput #paytmmkeyref
                                                                                [(ngModel)]="paytmMerchantKey"
                                                                                (keypress)="resetApi('paytmMerchantKey')"
                                                                                autocomplete="off"
                                                                                [disabled]="!ineditMode"
                                                                                (blur)="paytmMkeyBlur()" tabindex="4">
                                                                        </mat-form-field>
                                                                        <app-field-error-display
                                                                            [displayError]="showError['paytmMerchantKey']['status']"
                                                                            [errorMsg]="showError['paytmMerchantKey']['msg']">
                                                                        </app-field-error-display>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class='cc-outer'>
                                                            <div class="form-group">
                                                                <mat-checkbox class="pay-chk" [checked]="ccenabled"
                                                                    (change)="handleChange('cc')"
                                                                    [disabled]="!ineditMode" tabindex="2">
                                                                    {{cc_dc_netbanking_cap}}</mat-checkbox>
                                                                <span *ngIf="payuverified  && ccenabled"
                                                                    class="verified">{{verified_cap}}</span><span
                                                                    *ngIf="!payuverified  && ccenabled"
                                                                    class="not-verified">{{not_verified_cap}}</span>
                                                            </div>
                                                            <div class='cc-det' *ngIf="ccenabled">
                                                                <!-- <div class='pan-outer'>
                                                                <div class="form-group">
                                                                    <label
                                                                        class="caption">{{pan_card_number_cap}}</label>
                                                                    <mat-form-field>
                                                                        <input matInput [(ngModel)]="pannumber"
                                                                            (change)="resetApi('pannumber')"
                                                                            maxlength="10" autocomplete="off"
                                                                            [disabled]="!ineditMode"
                                                                            (blur)="panCardBlur()" tabindex="7">
                                                                    </mat-form-field>
                                                                    <app-field-error-display
                                                                        [displayError]="showError['pannumber']['status']"
                                                                        [errorMsg]="showError['pannumber']['msg']">
                                                                    </app-field-error-display>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label
                                                                        class="caption">{{name_on_pan_card_cap}}</label>
                                                                    <mat-form-field>
                                                                        <input matInput [(ngModel)]="panname"
                                                                            (change)="resetApi('panname')"
                                                                            autocomplete="off" [disabled]="!ineditMode"
                                                                            maxlength="50" (blur)="panNameBlur()"
                                                                            tabindex="10">
                                                                    </mat-form-field>
                                                                    <app-field-error-display
                                                                        [displayError]="showError['panname']['status']"
                                                                        [errorMsg]="showError['panname']['msg']">
                                                                    </app-field-error-display>
                                                                </div>
                                                            </div> -->
                                                                <div class='bank-outer'>
                                                                    <div class="form-group">
                                                                        <label
                                                                            class="caption">{{account_holder_name_cap}}</label>
                                                                        <mat-form-field>
                                                                            <input matInput #acholdernameref
                                                                                [(ngModel)]="bankacname"
                                                                                (change)="resetApi('bankacname')"
                                                                                autocomplete="off"
                                                                                [disabled]="!ineditMode" maxlength="50"
                                                                                (blur)="acholderNameBlur()"
                                                                                tabindex="5">
                                                                        </mat-form-field>
                                                                        <app-field-error-display
                                                                            [displayError]="showError['bankacname']['status']"
                                                                            [errorMsg]="showError['bankacname']['msg']">
                                                                        </app-field-error-display>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label
                                                                            class="caption">{{bank_account_number_cap}}</label>
                                                                        <mat-form-field>
                                                                            <input matInput [(ngModel)]="bankacnumber"
                                                                                (change)="resetApi('bankacnumber')"
                                                                                maxlength="18" autocomplete="off"
                                                                                (blur)="bankAcnumberBlur()"
                                                                                tabindex="6">
                                                                        </mat-form-field>
                                                                        <app-field-error-display
                                                                            [displayError]="showError['bankacnumber']['status']"
                                                                            [errorMsg]="showError['bankacnumber']['msg']">
                                                                        </app-field-error-display>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="caption">{{bank_name_cap}}</label>
                                                                        <mat-form-field>
                                                                            <input matInput [(ngModel)]="bankname"
                                                                                (change)="resetApi('bankname')"
                                                                                autocomplete="off"
                                                                                [disabled]="!ineditMode" maxlength="50"
                                                                                (blur)="bankNameBlur()" tabindex="8">
                                                                        </mat-form-field>
                                                                        <app-field-error-display
                                                                            [displayError]="showError['bankname']['status']"
                                                                            [errorMsg]="showError['bankname']['msg']">
                                                                        </app-field-error-display>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="caption">{{ifsc_code_cap}}</label>
                                                                        <mat-form-field>
                                                                            <input matInput [(ngModel)]="bankifsc"
                                                                                (change)="resetApi('bankifsc')"
                                                                                autocomplete="off"
                                                                                [disabled]="!ineditMode" maxlength="11"
                                                                                (blur)="ifscBlur()" tabindex="9">
                                                                        </mat-form-field>
                                                                        <app-field-error-display
                                                                            [displayError]="showError['bankifsc']['status']"
                                                                            [errorMsg]="showError['bankifsc']['msg']">
                                                                        </app-field-error-display>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label
                                                                            class="caption">{{branch_name_cap}}</label>
                                                                        <mat-form-field>
                                                                            <input matInput [(ngModel)]="bankbranch"
                                                                                (change)="resetApi('bankbranch')"
                                                                                maxlength="50" autocomplete="off"
                                                                                [disabled]="!ineditMode"
                                                                                (blur)="bankBranchBlur()" tabindex="11">
                                                                        </mat-form-field>
                                                                        <app-field-error-display
                                                                            [displayError]="showError['bankbranch']['status']"
                                                                            [errorMsg]="showError['bankbranch']['msg']">
                                                                        </app-field-error-display>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label
                                                                            class="caption">{{business_filing_status_cap}}</label>
                                                                        <mat-form-field>
                                                                            <mat-select [(ngModel)]="bankfiling"
                                                                                (selectionChange)="resetApi('bankfiling')"
                                                                                [disabled]="!ineditMode" tabindex="12">
                                                                                <mat-option value="">{{select_cap}}
                                                                                </mat-option>
                                                                                <mat-option value="Proprietorship">
                                                                                    {{proprietorship_cap}}</mat-option>
                                                                                <mat-option value="Individual">
                                                                                    {{individual_cap}}</mat-option>
                                                                                <mat-option value="Partnership">
                                                                                    {{partnership_cap}}</mat-option>
                                                                                <mat-option value="Privatelimited">
                                                                                    {{pvt_ltd_cap}}</mat-option>
                                                                                <mat-option value="PublicLimited">
                                                                                    {{public_ltd_cap}}</mat-option>
                                                                                <mat-option value="LLP">{{llp_cap}}
                                                                                </mat-option>
                                                                                <mat-option value="Trust">{{trust_cap}}
                                                                                </mat-option>
                                                                                <mat-option value="Societies">
                                                                                    {{societies_cap}}</mat-option>
                                                                            </mat-select>
                                                                        </mat-form-field>
                                                                        <app-field-error-display
                                                                            [displayError]="showError['bankfiling']['status']"
                                                                            [errorMsg]="showError['bankfiling']['msg']">
                                                                        </app-field-error-display>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label
                                                                            class="caption">{{account_type_cap}}</label>
                                                                        <mat-form-field>
                                                                            <mat-select [(ngModel)]="bankactype"
                                                                                (selectionChange)="resetApi('bankactype')"
                                                                                [disabled]="!ineditMode" tabindex="13">
                                                                                <mat-option value="">{{select_cap}}
                                                                                </mat-option>
                                                                                <mat-option value="Current">
                                                                                    {{current_cap}}
                                                                                </mat-option>
                                                                                <mat-option value="Saving">
                                                                                    {{savings_cap}}
                                                                                </mat-option>
                                                                            </mat-select>
                                                                        </mat-form-field>
                                                                        <app-field-error-display
                                                                            [displayError]="showError['bankactype']['status']"
                                                                            [errorMsg]="showError['bankactype']['msg']">
                                                                        </app-field-error-display>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label
                                                                            class="caption">{{pan_card_number_cap}}</label>
                                                                        <mat-form-field>
                                                                            <input matInput [(ngModel)]="pannumber"
                                                                                (change)="resetApi('pannumber')"
                                                                                maxlength="10" autocomplete="off"
                                                                                [disabled]="!ineditMode"
                                                                                (blur)="panCardBlur()" tabindex="7">
                                                                        </mat-form-field>
                                                                        <app-field-error-display
                                                                            [displayError]="showError['pannumber']['status']"
                                                                            [errorMsg]="showError['pannumber']['msg']">
                                                                        </app-field-error-display>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label
                                                                            class="caption">{{name_on_pan_card_cap}}</label>
                                                                        <mat-form-field>
                                                                            <input matInput [(ngModel)]="panname"
                                                                                (change)="resetApi('panname')"
                                                                                autocomplete="off"
                                                                                [disabled]="!ineditMode" maxlength="50"
                                                                                (blur)="panNameBlur()" tabindex="10">
                                                                        </mat-form-field>
                                                                        <app-field-error-display
                                                                            [displayError]="showError['panname']['status']"
                                                                            [errorMsg]="showError['panname']['msg']">
                                                                        </app-field-error-display>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="actiondiv"
                                                        *ngIf="saveEnabled && emailidVerified && profileQueryExecuted">
                                                        <button type="button" class="cs-btn bt2" (click)="resetInfo ()"
                                                            *ngIf="ineditMode" tabindex="15">Reset</button>&nbsp;
                                                        <button type="button" mat-button class="cs-btn bt1"
                                                            (click)="savePaySettings()" *ngIf="ineditMode"
                                                            tabindex="14">Save</button>
                                                        <!-- <button type="button" mat-button class="cs-btn bt1" (click)="handleEditPaySettings(true)"
                                                        *ngIf="!ineditMode" tabindex="13">{{change_pay_settings_cap}}</button> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </mat-radio-group>
                            <div class="actiondiv"
                                *ngIf="(!isJaldeeAccount && optJaldeeAccount==='enable' && (payuverified || paytmverified))">
                                <button type="button" mat-button class="cs-btn bt1"
                                    (click)="saveAccountPaymentSettings(optJaldeeAccount)">{{save_btn_cap}}</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- </mat-tab> -->
                <!-- <mat-tab label="Tax Settings">
                            <span class="form-level-settings">{{tax_st_cap}}<a class="learnmore-pointer" id="customer-help" (click)="learnmore_clicked('tax-settings', $event)">Learn More</a></span>

                        <div class="outermost">
                            <div class="taxouter">

                                <div class="form-group gstval">
                                    <label class="caption">Enter 15 digit GST number *</label>
                                    <mat-form-field>
                                        <input matInput [(ngModel)]="gstnumber" id="gstno" (keypress)="resetApi()"
                                            autocomplete="off" maxlength="15" tabindex="14">
                                    </mat-form-field>
                                    <app-field-error-display [displayError]="showError['gstnumber']['status']"
                                        [errorMsg]="showError['gstnumber']['msg']"></app-field-error-display>
                                </div>

                                <div class="form-group">
                                    <label class="caption">{{tax_percentage_cap}}</label>
                                    <mat-form-field>
                                        <input matInput [(ngModel)]="taxpercentage" (keypress)="isNumeric($event)" (keyup)="isvalid($event)"  max="100" class="tax-per"
                                            autocomplete="off" tabindex="15">
                                        <span matSuffix>%</span>
                                    </mat-form-field>
                                    <app-field-error-display [displayError]="showError['taxpercentage']['status']"
                                        [errorMsg]="showError['taxpercentage']['msg']"></app-field-error-display>
                                </div>


                            </div>
                        </div>
                        <div class="actiondiv" *ngIf="savetaxEnabled">
                            <button type="button" mat-button class="cs-btn bt1" (click)="saveTaxSettings()" [disabled]="taxfieldValidation(false)"
                                tabindex="16">{{update_tax_cap}}</button>
                        </div>
                    </mat-tab> -->
                <!-- </mat-tab-group> -->
            </div>
        </div>
    </div>
</section>