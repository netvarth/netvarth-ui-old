<header class="header-color">
    <div class="container">
        <div class="row col-md-12 col-xs-12 col-sm-12 no-padding-small m0">
            <div class="lgo col-md-3 col-xs-5 pull-left">
                <a routerLink="/"><img class="logo" src="assets/images/home/logo-blue.png" alt="Jaldee Logo"></a>
            </div>
        </div>
    </div>

</header>
<section *ngIf="isLoggedIn">
    <div class="content settings container checkin-details">
        <div class="card no-padding-small">
            <div class="col-md-12 no-padding">
                <div class="col-md-12 ">
                    <!-- graphics -->
                    <div class="graphics-div">
                        <span>
                            <img class="myjaldee-bg" _ngcontent-ywv-c30="" src="assets/images/myjaldee/Group92.png"
                                style="width: 200px;">
                        </span>
                    </div>
                    <h1 class="tel-serv-a mgn-up-20">Tele Home</h1>
                    <p>List all of your virtual scheduled meetings</p>
                </div>
                <div class="col-md-12 no-padding">
                    <hr />
                </div>
                <div class="col-md-12 no-padding">                   
                    <div class="col-md-6 col-xs-12 col-sm-12 no-padding-small consumer-dash">
                        <div class="grid-card">

                            <!-- <div class="lc4-1 stats-bar">
                            <div class="lt mgn-bt-10">
                                <div>
                                    <span class="amount">
                                        <strong class="status">Scheduled Meetings</strong>
                                    </span>
                                </div>
                            </div>
                        </div> -->
                            <div *ngFor="let gBooking of gBookings | keyvalue; let i = index">
                                <div class="lc4-1 stats-bar card">
                                    <div class="lt mgn-bt-10 mgn-up-10">
                                        <div>
                                            <span class="amount" *ngIf="!isToday || i!=0">
                                                <strong>{{gBooking.key | date: newDateFormat}}</strong>
                                            </span>
                                            <span class="amount" *ngIf="i == 0 && isToday">
                                                <strong>Today</strong>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="card no-padding">
                                    <mat-grid-list cols="1" rowHeight="240px" [gutterSize]="'10px'">
                                        <mat-grid-tile *ngFor="let booking of gBookings[gBooking.key]">
                                            <ng-container>
                                                <div
                                                    class="col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 fit_in no-padding">
                                                    <div *ngIf="booking.bookingType==='wl' && booking.token!==''"
                                                        class="ribbon">&nbsp;&nbsp;Token
                                                        {{booking.token}}
                                                    </div>
                                                    <!-- Icon -->
                                                    <div
                                                        class="col-sm-2 col-md-2 col-lg-2 col-xl-2 col-xs-2 no-padding mgn-up-10">
                                                        <div>
                                                            <i style="width: 4rem;" class="fa appt-icon"
                                                                [matTooltip]="'Appointment'"
                                                                *ngIf="booking.bookingType==='appt'"></i>
                                                            <i *ngIf="booking.token=='' && booking.bookingType==='wl'"
                                                                style="width: 3.8rem;" class="fa chckn-icon"
                                                                [matTooltip]="'Check-in'"></i>
                                                            <i *ngIf="booking.token!='' && booking.bookingType==='wl'"
                                                                style="width: 3.8rem;" class="fa token-icon"
                                                                [matTooltip]="'Token'"></i>
                                                        </div>
                                                    </div>

                                                    <!-- more options -->
                                                    <div class="more_opt">
                                                        <!-- (click)="stopprop($event)" -->
                                                        <button mat-icon-button [matMenuTriggerFor]="appMenu"
                                                            class="menu-icon">
                                                            <mat-icon>more_horiz</mat-icon>
                                                        </button>
                                                        <mat-menu #appMenu="matMenu">
                                                            <!-- (click)="doCancelWaitlist(booking,'appointment')"  -->
                                                            <!-- <button mat-menu-item
                                                                *ngIf="booking.bookingStatus == 'Confirmed' || booking.bookingStatus == 'Arrived' || booking.bookingStatus=='prepaymentPending'">
                                                                <i class="fa cross-icon"></i>
                                                                Cancel</button> -->
                                                            <!-- (click)="addWaitlistMessage(booking,'appt')" -->
                                                            <button mat-menu-item (click)="sendMessage(booking)">
                                                                <i class="fa chat-icon"></i>
                                                                <!-- {{send_msg_cap}} -->Send Message
                                                            </button>
                                                            <button mat-menu-item (click)="viewBooking(booking)">
                                                                <i class="fa eye-icon"></i>
                                                                <!-- {{send_msg_cap}} -->View Details
                                                            </button>
                                                            <!-- (click)="getMeetingDetails(booking,'appt')"                                                                                                                              -->
                                                            <!-- <button mat-menu-item *ngIf="booking.bookingStatus !== 'Completed'
                                                && booking.bookingStatus !== 'Cancelled'">
                                                                <i class="fa fa-sticky-note-o" aria-hidden="true"></i>
                                                                Meeting details
                                                            </button> -->
                                                        </mat-menu>
                                                    </div>

                                                    <!-- Basic info -->
                                                    <div
                                                        class="col-sm-10 col-md-10 col-lg-10 col-xl-10 col-xs-10 mgn-up-25 pad-lt-40">
                                                        <div class="ordr_no font-size-9"
                                                            *ngIf="booking.bookingType==='appt'">{{booking.bookingTime}}
                                                        </div>
                                                        <div class="ordr_no font-size-9"
                                                            *ngIf="booking.bookingType!=='appt'">
                                                            {{booking.bookingWindow}}</div>
                                                        <div class="sp_name wrap_txt">
                                                            {{booking.businessName || '' | capitalizeFirst}}</div>
                                                    </div>

                                                    <!-- Extra Info -->
                                                    <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12">
                                                        <div
                                                            class="col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 no-padding">
                                                            <div class="pull-left col-xs-6 no-padding">
                                                                <div class="prov_lbl">Service</div>
                                                                <div class="mgn-tp-8 prov_nme disply-flex ">
                                                                    <span class="module line-clamp-1">
                                                                        <span>
                                                                            <i class="fa phon-icon"
                                                                                *ngIf="booking.teleMedia === 'Phone'"></i>
                                                                            <i class="fa meet-icon"
                                                                                *ngIf="booking.teleMedia === 'GoogleMeet'"></i>
                                                                            <i class="fa zoom-icon"
                                                                                *ngIf="booking.teleMedia === 'Zoom'"></i>
                                                                            <i class="fa wtsapaud-icon"
                                                                                *ngIf="booking.teleMedia === 'WhatsApp' && booking.teleMode ==='audio'"></i>
                                                                            <i class="fa wtsapvid-icon"
                                                                                *ngIf="booking.teleMedia === 'WhatsApp' && booking.teleMode ==='video'"></i>
                                                                        </span>
                                                                        {{booking.service | capitalizeFirst}}</span>
                                                                </div>
                                                            </div>
                                                            <div class="pull-right col-xs-6">
                                                                <div class="prov_lbl">Appointment for</div>
                                                                <div class="prov_nme"> {{booking.bookingFor}}</div>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 no-padding mgn-up-5" >
                                                            <div class="pull-left col-xs-6 no-padding" *ngIf="booking.userName">
                                                                <div class="prov_lbl">Provider</div>
                                                                <div class="prov_nme">{{booking.userName}}</div>
                                                            </div>
                                                            <div class="col-xs-6 " [class.no-padding]="!booking.userName">
                                                                <div class="prov_lbl">Status</div>
                                                                <div class="prov_nme">{{booking.bookingStatus}}</div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Actions and status -->
                                                    <mat-grid-tile-footer>
                                                        <!-- [class]="getBookingStatusClass(booking.bookingStatus)" -->
                                                        <div class="book_stats mgn-up-20 w-100">
                                                            <!-- <span *ngIf="booking.bookingStatus !== 'Arrived'">{{booking.bookingStatus}}</span> -->
                                                            <span class="pull-right" *ngIf="booking.teleMedia=== 'VideoCall' || booking.teleMedia=== 'GoogleMeet' || booking.teleMedia=== 'Zoom'">
                                                                <a  *ngIf="booking.teleMedia=== 'VideoCall'">
                                                                    <button mat-flat-button class="btns pad-5" (click)="joinJaldeeVideo(booking)">Join Video Consultation</button>
                                                                </a>
                                                                <a *ngIf="booking.teleMedia=== 'Zoom' || booking.teleMedia=== 'GoogleMeet'" [href]="booking.teleUrl" target="_blank">
                                                                    <button mat-flat-button class="btns pad-5" >Join Video Consultation</button>
                                                                </a>
                                                            </span>
                                                        </div>
                                                    </mat-grid-tile-footer>
                                                </div>
                                            </ng-container>
                                            <!-- Checkins -->
                                        </mat-grid-tile>
                                    </mat-grid-list>
                                </div>
                            </div>
                            <div *ngIf="noBookings" class="col-md-12 no-bookings"><h4>Currently you have no scheduled meetings</h4></div>
                        </div>
                    </div>  
                    <div class="col-md-6 col-xs-12 col-sm-12  no-padding-small text-center">
                        <img src="../../../../assets/images/video-conference.png" class="tele-img">
                    </div>                  
                </div>
            </div>
        </div>
    </div>
</section>