<div class="authentication">
    <div class="col-12 col-sm-12 col-md-12 col-lg-12">
        <div class="check-mobile-exist text-center" *ngIf="step===1">
            <h1>Let's Start</h1>
            <div class="form-group mobile-no mgn-up-50 ">
                <label for="phone">Enter your Mobile Number</label>
                <ngx-intl-tel-input [cssClass]="'custom'" [preferredCountries]="preferredCountries"
                    [enableAutoCountrySelect]="true" [enablePlaceholder]="true" [searchCountryFlag]="true"
                    [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                    [selectFirstCountry]="false" [maxLength]="15" [phoneValidation]="true"
                    [selectedCountryISO]="selectedCountry" [separateDialCode]="separateDialCode"
                    [numberFormat]="PhoneNumberFormat.National" name="phone" [(ngModel)]="phoneNumber">
                </ngx-intl-tel-input>
                <div class="sts-msg error" *ngIf="phoneError">{{phoneError}}</div>
                <div class="form-group email mgn-up-20" *ngIf="phoneNumber && phoneNumber.dialCode != '+91'">
                    <label for="phone">Enter your Email</label>
                    <input type="text" class="form-control" id="emailId" [(ngModel)]="emailId" autocomplete="off"
                        (keypress)="resetApiErrors()">
                </div>
                <!-- <div class="sts-msg error" *ngIf="emailError">{{emailError}}</div> -->
                <button class="cust-logpg-submt mgn-up-20 mat-button continue-button" type="button"
                    [disabled]="api_loading" (click)="!btnClicked && sendOTP()" (keyup)="clearPhoneExists()">
                    <span class="continue" *ngIf="!api_loading">Continue</span>
                    <app-common-innerloading-spinner [spinnerParams]="{diameter:30}" *ngIf="api_loading">
                    </app-common-innerloading-spinner>
                </button>
                <div class="centeralign mgn-bt-20 mgn-up-30 color-grey" *ngIf="googleIntegration">
                    ----------------OR-----------------</div>
                <!-- <div class="form-group mobile-no mgn-up-30" *ngIf="googleIntegration">
                    <div id="buttonDiv" class="g-container" #googleBtn></div>
                </div> -->
            </div>
        </div>
        <div *ngIf="step===3" class="text-center">
            <div class="form-group otp ">
                <app-common-innerloading-spinner [spinnerParams]="{diameter:30}" *ngIf="loading">
                </app-common-innerloading-spinner>
                <h1>Verification</h1>
                <label *ngIf="phoneNumber && phoneNumber.dialCode==='+91'" for="phone" class="mgn-bt-20">Please type the
                    verification code sent to {{phoneNumber.e164Number}}</label>
                <label *ngIf="phoneNumber && phoneNumber.dialCode!=='+91'" for="phone" class="mgn-bt-20">Please type the
                    verification code sent to {{emailId}}</label>
                <!-- <label *ngIf="isSmsEmail" for="phone" class="mgn-bt-20">Please type the
                        verification code sent to {{phoneNumber.e164Number}} or {{emailId}}</label> -->

                <ng-otp-input class="bkgclr" (onInputChange)="!btnClicked && onOtpChange($event)"
                    [config]="config"></ng-otp-input>
                <button class="cust-logpg-submt mgn-up-20 mat-button continue-button" type="button"
                    [disabled]="api_loading" (click)="!btnClicked && verifyOTP()">
                    <span class="continue" *ngIf="!api_loading">Next</span>
                    <app-common-innerloading-spinner [spinnerParams]="{diameter:30}" *ngIf="api_loading">
                    </app-common-innerloading-spinner>
                </button>
                <p class="mgn-up-20">Not received yet! <a class="pointer-cursor link"
                        (click)="!btnClicked && sendOTP('resent')">Resend OTP</a>
                </p>
                <p class="mgn-up-20 font-weight-bold" *ngIf="googleIntegration">If you are not getting OTP via SMS, Use Google Login
                </p>
            </div>
        </div>
        <div *ngIf="step===2" class="text-center">
            <h1>Let's get to know you...</h1>
            <div class="form-group otp">
                <label for="phone">First Name</label>
                <input type="text" class="form-control" id="first_name" [(ngModel)]="firstName" autocomplete="off" />
            </div>
            <div class="form-group otp">
                <label for="phone">Last Name</label>
                <input type="text" class="form-control" id="first_name" [(ngModel)]="lastName" autocomplete="off" />
            </div>
            <div class="form-group otp" *ngIf="googleLogin">
                <label for="phone">Mobile Number</label>
                <ngx-intl-tel-input [cssClass]="'custom'" [preferredCountries]="preferredCountries"
                    [enableAutoCountrySelect]="true" [enablePlaceholder]="true" [searchCountryFlag]="true"
                    [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                    [selectFirstCountry]="false" [maxLength]="15" [phoneValidation]="true"
                    [selectedCountryISO]="selectedCountry" [separateDialCode]="separateDialCode"
                    [numberFormat]="PhoneNumberFormat.National" name="phone" [(ngModel)]="phoneNumber">
                </ngx-intl-tel-input>
                <div class="sts-msg error" *ngIf="phoneError">{{phoneError}}</div>
            </div>
            <div class="form-group otp" style="display: flex !important; justify-content: space-between !important;">
                <button class="mgn-up-20 mat-button signup-button" type="button" [disabled]="api_loading"
                    (click)="goBack()">
                    <span *ngIf="!api_loading">Back</span>
                    <app-common-innerloading-spinner [spinnerParams]="{diameter:30}" *ngIf="api_loading">
                    </app-common-innerloading-spinner>
                </button>
                <button class="mgn-up-20 mat-button signup-button" type="button" [disabled]="api_loading"
                    (click)="!btnClicked && signUpConsumer()">
                    <span *ngIf="!api_loading">Next</span>
                    <app-common-innerloading-spinner [spinnerParams]="{diameter:30}" *ngIf="api_loading">
                    </app-common-innerloading-spinner>
                </button>
            </div>
        </div>
        <div *ngIf="step===4">
            <h1>Hi {{firstName}} {{lastName}}</h1>
            <label for="phone">Set your password for your future logins or you can skip for now.</label>
            <div class="form-group otp">
                <label for="phone">Enter your Password</label>
                <input type="text" class="form-control" id="first_name" [(ngModel)]="password" autocomplete="off" />
            </div>
            <div class="form-group otp">
                <label for="phone">Confirm Password</label>
                <input type="text" class="form-control" id="first_name" [(ngModel)]="rePassword" autocomplete="off" />
            </div>
            <div class="form-group otp">
                <button class="cust-logpg-submt mgn-up-20 mat-button continue-button" type="button"
                    [disabled]="api_loading" (keyup)="clearPhoneExists()">
                    <span class="continue" *ngIf="!api_loading">SAVE</span>
                    <app-common-innerloading-spinner [spinnerParams]="{diameter:30}" *ngIf="api_loading">
                    </app-common-innerloading-spinner>
                </button>
                <span *ngIf="!api_loading">Skip for now</span>
            </div>
        </div>
        <div class="form-group mobile-no d-flex justify-content-center" *ngIf="googleIntegration">
            <div id="buttonDiv" #googleBtn></div>
        </div>
    </div>
</div>