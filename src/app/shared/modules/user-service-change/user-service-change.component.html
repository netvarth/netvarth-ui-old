<section class="">
  <div class="card title-gb">
    <h5 class="mgn-up-10 disp-flex">
      <span class="fa fa-arrow-left pointer-cursor" (click)="redirecToReports()"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <div> Assign a {{provider_label}} for your {{customer_label}}
        <div class="form-level-settings">Please click any {{provider_label}} to assign</div>
      </div>
      <a (click)="showFilterSidebar()" class="btn mb-2 action-button mgn-lt-auto">
        <i class="icon-filter-one">
        </i>
        Filter
      </a>
    </h5>
  </div>
</section>
<section class="" *ngIf="filterapplied">
  <div class="card title-gb"> 
      <h6 class="mgn-up-10 disp-flex">
          <span ></span>{{filterApplied_count}}&nbsp;&nbsp;Result Found
      </h6>
  </div>
</section>
<aside class="filterSidebar user-filter" *ngIf="filter_sidebar">
  <section class="sidebar" style="overflow:auto;" [ngStyle]="{'height.vh': 90}">
    <div class="filterClosebtn">
      <i class="icon-filter-one-op ng-star-inserted closeFilter" (click)="hideFilterSidebar()"
        [matTooltip]="'Close filter window'"></i>
      <span *ngIf="filterapplied === true" class="clearFilter" (click)="clearFilter()" [matTooltip]="'Reset filter'">
        Clear
        All</span>
    </div>
    <ul class="sidebar-menu">
      <div class="filterTextinput">
        <li class="filterli">
          <input type="text" id="firstName" [(ngModel)]="filter.firstName" #firstName (blur)="doSearch()"
            (keyup)="focusInput($event)" maxlength="20" class="filterTextbox" placeholder="First Name">
        </li>
      </div>
      <div class="filterTextinput">
        <li class="filterli">
          <input type="text" id="lastName" [(ngModel)]="filter.lastName" #lastName (blur)="doSearch()"
            (keyup)="focusInput($event)" maxlength="10" class="filterTextbox" placeholder="Last Name">
        </li>
      </div>
      <div class="filterTextinput">
        <li class="filterli">
          <input type="text" id="pincode" [(ngModel)]="filter.pincode" #pincode (blur)="doSearch()"
            (keyup)="focusInput($event)" maxlength="10" class="filterTextbox" placeholder="Pincode">
        </li>
      </div>
      <div class="filterTextinput">
        <li class="filterli">
          <input type="text" id="location" [(ngModel)]="filter.location" #location (blur)="doSearch()"
            (keyup)="focusInput($event)" maxlength="20" class="filterTextbox" placeholder="Location">
        </li>
      </div>
      <div class="filterTextinput">
        <li class="filterli">
          <input type="text" id="primaryMobileNo" [(ngModel)]="filter.primaryMobileNo" #primaryMobileNo
            (blur)="doSearch()" (keyup)="focusInput($event)" maxlength="10" class="filterTextbox"
            placeholder="Phone Number">
        </li>
      </div>
      <div class="filterTextinput">
        <label class="filterHeaders">Languages</label>
        <li class="filterli">
          <mat-checkbox *ngFor="let language of languages_arr" class="filter-checkbox"
            [checked]="selectedLanguages.indexOf(language.name) !== -1"
            (change)="setFilterDataCheckbox('languages', language.name)">
            {{language.displayName}}</mat-checkbox>
        </li>
      </div>
      <div>
        <label class="filterHeaders">Specializations</label>
        <li class="filterli">
          <mat-checkbox *ngFor="let special of specialization_arr" class="filter-checkbox"
            [checked]="selectedSpecialization.indexOf(special.name) !== -1"
            (change)="setFilterDataCheckbox('specializations', special.name)">
            {{special.displayName}}</mat-checkbox>
        </li>
      </div>
    </ul>
  </section>
</aside>
<section class="customersList">
  <div class="row p-3">
    <div class="col-lg-12">
      <div class="card card-custom card-stretch gutter-b no-padding">
        <div class="card-body pt-0 pb-3 no-padding">
          <div class="tab-content">
            <div class="table-responsive1">
              <table class="table table-head-custom table-head-bg table-borderless table-vertical-center">
                <thead>
                  <tr class="text-left text-uppercase">
                    <th class="display-min-none" style="min-width: 250px;">{{provider_label}} name</th>
                    <th class="display-min-none" style="min-width: 125px;">Phone number</th>
                    <th class="display-min-none" style="width: 30%;">Specializations</th>
                    <th class="display-min-none">Languages</th>
                    <th class="display-min-none">Availability</th>
                  </tr>
                </thead>
                <tbody *ngIf="!loading">
                  <tr class="row_data border-bottom pointer-cursor"
                    *ngFor="let service of service_dataSource.data; let i = index;" (click)="selectedRow(i,service)">
                    <td class="waitlist-box">
                      <span class="mgn-up-5 d-lg-none pull-right"><a class="assign-btn"
                          (click)="selectedRow(i,service)">Assign</a>
                      </span>
                      <div class="disp-flex">
                        <div class="user-img img-min-width">
                          <img [src]="getUserImg(service)">
                        </div>
                        <div class="mgn-lt-10">
                          <div class="username">{{service.Username?service.Username : ''}}
                              <span style="color: green;" *ngIf="service.currentWlCount">({{service.currentWlCount}})</span>
                          </div>
                          <div class="disp-flex mgn-up-5" *ngIf="service.city && service.state"><i
                              class="fa fa-map-marker mgn-rt-5" aria-hidden="true"></i>
                              {{service.locationName}},<br>{{service.city}},&nbsp;{{service.state}}</div>
                          <div class="d-lg-none">
                            <div class="mgn-up-5" *ngIf="service.mobileNo"> <span class="b1">
                                Phone number : </span><span class="b2"> +91 {{service.mobileNo}} </span></div>
                            <div class="mgn-up-5" *ngIf="service.specialization"> <span class="b1">
                                Specializations : </span> <span class="b2"> {{service.specialization}} </span></div>
                            <div class="mgn-up-5" *ngIf="service.languages"> <span class="b1">
                                Languages : </span><span class="b2"> {{service.languages}} </span></div>
                            <div class="mgn-up-5"> <span class="b1">
                                Availability : </span><span class="b2"> {{(service.isAvailable) ? 'Available' : 'Not
                                Available'}} </span></div>
                          </div>
                        </div>
                      </div>
                    </td>
                    <td class="display-min-none">
                      <span *ngIf="service.mobileNo">
                        +91 {{service.mobileNo}}</span>
                    </td>
                    <td class="display-min-none">
                      {{service.specialization}}
                    </td>
                    <td class="display-min-none">
                      {{service.languages}}
                    </td>
                    <td class="display-min-none" [ngClass]="service.isAvailable ? 'greenc' : 'red'">
                      {{(service.isAvailable) ? 'Available' : 'Not Available'}}
                    </td>
                  </tr>
                  <tr *ngIf="service_dataSource.data.length == 0 && !loading">
                    No {{provider_label}} found
                  </tr>
                </tbody>
                <app-common-innerloading-spinner *ngIf="loading"></app-common-innerloading-spinner>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
