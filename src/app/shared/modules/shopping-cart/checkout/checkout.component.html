<section #consumer_order class="container no-padding cons-donate no-padding-small order-checkout" *ngIf="source!='paper'">
  <div [ngClass]="{'loadingpaytm': loadingPaytm}"></div>
  <div class="content p0 loc-list p-checkin ynw-common-form-nm">
    <div class="panel panel-default">
      <div class="panel-heading col-xs-12 col-sm-12 co-md-12 col-lg-12 no-padding top-row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 no-padding">
          <app-header *ngIf="sharedFunctionobj.checkLogin()"></app-header>
        </div>
      </div>
      <div class="panel-body no-padding">
        <div class="c-outer m0">
          <div class="c-body width-100">
            <div class="card title-gb m0">
              <h5 class="mgn-up-10">
                <a class="back-btn" (click)="goBack()">
                  <i class="fa fa-arrow-left"></i>
                </a>
                <span class=" mgn-lt-10 amount">Go to cart</span>
              </h5>
            </div>
            <div *ngIf="loadingPaytm">
              <app-common-innerloading-spinner></app-common-innerloading-spinner>
            </div>
            <div class="card" *ngIf="loading">
              <app-common-innerloading-spinner> </app-common-innerloading-spinner>
            </div>
            <div class="lbl col-sm-12 col-md-7 col-lg-7 col-xl-7  col-xs-12 bg-grey no-padding-small"
              *ngIf="action=='' &&!loading">
              
              <div class="col-md-12 no-padding-small mgn-up-30">
                <mat-vertical-stepper [linear]="isLinear" fxLayout="column" #stepper>
                  <mat-step label="Step 1" *ngIf="!onlyvirtualItemsPresent">
                    <ng-template matStepLabel>Delivery options </ng-template>
                    <div>
                      <div *ngIf="home_delivery && store_pickup" class="d-type">Choose delivery type <br>
                        <mat-radio-group [(ngModel)]="choose_type" (change)="changeType($event)">
                          <mat-radio-button [value]="'store'" [checked]="storeChecked">
                            Store pick up
                          </mat-radio-button> &nbsp;&nbsp;&nbsp;
                          <mat-radio-button [value]="'home'" [checked]="!storeChecked">
                            Home delivery
                          </mat-radio-button>
                        </mat-radio-group>
                      </div>
                      <div *ngIf="store_pickup && !home_delivery">
                        Store Pick Up
                      </div>
                      <div *ngIf="home_delivery && !store_pickup">
                        Home Delivery
                      </div>
                      <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-up-10">
                        Date/Time
                        <span><a class="changeitem  pointer-cursor  mgn-rt-20 mgn-bt-10 change"
                            (click)="changeTime()">Change
                          </a></span>
                      </div>
                      <div *ngIf="isfutureAvailableTime">
                        <h4>
                          <span *ngIf="!isFuturedate">Today, </span>
                          <span *ngIf="!isFuturedate">
                            {{nextAvailableTime}}
                          </span>
                          <span *ngIf="isFuturedate">{{sel_checkindate | date: newDateFormat}},
                          </span>
                          <span *ngIf="isFuturedate">
                            {{nextAvailableTime}}
                          </span>
                        </h4>
                      </div>
                      <div [hidden]="isfutureAvailableTime" class="red">
                        <span>No timings are available</span>
                      </div>
                    </div>
                    <div [hidden]="!isfutureAvailableTime">
                      <button class="nxt-btn" mat-flat-button matStepperNext>Next</button>
                    </div>
                  </mat-step>
                  <mat-step label="Step 2" *ngIf="qnr">
                    <ng-template matStepLabel>More Info</ng-template>
                    <div>
                      <app-questionnaire [questionnaireList]="questionnaireList" [source]="'consOrder'" 
              [questionAnswers]="questionAnswers" [accountId]="account_id"
              (returnAnswers)="getQuestionAnswers($event)"></app-questionnaire>
                    </div>
                    <div *ngIf="bookStep=='qnr'"> 
                      <button class="nxt-btn" mat-flat-button  (click)="validateQuestionnaire()">save</button>
                    </div>
                    <div *ngIf="bookStep=='Step 3'"> 
                      <button class="nxt-btn" mat-flat-button  matStepperNext >Next</button>
                    </div>
                  </mat-step>
                  <mat-step label="Step 3">
                    <ng-template matStepLabel
                      *ngIf="(!home_delivery && store_pickup)||choose_type=='store' ||onlyvirtualItemsPresent"> Contact
                      Details </ng-template>
                    <ng-template matStepLabel *ngIf="(home_delivery && !store_pickup) || choose_type =='home' ">Fill out
                      your address</ng-template>
                    <ng-container *ngIf="choose_type =='home'||(home_delivery && !store_pickup) ">
                      <mat-grid-list *ngIf="!onlyvirtualItemsPresent" cols="{{no_of_grids}}" rowHeight="200px"
                        [gutterSize]="'10px'" class="mgn-bt-20">
                        <mat-grid-tile *ngFor="let address of added_address; let i = index"
                          (click)="highlight(i,address)" [ngClass]="{'highlightadress': selectedRowIndex == i}">
                          <mat-grid-tile-header>
                            <i class="fa fa-map-marker" aria-hidden="true"></i>
                            <span class="adrs-head">Address {{i+1}}</span>
                          </mat-grid-tile-header>
                          <div class="adrs-data">
                            <div>{{address.firstName }}&nbsp;{{address.lastName}}</div>
                            <div>{{address.address}}</div>
                            <div>{{address.city}} ,{{address.landMark}}, {{address.postalCode}}</div>
                            <div> +91 {{address.phoneNumber}}</div>
                            <div> {{address.email}}</div>
                          </div>
                          <mat-grid-tile-footer>
                            <button class="add-adrs-btn" mat-flat-button (click)="updateAddress(address,i)">
                              Edit
                            </button> &nbsp;
                            <button class="add-adrs-btn" mat-flat-button (click)="deleteAddress(address,i)">
                              Delete
                            </button>
                          </mat-grid-tile-footer>
                        </mat-grid-tile>
                        <mat-grid-tile>
                          <mat-grid-tile-header>
                            <i class="fa fa-map-marker" aria-hidden="true"></i>
                            <span class="adrs-head">Add new address</span>
                          </mat-grid-tile-header>
                          <mat-grid-tile-footer>
                            <button class="add-adrs-btn" mat-flat-button (click)="addAddress()">
                              Add new
                            </button>
                          </mat-grid-tile-footer>
                        </mat-grid-tile>
                      </mat-grid-list>
                    </ng-container>
                    <ng-container
                      *ngIf="(!home_delivery && store_pickup)||choose_type=='store' ||onlyvirtualItemsPresent">
                      <form [formGroup]="storeContact">
                        <div class="ph-outline" style="display: flex;">
                          <div class="input-group">
                            <input class="ph-ip mgn-lt-20" formControlName="phone" required id="youridhere">
                            <label for="youridhere" class="static-value">+91</label>
                            <label class="ph-label"><sup><i class="fa fa-asterisk"></i></sup>Contact number</label>
                          </div>
                          <app-field-error-display [displayError]="fed_service.isFieldValid(storeContact,'phone')"
                            [errorMsgs]="fed_service.getErrorMessage(storeContact,'phone',
                        {
                          'required' : 'Mobile number is required',
                          'minlength' : 'Enter a 10 digit mobile number',
                          'maxlength' : 'Enter a 10 digit mobile number',
                          'pattern' : 'Only numbers are allowed'
                        })">
                          </app-field-error-display>
                        </div>
                        <div class="ph-outline">
                          <input class="ph-ip" formControlName="email">
                          <label class="ph-label"><sup><i class="fa fa-asterisk"></i></sup>Email</label>
                        </div>
                        <app-field-error-display [displayError]="fed_service.isFieldValid(storeContact,'email')"
                          [errorMsgs]="fed_service.getErrorMessage(storeContact,'email',
                      {
                        'required' : 'Email is required',
                        'pattern' : 'Please enter valid email'
                      })">
                        </app-field-error-display>
                      </form>
                    </ng-container>
                  </mat-step>
                </mat-vertical-stepper>
              </div>
            </div>




            <div class="lbl col-sm-12 col-md-5 col-lg-5 col-xl-5 col-xs-12 no-padding-small bg-grey" *ngIf="action==''">
              <!-- Side bar contact -->
              <div class="contact-outer">
                <aside *ngIf="showSide" class="side_nav">
                  <h4>Store Contact <i (click)="closeNav()" class="fa fa-times-circle fl-right"></i></h4>
                  <div class="addrs">
                    <span>{{storeContactNw.firstName}}&nbsp;{{storeContactNw.lastName}}</span>
                    <span *ngIf="storeContactNw.address">
                      <i class="fa fa-address-card-o" aria-hidden="true"></i> {{storeContactNw.address}}
                    </span>
                    <span><i class="fa fa-phone mgn-rt-6"></i>{{storeContactNw.primCountryCode}}
                      {{storeContactNw.phone}}</span>
                    <span *ngIf="storeContactNw.alternatePhone"><i
                        class="fa fa-phone mgn-rt-6"></i>{{storeContactNw.secCountryCode}}
                      {{storeContactNw.alternatePhone}}</span>
                    <span [matTooltip]="storeContactNw.email" *ngIf="storeContactNw.email" class="wrap"><i
                        class="fa fa-envelope mgn-rt-6"></i>{{storeContactNw.email}}</span>
                    <span *ngIf="storeContactNw.alternateEmail" class="content_wrap"><i
                        class="fa fa-envelope mgn-rt-6"></i>{{storeContactNw.alternateEmail}}</span>
                    <span *ngIf="storeContactNw.whatsappNo"><i
                        class="fa wtsapaud-icon mgn-rt-6"></i>{{storeContactNw.whatsAppCountryCode}}
                      {{storeContactNw.whatsappNo}}</span>
                  </div>
                </aside>
              </div>
              <div class="card" *ngIf="loading">
                <app-common-innerloading-spinner> </app-common-innerloading-spinner>
              </div>
              <div [class.opacty]="showSide" class="card mgn-up-30" *ngIf="!loading">
                <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 disp-flex">
                  <div *ngIf="businessDetails && businessDetails.logo">
                    <div class="prov-dp" [ngStyle]="{ 'background-image': 'url(' + businessDetails.logo + ')'}"></div>
                  </div>
                  <div class="prov-name">
                    <div class="prov-name-txt">
                      {{businessDetails.bname}}
                    </div>
                    <div class="prov-loc">
                      {{businessDetails.blocation}}
                    </div>
                    <div class="prov-loc store-cntct" (click)="sidebar()">
                      <i class="fa fa-home store_ico"></i>Store Contact
                    </div>
                  </div>
                </div>
                <span class="mgn-up-20" *ngIf="!image_list_popup && this.orderType === 'SHOPPINGLIST'"
                  (click)="uploadShoppingList()">
                  <a class="uploadshoppinglist-btn">Upload Shopping List</a>
                </span>
                <div class="bill-section" *ngIf="this.orderType !== 'SHOPPINGLIST'">
                  <div class="bill-section-content">
                    <div class="bill-wrapper ">
                      <div class="bill-content">
                        <div class="section-three">
                          <div class="bill-breakup">
                            <div class="list border">
                              <div class="list-content head_labels">
                                <div class="copy one">
                                  <div class="col-a col-b cd-b">
                                    <div>
                                      <div class="">
                                        <div class="c-row one width-100">
                                          <div class="name cart-flex">
                                            <span style="font-weight: 400;">Product</span>
                                          </div>
                                          <div class="quantity">Qty</div>
                                          <div *ngIf="catalog_details.showPrice" class="price rupee-font">Price</div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="list-content" style="text-align: left;"
                                *ngFor="let item of cartDetails.orderItems; let i = index">
                                <div class="copy one">
                                  <div class="col-a col-b cd-b">
                                    <div class="mgn-up-10">
                                      <div class="">
                                        <div class="c-row one width-100">
                                          <div class="name cart-flex">
                                            <i class="fa fa-stop-circle"></i>
                                            <span class="item-name">{{item.name}}</span>
                                          </div>
                                          <div class="quantity item-qty">{{item.quantity}}</div>
                                          <div *ngIf="catalog_details.showPrice" class="price rupee-font">
                                            {{item.totalPrice | currency:'&#8377;'}}</div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="snd_msg_outer">
                                <textarea placeholder="Any notes? Write here..." class="txtArea"
                                  [(ngModel)]="orderNote"></textarea>
                              </div>
                              <div class="order-label"
                                *ngIf="(s3CouponsList.JC.length > 0 ||s3CouponsList.OWN.length > 0)">
                                <a (click)="applyPromocode()" *ngIf="selected_coupons.length === 0">Apply Promo Code</a>
                                <a *ngIf="selected_coupons.length > 0" (click)="applyPromocode()">Promo code
                                  {{selected_coupons.toString()}} added.</a>
                              </div>
                              <div *ngIf="selected_coupons.length > 0" style="text-align: initial;">
                                <div *ngFor="let coupon of cartDetails.jCouponList | keyvalue">
                                  <small class="black" *ngIf="coupon.value.value === '0.0'">{{coupon.key}} will be
                                    honored if all the rules are met </small>&nbsp;<small
                                    *ngIf="coupon.value.value === '0.0'" class="blue custId-cursor"
                                    (click)="showJCCouponNote(coupon)" aria-hidden="true">Know more</small>
                                </div>
                                <div *ngFor="let coupon of cartDetails.proCouponList | keyvalue">
                                  <small class="black" *ngIf="coupon.value.value === '0.0'">{{coupon.key}} will be
                                    honored if all the rules are met </small>&nbsp;<small
                                    *ngIf="coupon.value.value === '0.0'" class="blue custId-cursor"
                                    (click)="showJCCouponNote(coupon)" aria-hidden="true">Know more</small>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="" *ngIf="catalog_details.showPrice">
                            <div class="bill-details-txt">
                              Bill Details
                            </div>
                            <div class="amount-table">
                              <div class="">
                                <div class="disp-flex width-100 amount-details">
                                  <div class="bill-labels">Item Total</div>
                                  <div class="price rupee-font"> {{cartDetails.itemTotal | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.taxAmount">
                                  <div class="bill-labels">Total Tax </div>
                                  <div class="price rupee-font">{{cartDetails.taxAmount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details"
                                  *ngIf="cartDetails.jaldeeCouponDiscount">
                                  <div class="bill-labels">Coupon Discount<span
                                      *ngIf="couponlist.length > 0">({{couponlist}})</span></div>
                                  <div class="price rupee-font">
                                    {{cartDetails.jaldeeCouponDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details"
                                  *ngIf="cartDetails.providerCouponDiscount">
                                  <div class="bill-labels">Provider Discount <span
                                      *ngIf="pcouponlist.length > 0">({{pcouponlist}})</span></div>
                                  <div class="price rupee-font">
                                    {{cartDetails.providerCouponDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.jdnDiscount">
                                  <div class="bill-labels">JDN Discount </div>
                                  <div class="price rupee-font">{{cartDetails.jdnDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.totalDiscount">
                                  <div class="bill-labels">Total Discount </div>
                                  <div class="price rupee-font">{{cartDetails.totalDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.deliveryCharge">
                                  <div class="bill-labels">Delivery Charges </div>
                                  <div class="price rupee-font">{{cartDetails.deliveryCharge | currency:'&#8377;'}}
                                  </div>
                                </div>
                                <div class="hr-line-pitch-blk mgn-up-20"></div>
                                <div class="disp-flex width-100 amount-details to-pay mgn-up-20">
                                  <div class="bill-labels">TO PAY</div>
                                  <div class="price rupee-font">{{cartDetails.netTotal| currency:'&#8377;'}}</div>
                                </div>
                                <span *ngIf="cartDetails.advanceAmount >0" style="font-size: small;color: red;"><i
                                    class="fa fa-info-circle " aria-hidden="true"></i>An advance of <span
                                    class="rupee-font">{{getAmountToPay(cartDetails) | currency:'&#8377;'}}
                                  </span>required</span><br>
                                  <span style="font-size: small;" *ngIf="convenientFee > 0">
                                    <span  class="ser_price no-mgn-bt rupee-font">Convenient Fee: {{convenientFee | currency:'&#8377;'}}</span>
                                </span><br>
                                <span style="font-size: small;" *ngIf="selected_payment_mode && isInternatonal === false && gatewayFee > 0">
                                    <span class="ser_price no-mgn-bt rupee-font">Gateway Fee: {{gatewayFee | currency:'&#8377;'}}</span>
                                </span>
                                <span style="font-size: small;" *ngIf="selected_payment_mode && isInternatonal === true && gatewayFee > 0">
                                    <span  class="ser_price no-mgn-bt rupee-font">Gateway Fee: {{gatewayFee | currency:'&#8377;'}}</span>
                                </span>
                                <div *ngIf="cartDetails.advanceAmount">
                                  <div *ngIf="jcashamount>0" class="jaldeecredit">
                                    <mat-checkbox [(ngModel)]="checkJcash" (change)='OnChangeJcash($event)'>
                                    </mat-checkbox>
                                    Use Jaldee cash balance : Rs{{jcashamount}}
                                  </div>
                                  <div *ngIf="jcashamount>0  && (checkJcash && jcashamount < cartDetails.advanceAmount)"
                                    class="hint">
                                    Balance amount can be paid by other payment methods
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="" *ngIf="!catalog_details.showPrice && orderType !== 'SHOPPINGLIST'">
                            <div class="bill-details-txt">
                            </div>
                            <div class="amount-table">
                              <div class="">
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.taxAmount">
                                  <div class="bill-labels">Total Tax </div>
                                  <div class="price rupee-font">{{cartDetails.taxAmount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details"
                                  *ngIf="cartDetails.jaldeeCouponDiscount">
                                  <div class="bill-labels">Coupon Discount <span
                                      *ngIf="couponlist.length > 0">({{couponlist}})</span></div>
                                  <div class="price rupee-font">
                                    {{cartDetails.jaldeeCouponDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details"
                                  *ngIf="cartDetails.providerCouponDiscount">
                                  <div class="bill-labels">Provider Discount <span
                                      *ngIf="pcouponlist.length > 0">({{pcouponlist}})</span></div>
                                  <div class="price rupee-font">
                                    {{cartDetails.providerCouponDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.jdnDiscount">
                                  <div class="bill-labels">JDN Discount </div>
                                  <div class="price rupee-font">{{cartDetails.jdnDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.totalDiscount">
                                  <div class="bill-labels">Total Discount </div>
                                  <div class="price rupee-font">{{cartDetails.totalDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.deliveryCharge">
                                  <div class="bill-labels">Delivery Charges </div>
                                  <div class="price rupee-font">{{cartDetails.deliveryCharge | currency:'&#8377;'}}
                                  </div>
                                </div>
                                <div class="hr-line-pitch-blk mgn-up-20"></div>
                                <span *ngIf="cartDetails.advanceAmount" style="font-size: small;color: red;"><i
                                    class="fa fa-info-circle " aria-hidden="true"></i>An advance of <span
                                    class="rupee-font">{{cartDetails.advanceAmount | currency:'&#8377;'}}
                                  </span>required</span>
                                <div *ngIf="cartDetails.advanceAmount">
                                  <div *ngIf="jcashamount>0">
                                    <mat-checkbox [(ngModel)]="checkJcash"></mat-checkbox>
                                    Use Jaldee cash balance : Rs{{jcashamount}}
                                  </div>
                                  <div *ngIf="jcashamount>0  && (checkJcash && jcashamount < cartDetails.advanceAmount)"
                                    class="hint">
                                    Balance amount can be paid by other payment methods
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="paymentdiv no-padding"
                        *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                        <p class="jaldeecredit">
                          To pay Rs {{checkJcash ? totalamountPay : cartDetails.advanceAmount}} please select any
                          payment options
                        </p>
                        <div *ngIf=" ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))"
                          class="payment-mode-card-styles">
                          <ng-container *ngIf="!shownonIndianModes">
                            <app-payment-modes [paymentModes]="indian_payment_modes"
                              (modeSelected)="indian_payment_mode_onchange($event)">
                            </app-payment-modes>
                          </ng-container>
                          <ng-container *ngIf="shownonIndianModes">
                            <app-payment-modes [paymentModes]="non_indian_modes"
                              (modeSelected)="non_indian_modes_onchange($event)">
                            </app-payment-modes>
                          </ng-container>
                          <div class="clearfix"></div>
                        </div>
                      </div>
                      <div class="txt-align-center mgn-up-10"
                        *ngIf="paymentmodes.internationalPay  && cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                        <span (click)="togglepaymentMode()" class="pointer-cursor"><a class="refund_policy">
                            <span *ngIf="!shownonIndianModes && paymentmodes.internationalPay">Non Indian Payment ? Click
                              here</span>
                            <span *ngIf="shownonIndianModes && paymentmodes.indiaPay">Indian Payment ? Click
                              here</span>
                          </a></span>
                      </div>
                      <div class="txt-align-center mgn-up-10">
                        <button type="button" class=" next-button btn btn-primary font-weight-bold text-uppercase "
                          [class.disabled]="isClickedOnce"
                          *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))"
                          (click)="!isClickedOnce && confirm()">
                          Make Payment
                        </button>
                        <!-- <div>hh</div> -->
                        
                      </div>
                      <div class="cancelpolicy mgn-rt-5 txt-align-center mgn-up-10" >
                        <!-- *ngIf="paymentDetails && paymentDetails.amountRequiredNow > 0" -->
                      <div class="pad_policy" *ngIf="cartDetails.advanceAmount > 0">
                        <!-- *ngIf="paymentLength>0 && paymentDetails && paymentDetails.amountRequiredNow > 0" -->
                          <a data-toggle="modal" data-target="#exampleModal"
                              class="refund_policy">Cancellation Policy</a>
                      </div>
                  </div>
                  <!-- modalbox -->
                  <div class="modal fade" id="exampleModal" tabindex="-1"
                  role="dialog" aria-labelledby="exampleModalLabel"
                  aria-hidden="true">
                  <app-refundpolicy></app-refundpolicy>
              </div>
                     
                      <br>
                      <div
                        *ngIf="cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount > cartDetails.advanceAmount) || (checkJcash && jcashamount == cartDetails.advanceAmount))">
                        <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                          [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp; →
                        </button>
                      </div>
                      <div *ngIf="cartDetails.advanceAmount == 0 || !cartDetails.advanceAmount">
                        <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                          [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp; →
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="image_list_popup && this.orderType === 'SHOPPINGLIST'">
                  <ul class="shoppinglist-gal">
                    <ng-container *ngFor="let file of image_list_popup;let i = index">
                      <li *ngIf="i<2" class="shoppinglist-li">
                        <div class="shoppinglistbx">
                          <div class="shoppinglistimg-h" (click)="openImageModalRow(file)">
                            <div class="shoppinglistoverlay-y"></div><img class="shoppinglistimg" [src]="file.modal.img"
                              *ngIf="file.modal.img" />
                          </div>
                        </div>
                      </li>
                    </ng-container>
                    <li *ngIf="image_list_popup.length>2" class="shoppinglist-li">
                      <div class="shoppinglistbx">
                        <span class="shoppinglistmre" (click)="openImageModalRow(image_list_popup[2])"
                          *ngIf="(image_list_popup.length-3)>0">+{{(image_list_popup.length-3)}}</span>
                        <div class="shoppinglistimg-h" *ngIf="(image_list_popup.length-3)>0"><img
                            class="shoppinglistimg" *ngIf="image_list_popup[2].modal.img"
                            [src]="image_list_popup[2].modal.img" /></div>
                        <div class="shoppinglistimg-h" (click)="openImageModalRow(image_list_popup[2])"
                          *ngIf="(image_list_popup.length-3)==0">
                          <div class="shoppinglistoverlay-y"></div><img class="shoppinglistimg"
                            *ngIf="image_list_popup[2].modal.img" [src]="image_list_popup[2].modal.img" />
                        </div>
                      </div>
                    </li>
                  </ul>
                  <a class="pointerlist" (click)="editshoppinglist()">Update</a>
                  <div class="snd_msg_outer">
                    <textarea placeholder="Any notes? Write here..." class="txtArea"
                      [(ngModel)]="orderlistNote"></textarea>
                  </div>
                  <div class="order-label mgn-up-10 mgn-bt-10" *ngIf="(s3CouponsList.JC.length > 0 ||s3CouponsList.OWN.length > 0)"><a
                      (click)="applyPromocode()" *ngIf="selected_coupons.length === 0">Apply Promo Code</a>
                    <a *ngIf="selected_coupons.length > 0" (click)="applyPromocode()">
                      Promo code {{selected_coupons.toString()}} added,will be applicable in the final bill. <br>
                      <u>Add more</u></a>
                  </div>
                  <span class="form-level-settings"
                    *ngIf="choose_type === 'home' && catalog_details.homeDelivery.deliveryCharge"> Delivery charge
                    &#x20B9;{{getDeliveryCharges()}} will added to the bill.</span>
                  <ks-modal-gallery [id]="0" [modalImages]="image_list_popup"
                    [plainGalleryConfig]="customPlainGalleryRowConfig" [buttonsConfig]="customButtonsFontAwesomeConfig"
                    (buttonBeforeHook)="onButtonBeforeHook($event)" (buttonAfterHook)="onButtonAfterHook()">
                  </ks-modal-gallery>
                  <div>
                    <span *ngIf="cartDetails.advanceAmount >0" style="font-size: small;color: red;"><i
                        class="fa fa-info-circle " aria-hidden="true"></i>An advance of <span
                        class="rupee-font">{{getAmountToPay(catalog_details) | currency:'&#8377;'}}
                      </span>required</span>
                  </div>
                  <div *ngIf="jcashamount>0" class="jaldeecredit">
                    <mat-checkbox [(ngModel)]="checkJcash"></mat-checkbox>
                    Use Jaldee cash balance : Rs{{jcashamount}}
                  </div>
                  <div *ngIf="jcashamount>0  && (checkJcash && jcashamount < cartDetails.advanceAmount)" class="hint">
                    Balance amount can be paid by other payment methods
                  </div>
                  <div class="paymentdiv"
                    *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                    <p class="jaldeecredit">
                      To pay Rs {{checkJcash ? totalamountPay : cartDetails.advanceAmount}} please select any payment
                      options
                    </p>
                  </div>
                  <div class="clearfix"></div>
                  <ng-container
                    *ngIf="!shownonIndianModes && ((checkJcash && jcashamount < cartDetails.advanceAmount)) ">                  
                      <app-payment-modes [paymentModes]="indian_payment_modes"
                          (modeSelected)="indian_payment_mode_onchange($event)">
                      </app-payment-modes>
                  </ng-container>
                  <ng-container *ngIf="shownonIndianModes && ((checkJcash && jcashamount < cartDetails.advanceAmount))">
                      <app-payment-modes [paymentModes]="non_indian_modes"
                          (modeSelected)="non_indian_modes_onchange($event)">
                      </app-payment-modes>
                  </ng-container>
                    
                    <!-- <div *ngFor="let modes of indian_payment_modes">
                      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <div class="text-primary payment-mode-card-styles">
                          <mat-radio-group class="paymentmode card shadow-lg" name="paymentMode"
                            (change)="indian_payment_mode_onchange($event)" labelPosition="before">
                            <mat-radio-button [value]="modes.mode">
                              <div class="d-flex justify-content-sm-around">
                                <div class="col-md-6 col-lg-6 my-auto"><span
                                    style="font-size: 10px;">{{modes.modeDisplayName}}</span></div>
                                <div class="col-md-6 col-lg-6 my-auto"><img class="ordericon pickup pic_size"
                                    [src]="getImageSrc(modes.mode)"></div>
                              </div>
                            </mat-radio-button>
                          </mat-radio-group>
                        </div>
                      </div>
                    </div> -->
                  
                  <!-- <ng-container >
                    <div *ngFor="let modes of non_indian_modes">
                      <div class="col-xs-12 col-sm-6 col-md-12 col-lg-12">
                        <div class="text-primary payment-mode-card-styles">
                          <mat-radio-group class="paymentmode card shadow-lg" name="paymentMode"
                            (change)="non_indian_modes_onchange($event)">
                            <mat-radio-button [value]="modes.mode">
                              <div class="d-flex justify-content-around">
                                <div class="col-md-6 col-lg-6 my-auto"><span
                                    style="font-size: 10px;">{{modes.modeDisplayName}}</span></div>
                                <div class="col-md-6 col-lg-6 my-auto"><img class="ordericon pickup pic_size"
                                    [src]="getImageSrc(modes.mode)"></div>
                              </div>
                            </mat-radio-button>
                          </mat-radio-group>
                        </div>
                      </div>
                    </div>
                  </ng-container> -->
                  <div class="clearfix"></div>
                  <div class="txt-align-center mgn-up-20"
                    *ngIf="paymentmodes && paymentmodes.internationalPay  && cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                    <span (click)="togglepaymentMode()" class="pointer-cursor"><a class="refund_policy">
                        <span *ngIf="!shownonIndianModes && paymentmodes && paymentmodes.internationalPay">Non Indian Payment ? Click
                          here</span>
                        <span *ngIf="shownonIndianModes && paymentmodes && paymentmodes.indiaPay">Indian Payment ? Click
                          here</span>
                      </a></span>
                  </div>
                  <div class="txt-align-center mgn-up-10">                    
                    <button type="button" class=" next-button btn btn-primary font-weight-bold text-uppercase "
                      [class.disabled]="isClickedOnce"
                      *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))"
                      (click)="!isClickedOnce && confirm()">
                      MaKe Payment
                    </button>
                  
                  </div>
                  <br>
                  <div
                    *ngIf="selectedImagelist.files.length > 0 && cartDetails.advanceAmount > 0 &&  ((checkJcash && jcashamount > cartDetails.advanceAmount) || (checkJcash && jcashamount == cartDetails.advanceAmount))">
                    <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                      [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp; →
                    </button>
                  </div>
                  <div
                    *ngIf="selectedImagelist.files.length > 0 && (cartDetails.advanceAmount == 0 || !cartDetails.advanceAmount)">
                    <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                      [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp; →
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="panel-body no-padding">
              <div class="col-md-12 col-xs-12 col-sm-12 no-padding">
                <div class="card p0">
                  <div class="copy locd">
                    <div class="lbl col-md-12 col-lg-12 col-xs-12 col-sm-12 no-padding notes"
                      *ngIf="action=='timeChange'">
                      <div class="col-md-12 col-xs-12 col-sm-12 mgn-lt-10">
                        <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-bt-5 mgn-up-10">
                          Choose
                          Date</div>
                        <div class="pull-left brd-round brd-light mgn-up-20">
                          <div class="icon-minus pull-left" (click)="calculateDate(-1)">
                          </div>
                          <div class="pull-left chkindt">{{sel_checkindate | date: dateFormat}}</div>
                          <div class="icon-add pull-left" (click)="calculateDate(1)"></div>
                        </div>
                        <div class="pickerouter caldiv pull-left mgn-up-20">
                          <mat-datepicker-toggle matSuffix [for]="picker">
                          </mat-datepicker-toggle>
                          <mat-datepicker #picker [dateClass]="dateClass.bind(this)"></mat-datepicker>
                          <input class="" style="visibility: hidden; width:1px" type="text" [matDatepicker]="picker"
                            [min]="minDate" [max]="maxDate" [value]="ddate"
                            (dateChange)="handleFutureDateChange($event)">
                        </div>
                      </div>
                      <div class="col-md-12 col-xs-12 col-sm-12 mgn-lt-10">
                        <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-up-20 mgn-bt-20"
                          *ngIf="delivery_type === 'home'">Delivery
                          Timings </div>
                        <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-up-20 mgn-bt-20"
                          *ngIf="delivery_type === 'store'"> Store Pickup
                          Timings </div>
                        <div class="col-md-12 col-xs-12 col-sm-12 slotdiv no-padding mgn-up-20">
                          <div class="col-md-6 col-xs-12 col-sm-8 form-group" *ngIf="isfutureAvailableTime">
                            <mat-chip-list class="">
                              <mat-chip *ngFor="let queue of nextAvailableTimeQueue, let i= index"
                                (click)="handleQueueSelection(queue, i)">
                                {{queue['sTime'] + ' - ' +
                                queue['eTime']}}
                              </mat-chip>
                            </mat-chip-list>
                          </div>
                          <div *ngIf="!isfutureAvailableTime">
                            <p>No timings are available</p>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-12 col-xs-12 col-sm-12 mgn-bt-20 mgn-up-20 mgn-lt-5">
                        <button (click)="goBackToCheckout(futureAvailableTime ,queue)"
                          [disabled]="!isfutureAvailableTime" class="btn bt3 btn-default coupon-apply-btn"
                          type="button">Ok</button>
                      </div>
                    </div>
                    <div class="lbl col-md-12 col-lg-12 col-xs-12 col-sm-12 no-padding notes" *ngIf="action=='coupons'">
                      <div class="col-md-12 col-xs-12 col-sm-12 lnk mgn-up-20">Apply promocode</div>
                      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 mgn-up-20">
                        <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding" *ngIf="showCouponWB">
                          <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 form-level-settings applybill no-padding">
                            <i class="icon-bell"></i>{{applied_inbilltime}}
                          </div>
                          <div class="col-md-4 col-lg-3 col-sm-6 col-xs-8 no-padding">
                            <div class="input-group">
                              <input [ngClass]="{'invalid':!couponvalid}" (keydown)="clearCouponErrors()"
                                placeholder="Enter coupon code" type="text" class="form-control"
                                [(ngModel)]="selected_coupon">
                              <span class="input-group-btn">
                                <button class="btn bt3 btn-default coupon-apply-btn"
                                  (click)="applyCoupons(selected_coupon)" type="button">Add</button>
                              </span>
                            </div>
                          </div>
                          <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding" style="color: red;"
                            *ngIf="api_cp_error !== null">
                            {{api_cp_error}}</div>
                          <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 no-padding mgn-up-10 mgn-bt-20">
                          </div>
                        </div>
                        <div class="col-md-12 col-sm-12 col-lg-12 col-12 mgn-up-20 mgn-bt-30 border-tp pad-up-10"
                          *ngIf="couponsList && couponsList.length>0">
                          <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding"
                            *ngFor="let coupon of couponsList let i=index">
                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding coupon-add-msg">
                              <div class="col-md-5 col-sm-7 col-xs-7 col-lg-4 no-padding">
                                {{coupon.couponCode}} </div>
                              <div class="col-md-7 col-sm-5 col-xs-5 col-lg-8 delteTC">
                                <span><a *ngIf="coupon.instructions" (click)="toggleterms(i)"
                                    class="pointer-cursor lnk read-more-checkin">Read
                                    T & C </a></span>
                                <span><a class="pointer-cursor lnk"><i class="pointer-cursor icon-delete mgn-lt-10 lnk"
                                      (click)="removeJCoupon(i)" [matTooltipClass]="tooltipcls"
                                      [matTooltip]="'Remove Coupon'"></i></a></span>
                              </div>
                            </div>
                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 mgn-up-10 pre-instr no-padding"
                              *ngIf="coupon.showme">
                              {{coupon.instructions}}
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 coupon-outer" *ngIf="coupon_status">
                        <div class="form-group">
                          <span *ngIf="coupon_status=='success'" class="coupon_success">Coupon Code(s)
                            applied
                            successfully</span>
                          <span *ngIf="coupon_status=='error'" class="coupon-error">Coupon Code(s) not
                            valid</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="clearfix"></div>
  </div>
</section>












<section #consumer_order class="container no-padding cons-donate no-padding-small order-checkout" *ngIf="source=='paper'">
  <div [ngClass]="{'loadingpaytm': loadingPaytm}"></div>
  <div class="content p0 loc-list p-checkin ynw-common-form-nm">
    <div class="panel panel-default">
      <div class="panel-heading col-xs-12 col-sm-12 co-md-12 col-lg-12 no-padding top-row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 no-padding">
          <app-header *ngIf="sharedFunctionobj.checkLogin()"></app-header>
        </div>
      </div>
      <div class="panel-body no-padding">
        <div class="c-outer m0">
          <div class="c-body width-100">
            <div *ngIf="loadingPaytm">
              <app-common-innerloading-spinner></app-common-innerloading-spinner>
            </div>
            <div class="card" *ngIf="loading">
              <app-common-innerloading-spinner> </app-common-innerloading-spinner>
            </div>
            <div class="card">
              <div class="d-flex justify-content-between">
                <div class="">
                  <img src="assets/images/authordemy/logo.png" alt="Authordemy" width="100px" height="70px">
                </div>
                <div class="d-flex pt-3">
                  <div class="mr-2">
                    <a class="btn btn-dark"><i class="fa fa-volume-control-phone" aria-hidden="true"></i><span
                        class="desktop-only">&nbsp;&nbsp;Contact Us</span></a>
                  </div>
                  <div class="dropdown">
                    <a class="btn btn-warning dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <img src="assets/images/authordemy/person.png" class="person-img" alt="Person" width="25px" height="25px">
                      <span class="desktop-only">&nbsp;&nbsp;Krishnadas Ps</span>&nbsp;<i class="fa fa-angle-down"></i>
                    </a>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                      <a class="dropdown-item" href="#">Action</a>
                      <a class="dropdown-item" href="#">Another action</a>
                      <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            
            <div class="lbl col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 bg-grey no-padding-small no-padding"
              *ngIf="action=='' &&!loading && bookStep!='Step 3'">

              <div class="card col-md-12 no-padding-small">
                <div class="container">
                  <span class="back-btn pointer-cursor" (click)="goBack()"><i class="fa fa-arrow-left"
                      aria-hidden="true"></i>&nbsp;Back</span>
                </div>
                <div *ngIf="qnr" class="mt-5">
                    <h3 class="text-gold font-weight-bold">
                      Submit a Paper
                    </h3>
                  <div>
                    <app-questionnaire [questionnaireList]="questionnaireList" [source]="'consOrder'"
                      [questionAnswers]="questionAnswers" [accountId]="account_id"
                      (returnAnswers)="getQuestionAnswers($event)"></app-questionnaire>
                  </div>
                  <div class="text-right" *ngIf="bookStep=='qnr'">
                    <button class="nxt-btn" mat-flat-button (click)="validateQuestionnaire()">Save & Next</button>
                  </div>
                </div>
              </div>
            </div>




            <div class="lbl col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 no-padding-small no-padding bg-grey" *ngIf="action=='' && bookStep=='Step 3'">
              <!-- Side bar contact -->
              <div class="contact-outer">
                <aside *ngIf="showSide" class="side_nav">
                  <h4>Store Contact <i (click)="closeNav()" class="fa fa-times-circle fl-right"></i></h4>
                  <div class="addrs">
                    <span>{{storeContactNw.firstName}}&nbsp;{{storeContactNw.lastName}}</span>
                    <span *ngIf="storeContactNw.address">
                      <i class="fa fa-address-card-o" aria-hidden="true"></i> {{storeContactNw.address}}
                    </span>
                    <span><i class="fa fa-phone mgn-rt-6"></i>{{storeContactNw.primCountryCode}}
                      {{storeContactNw.phone}}</span>
                    <span *ngIf="storeContactNw.alternatePhone"><i
                        class="fa fa-phone mgn-rt-6"></i>{{storeContactNw.secCountryCode}}
                      {{storeContactNw.alternatePhone}}</span>
                    <span [matTooltip]="storeContactNw.email" *ngIf="storeContactNw.email" class="wrap"><i
                        class="fa fa-envelope mgn-rt-6"></i>{{storeContactNw.email}}</span>
                    <span *ngIf="storeContactNw.alternateEmail" class="content_wrap"><i
                        class="fa fa-envelope mgn-rt-6"></i>{{storeContactNw.alternateEmail}}</span>
                    <span *ngIf="storeContactNw.whatsappNo"><i
                        class="fa wtsapaud-icon mgn-rt-6"></i>{{storeContactNw.whatsAppCountryCode}}
                      {{storeContactNw.whatsappNo}}</span>
                  </div>
                </aside>
              </div>
              <div class="card" *ngIf="loading">
                <app-common-innerloading-spinner> </app-common-innerloading-spinner>
              </div>
              <div [class.opacty]="showSide" class="card" *ngIf="!loading">
                <!-- <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 disp-flex">
                  <div *ngIf="businessDetails && businessDetails.logo">
                    <div class="prov-dp" [ngStyle]="{ 'background-image': 'url(' + businessDetails.logo + ')'}"></div>
                  </div>
                  <div class="prov-name">
                    <div class="prov-name-txt">
                      {{businessDetails.bname}}
                    </div>
                    <div class="prov-loc">
                      {{businessDetails.blocation}}
                    </div>
                    <div class="prov-loc store-cntct" (click)="sidebar()">
                      <i class="fa fa-home store_ico"></i>Store Contact
                    </div>
                  </div>
                </div> -->
                <div class="mt-2 form-card col-md-12 col-lg-12 col-sm-12 col-xs-12 no-padding">
                  <div class="container">
                    <span class="back-btn pointer-cursor" (click)="goBack()"><i class="fa fa-arrow-left"
                        aria-hidden="true"></i>&nbsp;Back</span>
                  </div>
                  <h3 class="text-gold font-weight-bold">
                    Submit a Paper
                  </h3>
                  <h5>Payment Instructions</h5>
                  <p>
                    Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
                    industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and
                    scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into
                    electronic typesetting, remaining essentially unchanged.
                  </p>
                  <span class="text-primary my-2 font-weight-bold">Total Payment: ₹{{cartDetails.itemTotal}}</span>
                  <br>
                  <form>
                    <div class="form-check text-success d-flex">
                      <section class="example-section">
                        <mat-checkbox class="example-margin" (click)="terms_check()"><label>
                          &nbsp;&nbsp;I have read and understood all the instructions
                        </label>
                      </mat-checkbox>
                      </section>
                    </div>
                  </form>
                  <br>
                </div>
<!-- 
                <span class="mgn-up-20" *ngIf="!image_list_popup && this.orderType === 'SHOPPINGLIST'"
                  (click)="uploadShoppingList()">
                  <a class="uploadshoppinglist-btn">Upload Shopping List</a>
                </span> -->
                <div class="bill-section" *ngIf="this.orderType !== 'SHOPPINGLIST'">
                  <div class="bill-section-content">
                    <div class="bill-wrapper ">
                      <div class="bill-content">
                        <div class="section-three">
                          <!-- <div class="bill-breakup">
                            <div class="list border">
                              <div class="list-content head_labels">
                                <div class="copy one">
                                  <div class="col-a col-b cd-b">
                                    <div>
                                      <div class="">
                                        <div class="c-row one width-100">
                                          <div class="name cart-flex">
                                            <span style="font-weight: 400;">Product</span>
                                          </div>
                                          <div class="quantity">Qty</div>
                                          <div *ngIf="catalog_details.showPrice" class="price rupee-font">Price</div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="list-content" style="text-align: left;"
                                *ngFor="let item of cartDetails.orderItems; let i = index">
                                <div class="copy one">
                                  <div class="col-a col-b cd-b">
                                    <div class="mgn-up-10">
                                      <div class="">
                                        <div class="c-row one width-100">
                                          <div class="name cart-flex">
                                            <i class="fa fa-stop-circle"></i>
                                            <span class="item-name">{{item.name}}</span>
                                          </div>
                                          <div class="quantity item-qty">{{item.quantity}}</div>
                                          <div *ngIf="catalog_details.showPrice" class="price rupee-font">
                                            {{item.totalPrice | currency:'&#8377;'}}</div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="snd_msg_outer">
                                <textarea placeholder="Any notes? Write here..." class="txtArea"
                                  [(ngModel)]="orderNote"></textarea>
                              </div>
                              <div class="order-label"
                                *ngIf="(s3CouponsList.JC.length > 0 ||s3CouponsList.OWN.length > 0)">
                                <a (click)="applyPromocode()" *ngIf="selected_coupons.length === 0">Apply Promo Code</a>
                                <a *ngIf="selected_coupons.length > 0" (click)="applyPromocode()">Promo code
                                  {{selected_coupons.toString()}} added.</a>
                              </div>
                              <div *ngIf="selected_coupons.length > 0" style="text-align: initial;">
                                <div *ngFor="let coupon of cartDetails.jCouponList | keyvalue">
                                  <small class="black" *ngIf="coupon.value.value === '0.0'">{{coupon.key}} will be
                                    honored if all the rules are met </small>&nbsp;<small
                                    *ngIf="coupon.value.value === '0.0'" class="blue custId-cursor"
                                    (click)="showJCCouponNote(coupon)" aria-hidden="true">Know more</small>
                                </div>
                                <div *ngFor="let coupon of cartDetails.proCouponList | keyvalue">
                                  <small class="black" *ngIf="coupon.value.value === '0.0'">{{coupon.key}} will be
                                    honored if all the rules are met </small>&nbsp;<small
                                    *ngIf="coupon.value.value === '0.0'" class="blue custId-cursor"
                                    (click)="showJCCouponNote(coupon)" aria-hidden="true">Know more</small>
                                </div>
                              </div>
                            </div>
                          </div> -->
                          <!-- <div class="" *ngIf="catalog_details.showPrice">
                            <div class="bill-details-txt">
                              Bill Details
                            </div>
                            <div class="amount-table">
                              <div class="">
                                <div class="disp-flex width-100 amount-details to-pay mgn-up-20">
                                  <div class="bill-labels">TO PAY</div>
                                  <div class="price rupee-font">{{cartDetails.netTotal| currency:'&#8377;'}}</div>
                                </div>
                                <span *ngIf="cartDetails.advanceAmount >0" style="font-size: small;color: red;"><i
                                    class="fa fa-info-circle " aria-hidden="true"></i>An advance of <span
                                    class="rupee-font">{{getAmountToPay(cartDetails) | currency:'&#8377;'}}
                                  </span>required</span>
                                <div *ngIf="cartDetails.advanceAmount">
                                  <div *ngIf="jcashamount>0" class="jaldeecredit">
                                    <mat-checkbox [(ngModel)]="checkJcash" (change)='OnChangeJcash($event)'>
                                    </mat-checkbox>
                                    Use Jaldee cash balance : Rs{{jcashamount}}
                                  </div>
                                  <div *ngIf="jcashamount>0  && (checkJcash && jcashamount < cartDetails.advanceAmount)"
                                    class="hint">
                                    Balance amount can be paid by other payment methods
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div> -->
                          <!-- <div class="" *ngIf="!catalog_details.showPrice && orderType !== 'SHOPPINGLIST'">
                            <div class="bill-details-txt">
                            </div>
                            <div class="amount-table">
                              <div class="">
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.taxAmount">
                                  <div class="bill-labels">Total Tax </div>
                                  <div class="price rupee-font">{{cartDetails.taxAmount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details"
                                  *ngIf="cartDetails.jaldeeCouponDiscount">
                                  <div class="bill-labels">Coupon Discount <span
                                      *ngIf="couponlist.length > 0">({{couponlist}})</span></div>
                                  <div class="price rupee-font">
                                    {{cartDetails.jaldeeCouponDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details"
                                  *ngIf="cartDetails.providerCouponDiscount">
                                  <div class="bill-labels">Provider Discount <span
                                      *ngIf="pcouponlist.length > 0">({{pcouponlist}})</span></div>
                                  <div class="price rupee-font">
                                    {{cartDetails.providerCouponDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.jdnDiscount">
                                  <div class="bill-labels">JDN Discount </div>
                                  <div class="price rupee-font">{{cartDetails.jdnDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.totalDiscount">
                                  <div class="bill-labels">Total Discount </div>
                                  <div class="price rupee-font">{{cartDetails.totalDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.deliveryCharge">
                                  <div class="bill-labels">Delivery Charges </div>
                                  <div class="price rupee-font">{{cartDetails.deliveryCharge | currency:'&#8377;'}}
                                  </div>
                                </div>
                                <div class="hr-line-pitch-blk mgn-up-20"></div>
                                <span *ngIf="cartDetails.advanceAmount" style="font-size: small;color: red;"><i
                                    class="fa fa-info-circle " aria-hidden="true"></i>An advance of <span
                                    class="rupee-font">{{cartDetails.advanceAmount | currency:'&#8377;'}}
                                  </span>required</span>
                                <div *ngIf="cartDetails.advanceAmount">


                                  <div *ngIf="jcashamount>0">
                                    <mat-checkbox [(ngModel)]="checkJcash"></mat-checkbox>
                                    Use Jaldee cash balance : Rs{{jcashamount}}
                                  </div>
                                  <div *ngIf="jcashamount>0  && (checkJcash && jcashamount < cartDetails.advanceAmount)"
                                    class="hint">
                                    Balance amount can be paid by other payment methods
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div> -->
                        </div>
                      </div>
                      <div class="paymentdiv no-padding"
                        *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                        <!-- <p class="jaldeecredit">
                          To pay Rs {{checkJcash ? totalamountPay : cartDetails.advanceAmount}} please select any
                          payment options
                        </p> -->
                        <div *ngIf=" ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))"
                          class="payment-mode-card-styles">
                          <ng-container *ngIf="!shownonIndianModes">
                            <app-payment-modes [paymentModes]="indian_payment_modes"
                              (modeSelected)="indian_payment_mode_onchange($event)">
                            </app-payment-modes>
                          </ng-container>
                          <ng-container *ngIf="shownonIndianModes">
                            <app-payment-modes [paymentModes]="non_indian_modes"
                              (modeSelected)="non_indian_modes_onchange($event)">
                            </app-payment-modes>
                          </ng-container>
                          <div class="clearfix"></div>
                        </div>
                      </div>
                      <div class="txt-align-center mgn-up-10"
                        *ngIf="paymentmodes.internationalPay  && cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                        <span (click)="togglepaymentMode()" class="pointer-cursor"><a class="refund_policy">
                            <span *ngIf="!shownonIndianModes && paymentmodes.internationalPay">Non Indian Payment ?
                              Click
                              here</span>
                            <span *ngIf="shownonIndianModes && paymentmodes.indiaPay">Indian Payment ? Click
                              here</span>
                          </a></span>
                      </div>
                      <div class="txt-align-center mgn-up-10">
                        <button type="button" class=" next-button btn btn-primary font-weight-bold text-uppercase "
                          [class.disabled]="isClickedOnce" [disabled]="!termscheck"
                          *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))"
                          (click)="!isClickedOnce && confirm()">
                          Make Payment
                        </button>
                        <!-- <div>hh</div> -->

                      </div>
                      <div class="cancelpolicy mgn-rt-5 txt-align-center mgn-up-10">
                        <!-- *ngIf="paymentDetails && paymentDetails.amountRequiredNow > 0" -->
                        <div class="pad_policy" *ngIf="cartDetails.advanceAmount > 0">
                          <!-- *ngIf="paymentLength>0 && paymentDetails && paymentDetails.amountRequiredNow > 0" -->
                          <a data-toggle="modal" data-target="#exampleModal" class="refund_policy">Cancellation
                            Policy</a>
                        </div>
                      </div>
                      <!-- modalbox -->
                      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <app-refundpolicy></app-refundpolicy>
                      </div>

                      <br>
                      <div
                        *ngIf="cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount > cartDetails.advanceAmount) || (checkJcash && jcashamount == cartDetails.advanceAmount))">
                        <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                          [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp; →
                        </button>
                      </div>
                      <div *ngIf="cartDetails.advanceAmount == 0 || !cartDetails.advanceAmount">
                        <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                          [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp; →
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="image_list_popup && this.orderType === 'SHOPPINGLIST'">
                  <ul class="shoppinglist-gal">
                    <ng-container *ngFor="let file of image_list_popup;let i = index">
                      <li *ngIf="i<2" class="shoppinglist-li">
                        <div class="shoppinglistbx">
                          <div class="shoppinglistimg-h" (click)="openImageModalRow(file)">
                            <div class="shoppinglistoverlay-y"></div><img class="shoppinglistimg" [src]="file.modal.img"
                              *ngIf="file.modal.img" />
                          </div>
                        </div>
                      </li>
                    </ng-container>
                    <li *ngIf="image_list_popup.length>2" class="shoppinglist-li">
                      <div class="shoppinglistbx">
                        <span class="shoppinglistmre" (click)="openImageModalRow(image_list_popup[2])"
                          *ngIf="(image_list_popup.length-3)>0">+{{(image_list_popup.length-3)}}</span>
                        <div class="shoppinglistimg-h" *ngIf="(image_list_popup.length-3)>0"><img
                            class="shoppinglistimg" *ngIf="image_list_popup[2].modal.img"
                            [src]="image_list_popup[2].modal.img" /></div>
                        <div class="shoppinglistimg-h" (click)="openImageModalRow(image_list_popup[2])"
                          *ngIf="(image_list_popup.length-3)==0">
                          <div class="shoppinglistoverlay-y"></div><img class="shoppinglistimg"
                            *ngIf="image_list_popup[2].modal.img" [src]="image_list_popup[2].modal.img" />
                        </div>
                      </div>
                    </li>
                  </ul>
                  <a class="pointerlist" (click)="editshoppinglist()">Update</a>
                  <div class="snd_msg_outer">
                    <textarea placeholder="Any notes? Write here..." class="txtArea"
                      [(ngModel)]="orderlistNote"></textarea>
                  </div>
                  <div class="order-label mgn-up-10 mgn-bt-10"
                    *ngIf="(s3CouponsList.JC.length > 0 ||s3CouponsList.OWN.length > 0)"><a (click)="applyPromocode()"
                      *ngIf="selected_coupons.length === 0">Apply Promo Code</a>
                    <a *ngIf="selected_coupons.length > 0" (click)="applyPromocode()">
                      Promo code {{selected_coupons.toString()}} added,will be applicable in the final bill. <br>
                      <u>Add more</u></a>
                  </div>
                  <span class="form-level-settings"
                    *ngIf="choose_type === 'home' && catalog_details.homeDelivery.deliveryCharge"> Delivery charge
                    &#x20B9;{{getDeliveryCharges()}} will added to the bill.</span>
                  <ks-modal-gallery [id]="0" [modalImages]="image_list_popup"
                    [plainGalleryConfig]="customPlainGalleryRowConfig" [buttonsConfig]="customButtonsFontAwesomeConfig"
                    (buttonBeforeHook)="onButtonBeforeHook($event)" (buttonAfterHook)="onButtonAfterHook()">
                  </ks-modal-gallery>
                  <div>
                    <span *ngIf="cartDetails.advanceAmount >0" style="font-size: small;color: red;"><i
                        class="fa fa-info-circle " aria-hidden="true"></i>An advance of <span
                        class="rupee-font">{{getAmountToPay(catalog_details) | currency:'&#8377;'}}
                      </span>required</span>
                  </div>
                  <div *ngIf="jcashamount>0" class="jaldeecredit">
                    <mat-checkbox [(ngModel)]="checkJcash"></mat-checkbox>
                    Use Jaldee cash balance : Rs{{jcashamount}}
                  </div>
                  <div *ngIf="jcashamount>0  && (checkJcash && jcashamount < cartDetails.advanceAmount)" class="hint">
                    Balance amount can be paid by other payment methods
                  </div>
                  <div class="paymentdiv"
                    *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                    <p class="jaldeecredit">
                      To pay Rs {{checkJcash ? totalamountPay : cartDetails.advanceAmount}} please select any payment
                      options
                    </p>
                  </div>
                  <div class="clearfix"></div>
                  <ng-container
                    *ngIf="!shownonIndianModes && ((checkJcash && jcashamount < cartDetails.advanceAmount)) ">
                    <app-payment-modes [paymentModes]="indian_payment_modes"
                      (modeSelected)="indian_payment_mode_onchange($event)">
                    </app-payment-modes>
                  </ng-container>
                  <ng-container *ngIf="shownonIndianModes && ((checkJcash && jcashamount < cartDetails.advanceAmount))">
                    <app-payment-modes [paymentModes]="non_indian_modes"
                      (modeSelected)="non_indian_modes_onchange($event)">
                    </app-payment-modes>
                  </ng-container>

                  <!-- <div *ngFor="let modes of indian_payment_modes">
                      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <div class="text-primary payment-mode-card-styles">
                          <mat-radio-group class="paymentmode card shadow-lg" name="paymentMode"
                            (change)="indian_payment_mode_onchange($event)" labelPosition="before">
                            <mat-radio-button [value]="modes.mode">
                              <div class="d-flex justify-content-sm-around">
                                <div class="col-md-6 col-lg-6 my-auto"><span
                                    style="font-size: 10px;">{{modes.modeDisplayName}}</span></div>
                                <div class="col-md-6 col-lg-6 my-auto"><img class="ordericon pickup pic_size"
                                    [src]="getImageSrc(modes.mode)"></div>
                              </div>
                            </mat-radio-button>
                          </mat-radio-group>
                        </div>
                      </div>
                    </div> -->

                  <!-- <ng-container >
                    <div *ngFor="let modes of non_indian_modes">
                      <div class="col-xs-12 col-sm-6 col-md-12 col-lg-12">
                        <div class="text-primary payment-mode-card-styles">
                          <mat-radio-group class="paymentmode card shadow-lg" name="paymentMode"
                            (change)="non_indian_modes_onchange($event)">
                            <mat-radio-button [value]="modes.mode">
                              <div class="d-flex justify-content-around">
                                <div class="col-md-6 col-lg-6 my-auto"><span
                                    style="font-size: 10px;">{{modes.modeDisplayName}}</span></div>
                                <div class="col-md-6 col-lg-6 my-auto"><img class="ordericon pickup pic_size"
                                    [src]="getImageSrc(modes.mode)"></div>
                              </div>
                            </mat-radio-button>
                          </mat-radio-group>
                        </div>
                      </div>
                    </div>
                  </ng-container> -->
                  <div class="clearfix"></div>
                  <div class="txt-align-center mgn-up-20"
                    *ngIf="paymentmodes && paymentmodes.internationalPay  && cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                    <span (click)="togglepaymentMode()" class="pointer-cursor"><a class="refund_policy">
                        <span *ngIf="!shownonIndianModes && paymentmodes && paymentmodes.internationalPay">Non Indian
                          Payment ? Click
                          here</span>
                        <span *ngIf="shownonIndianModes && paymentmodes && paymentmodes.indiaPay">Indian Payment ? Click
                          here</span>
                      </a></span>
                  </div>
                  <div class="txt-align-center mgn-up-10">
                    <button type="button" class=" next-button btn btn-primary font-weight-bold text-uppercase "
                      [class.disabled]="isClickedOnce"
                      *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))"
                      (click)="!isClickedOnce && confirm()">
                      MaKe Payment
                    </button>

                  </div>
                  <br>
                  <div
                    *ngIf="selectedImagelist.files.length > 0 && cartDetails.advanceAmount > 0 &&  ((checkJcash && jcashamount > cartDetails.advanceAmount) || (checkJcash && jcashamount == cartDetails.advanceAmount))">
                    <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                      [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp; →
                    </button>
                  </div>
                  <div
                    *ngIf="selectedImagelist.files.length > 0 && (cartDetails.advanceAmount == 0 || !cartDetails.advanceAmount)">
                    <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                      [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp; →
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="panel-body no-padding">
              <div class="col-md-12 col-xs-12 col-sm-12 no-padding">
                <div class="card p0">
                  <div class="copy locd">
                    <div class="lbl col-md-12 col-lg-12 col-xs-12 col-sm-12 no-padding notes"
                      *ngIf="action=='timeChange'">
                      <div class="col-md-12 col-xs-12 col-sm-12 mgn-lt-10">
                        <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-bt-5 mgn-up-10">
                          Choose
                          Date</div>
                        <div class="pull-left brd-round brd-light mgn-up-20">
                          <div class="icon-minus pull-left" (click)="calculateDate(-1)">
                          </div>
                          <div class="pull-left chkindt">{{sel_checkindate | date: dateFormat}}</div>
                          <div class="icon-add pull-left" (click)="calculateDate(1)"></div>
                        </div>
                        <div class="pickerouter caldiv pull-left mgn-up-20">
                          <mat-datepicker-toggle matSuffix [for]="picker">
                          </mat-datepicker-toggle>
                          <mat-datepicker #picker [dateClass]="dateClass.bind(this)"></mat-datepicker>
                          <input class="" style="visibility: hidden; width:1px" type="text" [matDatepicker]="picker"
                            [min]="minDate" [max]="maxDate" [value]="ddate"
                            (dateChange)="handleFutureDateChange($event)">
                        </div>
                      </div>
                      <div class="col-md-12 col-xs-12 col-sm-12 mgn-lt-10">
                        <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-up-20 mgn-bt-20"
                          *ngIf="delivery_type === 'home'">Delivery
                          Timings </div>
                        <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-up-20 mgn-bt-20"
                          *ngIf="delivery_type === 'store'"> Store Pickup
                          Timings </div>
                        <div class="col-md-12 col-xs-12 col-sm-12 slotdiv no-padding mgn-up-20">
                          <div class="col-md-6 col-xs-12 col-sm-8 form-group" *ngIf="isfutureAvailableTime">
                            <mat-chip-list class="">
                              <mat-chip *ngFor="let queue of nextAvailableTimeQueue, let i= index"
                                (click)="handleQueueSelection(queue, i)">
                                {{queue['sTime'] + ' - ' +
                                queue['eTime']}}
                              </mat-chip>
                            </mat-chip-list>
                          </div>
                          <div *ngIf="!isfutureAvailableTime">
                            <p>No timings are available</p>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-12 col-xs-12 col-sm-12 mgn-bt-20 mgn-up-20 mgn-lt-5">
                        <button (click)="goBackToCheckout(futureAvailableTime ,queue)"
                          [disabled]="!isfutureAvailableTime" class="btn bt3 btn-default coupon-apply-btn"
                          type="button">Ok</button>
                      </div>
                    </div>
                    <div class="lbl col-md-12 col-lg-12 col-xs-12 col-sm-12 no-padding notes" *ngIf="action=='coupons'">
                      <div class="col-md-12 col-xs-12 col-sm-12 lnk mgn-up-20">Apply promocode</div>
                      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 mgn-up-20">
                        <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding" *ngIf="showCouponWB">
                          <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 form-level-settings applybill no-padding">
                            <i class="icon-bell"></i>{{applied_inbilltime}}
                          </div>
                          <div class="col-md-4 col-lg-3 col-sm-6 col-xs-8 no-padding">
                            <div class="input-group">
                              <input [ngClass]="{'invalid':!couponvalid}" (keydown)="clearCouponErrors()"
                                placeholder="Enter coupon code" type="text" class="form-control"
                                [(ngModel)]="selected_coupon">
                              <span class="input-group-btn">
                                <button class="btn bt3 btn-default coupon-apply-btn"
                                  (click)="applyCoupons(selected_coupon)" type="button">Add</button>
                              </span>
                            </div>
                          </div>
                          <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding" style="color: red;"
                            *ngIf="api_cp_error !== null">
                            {{api_cp_error}}</div>
                          <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 no-padding mgn-up-10 mgn-bt-20">
                          </div>
                        </div>
                        <div class="col-md-12 col-sm-12 col-lg-12 col-12 mgn-up-20 mgn-bt-30 border-tp pad-up-10"
                          *ngIf="couponsList && couponsList.length>0">
                          <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding"
                            *ngFor="let coupon of couponsList let i=index">
                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding coupon-add-msg">
                              <div class="col-md-5 col-sm-7 col-xs-7 col-lg-4 no-padding">
                                {{coupon.couponCode}} </div>
                              <div class="col-md-7 col-sm-5 col-xs-5 col-lg-8 delteTC">
                                <span><a *ngIf="coupon.instructions" (click)="toggleterms(i)"
                                    class="pointer-cursor lnk read-more-checkin">Read
                                    T & C </a></span>
                                <span><a class="pointer-cursor lnk"><i class="pointer-cursor icon-delete mgn-lt-10 lnk"
                                      (click)="removeJCoupon(i)" [matTooltipClass]="tooltipcls"
                                      [matTooltip]="'Remove Coupon'"></i></a></span>
                              </div>
                            </div>
                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 mgn-up-10 pre-instr no-padding"
                              *ngIf="coupon.showme">
                              {{coupon.instructions}}
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 coupon-outer" *ngIf="coupon_status">
                        <div class="form-group">
                          <span *ngIf="coupon_status=='success'" class="coupon_success">Coupon Code(s)
                            applied
                            successfully</span>
                          <span *ngIf="coupon_status=='error'" class="coupon-error">Coupon Code(s) not
                            valid</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="clearfix"></div>
  </div>
</section>