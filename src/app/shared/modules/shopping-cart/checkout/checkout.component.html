<section #consumer_order class="container no-padding cons-donate no-padding-small order-checkout">
  <div [ngClass]="{'loadingpaytm': loadingPaytm}"></div>
  <div class="content p0 loc-list p-checkin ynw-common-form-nm">
    <div class="panel panel-default">
      <div class="panel-heading col-xs-12 col-sm-12 co-md-12 col-lg-12 no-padding top-row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 no-padding">
          <app-header [accountId]="account_id" [customId]="customId" *ngIf="sharedFunctionobj.checkLogin()"
            [showHeaderAction]="true"></app-header>
        </div>
      </div>
      <div class="panel-body no-padding" *ngIf="source!=='paper'">
        <div class="c-outer m0">
          <div class="c-body width-100">
            <div class="card title-gb m0">
              <h5 class="mgn-up-10">
                <a class="back-btn" (click)="goBack()">
                  <i class="fa fa-arrow-left"></i>
                </a>
                <span class=" mgn-lt-10 amount">Go to cart</span>
              </h5>
            </div>
            <div *ngIf="loadingPaytm">
              <app-common-innerloading-spinner></app-common-innerloading-spinner>
            </div>
            <div class="card" *ngIf="loading">
              <app-common-innerloading-spinner> </app-common-innerloading-spinner>
            </div>
            <div class="lbl col-sm-12 col-md-7 col-lg-7 col-xl-7  col-xs-12 bg-grey no-padding-small"
              *ngIf="action=='' &&!loading">

              <div class="col-md-12 no-padding-small mgn-up-30">
                <mat-vertical-stepper [linear]="isLinear" fxLayout="column" #stepper>
                  <mat-step label="Step 1" *ngIf="!onlyvirtualItemsPresent">
                    <ng-template matStepLabel>Delivery options </ng-template>
                    <div>
                      <div *ngIf="home_delivery && store_pickup" class="d-type">Choose delivery type <br>
                        <mat-radio-group [(ngModel)]="choose_type" (change)="changeType($event)">
                          <mat-radio-button [value]="'store'" [checked]="storeChecked">
                            Store pick up
                          </mat-radio-button> &nbsp;&nbsp;&nbsp;
                          <mat-radio-button [value]="'home'" [checked]="!storeChecked">
                            Home delivery
                          </mat-radio-button>
                        </mat-radio-group>
                      </div>
                      <div *ngIf="store_pickup && !home_delivery">
                        Store Pick Up
                      </div>
                      <div *ngIf="home_delivery && !store_pickup">
                        Home Delivery
                      </div>
                      <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-up-10">
                        Date/Time
                        <span><a class="changeitem  pointer-cursor  mgn-rt-20 mgn-bt-10 change"
                            (click)="changeTime()">Change
                          </a></span>
                      </div>
                      <div *ngIf="isfutureAvailableTime">
                        <h4>
                          <span *ngIf="!isFuturedate">Today, </span>
                          <span *ngIf="!isFuturedate">
                            {{nextAvailableTime}}
                          </span>
                          <span *ngIf="isFuturedate">{{sel_checkindate | date: newDateFormat}},
                          </span>
                          <span *ngIf="isFuturedate">
                            {{nextAvailableTime}}
                          </span>
                        </h4>
                      </div>
                      <div [hidden]="isfutureAvailableTime" class="red">
                        <span>No timings are available</span>
                      </div>
                    </div>
                    <div [hidden]="!isfutureAvailableTime">
                      <button class="nxt-btn" mat-flat-button matStepperNext>Next</button>
                    </div>
                  </mat-step>
                  <mat-step label="Step 2" *ngIf="qnr">
                    <ng-template matStepLabel>More Info</ng-template>
                    <div>
                      <app-questionnaire [questionnaireList]="questionnaireList" [source]="'consOrder'"
                        [questionAnswers]="questionAnswers" [accountId]="account_id"
                        (returnAnswers)="getQuestionAnswers($event)"></app-questionnaire>
                    </div>
                    <div *ngIf="bookStep=='qnr'">
                      <button class="nxt-btn" mat-flat-button (click)="validateQuestionnaire()">save</button>
                    </div>
                    <div *ngIf="bookStep=='Step 3'">
                      <button class="nxt-btn" mat-flat-button matStepperNext>Next</button>
                    </div>
                  </mat-step>
                  <mat-step label="Step 3">
                    <ng-template matStepLabel
                      *ngIf="(!home_delivery && store_pickup)||choose_type=='store' ||onlyvirtualItemsPresent"> Contact
                      Details </ng-template>
                    <ng-template matStepLabel *ngIf="(home_delivery && !store_pickup) || choose_type =='home' ">Fill out
                      your address</ng-template>
                    <ng-container *ngIf="choose_type =='home'||(home_delivery && !store_pickup) ">
                      <mat-grid-list *ngIf="!onlyvirtualItemsPresent" cols="{{no_of_grids}}" rowHeight="200px"
                        [gutterSize]="'10px'" class="mgn-bt-20">
                        <mat-grid-tile *ngFor="let address of added_address; let i = index"
                          (click)="highlight(i,address)" [ngClass]="{'highlightadress': selectedRowIndex == i}">
                          <mat-grid-tile-header>
                            <i class="fa fa-map-marker" aria-hidden="true"></i>
                            <span class="adrs-head">Address {{i+1}}</span>
                          </mat-grid-tile-header>
                          <div class="adrs-data">
                            <div>{{address.firstName }}&nbsp;{{address.lastName}}</div>
                            <div>{{address.address}}</div>
                            <div>{{address.city}} ,{{address.landMark}}, {{address.postalCode}}</div>
                            <div> +91 {{address.phoneNumber}}</div>
                            <div> {{address.email}}</div>
                          </div>
                          <mat-grid-tile-footer>
                            <button class="add-adrs-btn" mat-flat-button (click)="updateAddress(address,i)">
                              Edit
                            </button> &nbsp;
                            <button class="add-adrs-btn" mat-flat-button (click)="deleteAddress(address,i)">
                              Delete
                            </button>
                          </mat-grid-tile-footer>
                        </mat-grid-tile>
                        <mat-grid-tile>
                          <mat-grid-tile-header>
                            <i class="fa fa-map-marker" aria-hidden="true"></i>
                            <span class="adrs-head">Add new address</span>
                          </mat-grid-tile-header>
                          <mat-grid-tile-footer>
                            <button class="add-adrs-btn" mat-flat-button (click)="addAddress()">
                              Add new
                            </button>
                          </mat-grid-tile-footer>
                        </mat-grid-tile>
                      </mat-grid-list>
                    </ng-container>
                    <ng-container
                      *ngIf="(!home_delivery && store_pickup)||choose_type=='store' ||onlyvirtualItemsPresent">
                      <form [formGroup]="storeContact">
                        <div class="ph-outline" style="display: flex;">
                          <div class="input-group">
                            <input class="ph-ip mgn-lt-20" formControlName="phone" required id="youridhere">
                            <label for="youridhere" class="static-value">+91</label>
                            <label class="ph-label"><sup><i class="fa fa-asterisk"></i></sup>Contact number</label>
                          </div>
                          <app-field-error-display [displayError]="fed_service.isFieldValid(storeContact,'phone')"
                            [errorMsgs]="fed_service.getErrorMessage(storeContact,'phone',
                        {
                          'required' : 'Mobile number is required',
                          'minlength' : 'Enter a 10 digit mobile number',
                          'maxlength' : 'Enter a 10 digit mobile number',
                          'pattern' : 'Only numbers are allowed'
                        })">
                          </app-field-error-display>
                        </div>
                        <div class="ph-outline">
                          <input class="ph-ip" formControlName="email">
                          <label class="ph-label"><sup><i class="fa fa-asterisk"></i></sup>Email</label>
                        </div>
                        <app-field-error-display [displayError]="fed_service.isFieldValid(storeContact,'email')"
                          [errorMsgs]="fed_service.getErrorMessage(storeContact,'email',
                      {
                        'required' : 'Email is required',
                        'pattern' : 'Please enter valid email'
                      })">
                        </app-field-error-display>
                      </form>
                    </ng-container>
                  </mat-step>
                </mat-vertical-stepper>
              </div>
            </div>




            <div class="lbl col-sm-12 col-md-5 col-lg-5 col-xl-5 col-xs-12 no-padding-small bg-grey" *ngIf="action==''">
              <!-- Side bar contact -->
              <div class="contact-outer" *ngIf="storeContactNw">
                <aside *ngIf="showSide" class="side_nav">
                  <h4>Store Contact <i (click)="closeNav()" class="fa fa-times-circle fl-right"></i></h4>
                  <div class="addrs">
                    <span>{{storeContactNw.firstName}}&nbsp;{{storeContactNw.lastName}}</span>
                    <span *ngIf="storeContactNw.address">
                      <i class="fa fa-address-card-o" aria-hidden="true"></i> {{storeContactNw.address}}
                    </span>
                    <span><i class="fa fa-phone mgn-rt-6"></i>{{storeContactNw.primCountryCode}}
                      {{storeContactNw.phone}}</span>
                    <span *ngIf="storeContactNw.alternatePhone"><i
                        class="fa fa-phone mgn-rt-6"></i>{{storeContactNw.secCountryCode}}
                      {{storeContactNw.alternatePhone}}</span>
                    <span [matTooltip]="storeContactNw.email" *ngIf="storeContactNw.email" class="wrap"><i
                        class="fa fa-envelope mgn-rt-6"></i>{{storeContactNw.email}}</span>
                    <span *ngIf="storeContactNw.alternateEmail" class="content_wrap"><i
                        class="fa fa-envelope mgn-rt-6"></i>{{storeContactNw.alternateEmail}}</span>
                    <span *ngIf="storeContactNw.whatsappNo"><i
                        class="fa wtsapaud-icon mgn-rt-6"></i>{{storeContactNw.whatsAppCountryCode}}
                      {{storeContactNw.whatsappNo}}</span>
                  </div>
                </aside>
              </div>
              <div class="card" *ngIf="loading">
                <app-common-innerloading-spinner> </app-common-innerloading-spinner>
              </div>
              <div [class.opacty]="showSide" class="card mgn-up-30" *ngIf="!loading">
                <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 disp-flex">
                  <div *ngIf="businessDetails && businessDetails.logo">
                    <div class="prov-dp" [ngStyle]="{ 'background-image': 'url(' + businessDetails.logo + ')'}"></div>
                  </div>
                  <div class="prov-name">
                    <div class="prov-name-txt">
                      {{businessDetails.bname}}
                    </div>
                    <div class="prov-loc">
                      {{businessDetails.blocation}}
                    </div>
                    <div class="prov-loc store-cntct" (click)="sidebar()">
                      <i class="fa fa-home store_ico"></i>Store Contact
                    </div>
                  </div>
                </div>
                <span class="mgn-up-20" *ngIf="!image_list_popup && this.orderType === 'SHOPPINGLIST'"
                  (click)="uploadShoppingList()">
                  <a class="uploadshoppinglist-btn">Upload Shopping List</a>
                </span>
                <div class="bill-section" *ngIf="this.orderType !== 'SHOPPINGLIST'">
                  <div class="bill-section-content">
                    <div class="bill-wrapper ">
                      <div class="bill-content">
                        <div class="section-three">
                          <div class="bill-breakup">
                            <div class="list border">
                              <div class="list-content head_labels">
                                <div class="copy one">
                                  <div class="col-a col-b cd-b">
                                    <div>
                                      <div class="">
                                        <div class="c-row one width-100">
                                          <div class="name cart-flex">
                                            <span style="font-weight: 400;">Product</span>
                                          </div>
                                          <div class="quantity">Qty</div>
                                          <div *ngIf="catalog_details.showPrice" class="price rupee-font">Price</div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="list-content" style="text-align: left;"
                                *ngFor="let item of cartDetails.orderItems; let i = index">
                                <div class="copy one">
                                  <div class="col-a col-b cd-b">
                                    <div class="mgn-up-10">
                                      <div class="">
                                        <div class="c-row one width-100">
                                          <div class="name cart-flex">
                                            <i class="fa fa-stop-circle"></i>
                                            <span class="item-name">{{item.name}}</span>
                                          </div>
                                          <div class="quantity item-qty">{{item.quantity}}</div>
                                          <div *ngIf="catalog_details.showPrice" class="price rupee-font">
                                            {{item.totalPrice | currency:'&#8377;'}}</div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="snd_msg_outer">
                                <textarea placeholder="Any notes? Write here..." class="txtArea"
                                  [(ngModel)]="orderNote"></textarea>
                              </div>
                              <div class="order-label"
                                *ngIf="(s3CouponsList.JC.length > 0 ||s3CouponsList.OWN.length > 0)">
                                <a (click)="applyPromocode()" *ngIf="selected_coupons.length === 0">Apply Promo Code</a>
                                <a *ngIf="selected_coupons.length > 0" (click)="applyPromocode()">Promo code
                                  {{selected_coupons.toString()}} added.</a>
                              </div>
                              <div *ngIf="selected_coupons.length > 0" style="text-align: initial;">
                                <div *ngFor="let coupon of cartDetails.jCouponList | keyvalue">
                                  <small class="black" *ngIf="coupon.value.value === '0.0'">{{coupon.key}} will be
                                    honored if all the rules are met </small>&nbsp;<small
                                    *ngIf="coupon.value.value === '0.0'" class="blue custId-cursor"
                                    (click)="showJCCouponNote(coupon)" aria-hidden="true">Know more</small>
                                </div>
                                <div *ngFor="let coupon of cartDetails.proCouponList | keyvalue">
                                  <small class="black" *ngIf="coupon.value.value === '0.0'">{{coupon.key}} will be
                                    honored if all the rules are met </small>&nbsp;<small
                                    *ngIf="coupon.value.value === '0.0'" class="blue custId-cursor"
                                    (click)="showJCCouponNote(coupon)" aria-hidden="true">Know more</small>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="" *ngIf="catalog_details.showPrice">
                            <div class="bill-details-txt">
                              Bill Details
                            </div>
                            <div class="amount-table">
                              <div class="">
                                <div class="disp-flex width-100 amount-details">
                                  <div class="bill-labels">Item Total</div>
                                  <div class="price rupee-font"> {{cartDetails.itemTotal | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.taxAmount">
                                  <div class="bill-labels">Total Tax </div>
                                  <div class="price rupee-font">{{cartDetails.taxAmount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details"
                                  *ngIf="cartDetails.jaldeeCouponDiscount">
                                  <div class="bill-labels">Coupon Discount<span
                                      *ngIf="couponlist.length > 0">({{couponlist}})</span></div>
                                  <div class="price rupee-font">
                                    {{cartDetails.jaldeeCouponDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details"
                                  *ngIf="cartDetails.providerCouponDiscount">
                                  <div class="bill-labels">Provider Discount <span
                                      *ngIf="pcouponlist.length > 0">({{pcouponlist}})</span></div>
                                  <div class="price rupee-font">
                                    {{cartDetails.providerCouponDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.jdnDiscount">
                                  <div class="bill-labels">JDN Discount </div>
                                  <div class="price rupee-font">{{cartDetails.jdnDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.totalDiscount">
                                  <div class="bill-labels">Total Discount </div>
                                  <div class="price rupee-font">{{cartDetails.totalDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.deliveryCharge">
                                  <div class="bill-labels">Delivery Charges </div>
                                  <div class="price rupee-font">{{cartDetails.deliveryCharge | currency:'&#8377;'}}
                                  </div>
                                </div>
                                <div class="hr-line-pitch-blk mgn-up-20"></div>
                                <div class="disp-flex width-100 amount-details to-pay mgn-up-20">
                                  <div class="bill-labels">TO PAY</div>
                                  <div class="price rupee-font">{{cartDetails.netTotal| currency:'&#8377;'}}</div>
                                </div>
                                <span *ngIf="cartDetails.advanceAmount >0" style="font-size: small;color: red;"><i
                                    class="fa fa-info-circle " aria-hidden="true"></i>An advance of <span
                                    class="rupee-font">{{getAmountToPay(cartDetails) | currency:'&#8377;'}}
                                  </span>required</span><br>
                                <span style="font-size: small;" *ngIf="convenientFee > 0">
                                  <span class="ser_price no-mgn-bt rupee-font">Convenient Fee:
                                    {{convenientFee | currency:'&#8377;'}}</span>
                                </span><br>
                                <span style="font-size: small;"
                                  *ngIf="selected_payment_mode && isInternatonal === false && gatewayFee > 0">
                                  <span class="ser_price no-mgn-bt rupee-font">Convenient Fee:
                                    {{gatewayFee | currency:'&#8377;'}}</span>
                                </span>
                                <span style="font-size: small;"
                                  *ngIf="selected_payment_mode && isInternatonal === true && gatewayFee > 0">
                                  <span class="ser_price no-mgn-bt rupee-font">Convenient Fee:
                                    {{gatewayFee | currency:'&#8377;'}}</span>
                                </span>
                                <div *ngIf="cartDetails.advanceAmount">
                                  <div *ngIf="jcashamount>0" class="jaldeecredit">
                                    <mat-checkbox [(ngModel)]="checkJcash" (change)='OnChangeJcash($event)'>
                                    </mat-checkbox>
                                    Use Jaldee cash balance : Rs{{jcashamount}}
                                  </div>
                                  <div *ngIf="jcashamount>0  && (checkJcash && jcashamount < cartDetails.advanceAmount)"
                                    class="hint">
                                    Balance amount can be paid by other payment methods
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="" *ngIf="!catalog_details.showPrice && orderType !== 'SHOPPINGLIST'">
                            <div class="bill-details-txt">
                            </div>
                            <div class="amount-table">
                              <div class="">
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.taxAmount">
                                  <div class="bill-labels">Total Tax </div>
                                  <div class="price rupee-font">{{cartDetails.taxAmount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details"
                                  *ngIf="cartDetails.jaldeeCouponDiscount">
                                  <div class="bill-labels">Coupon Discount <span
                                      *ngIf="couponlist.length > 0">({{couponlist}})</span></div>
                                  <div class="price rupee-font">
                                    {{cartDetails.jaldeeCouponDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details"
                                  *ngIf="cartDetails.providerCouponDiscount">
                                  <div class="bill-labels">Provider Discount <span
                                      *ngIf="pcouponlist.length > 0">({{pcouponlist}})</span></div>
                                  <div class="price rupee-font">
                                    {{cartDetails.providerCouponDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.jdnDiscount">
                                  <div class="bill-labels">JDN Discount </div>
                                  <div class="price rupee-font">{{cartDetails.jdnDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.totalDiscount">
                                  <div class="bill-labels">Total Discount </div>
                                  <div class="price rupee-font">{{cartDetails.totalDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.deliveryCharge">
                                  <div class="bill-labels">Delivery Charges </div>
                                  <div class="price rupee-font">{{cartDetails.deliveryCharge | currency:'&#8377;'}}
                                  </div>
                                </div>
                                <div class="hr-line-pitch-blk mgn-up-20"></div>
                                <span *ngIf="cartDetails.advanceAmount" style="font-size: small;color: red;"><i
                                    class="fa fa-info-circle " aria-hidden="true"></i>An advance of <span
                                    class="rupee-font">{{cartDetails.advanceAmount | currency:'&#8377;'}}
                                  </span>required</span>
                                <div *ngIf="cartDetails.advanceAmount">
                                  <div *ngIf="jcashamount>0">
                                    <mat-checkbox [(ngModel)]="checkJcash"></mat-checkbox>
                                    Use Jaldee cash balance : Rs{{jcashamount}}
                                  </div>
                                  <div *ngIf="jcashamount>0  && (checkJcash && jcashamount < cartDetails.advanceAmount)"
                                    class="hint">
                                    Balance amount can be paid by other payment methods
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="paymentdiv no-padding"
                        *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                        <p class="jaldeecredit">
                          To pay Rs {{checkJcash ? totalamountPay : cartDetails.advanceAmount}} please select any
                          payment options
                        </p>
                        <div *ngIf=" ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))"
                          class="payment-mode-card-styles">
                          <ng-container *ngIf="!shownonIndianModes">
                            <app-payment-modes [paymentModes]="indian_payment_modes"
                              (modeSelected)="indian_payment_mode_onchange($event)">
                            </app-payment-modes>
                          </ng-container>
                          <ng-container *ngIf="shownonIndianModes">
                            <app-payment-modes [paymentModes]="non_indian_modes"
                              (modeSelected)="non_indian_modes_onchange($event)">
                            </app-payment-modes>
                          </ng-container>
                          <div class="clearfix"></div>
                        </div>
                      </div>
                      <div class="txt-align-center mgn-up-10"
                        *ngIf="paymentmodes.internationalPay  && cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                        <span (click)="togglepaymentMode()" class="pointer-cursor"><a class="refund_policy">
                            <span *ngIf="!shownonIndianModes && paymentmodes.internationalPay">Non Indian Payment ?
                              Click
                              here</span>
                            <span *ngIf="shownonIndianModes && paymentmodes.indiaPay">Indian Payment ? Click
                              here</span>
                          </a></span>
                      </div>
                      <div class="txt-align-center mgn-up-10">
                        <button type="button" class=" next-button btn btn-primary font-weight-bold text-uppercase "
                          [class.disabled]="isClickedOnce"
                          *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))"
                          (click)="!isClickedOnce && confirm()">
                          Make Payment
                        </button>
                        <!-- <div>hh</div> -->

                      </div>
                      <div class="cancelpolicy mgn-rt-5 txt-align-center mgn-up-10">
                        <!-- *ngIf="paymentDetails && paymentDetails.amountRequiredNow > 0" -->
                        <div class="pad_policy" *ngIf="cartDetails.advanceAmount > 0">
                          <!-- *ngIf="paymentLength>0 && paymentDetails && paymentDetails.amountRequiredNow > 0" -->
                          <a data-toggle="modal" data-target="#exampleModal" class="refund_policy">Cancellation
                            Policy</a>
                        </div>
                      </div>
                      <!-- modalbox -->
                      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <app-refundpolicy></app-refundpolicy>
                      </div>

                      <br>
                      <div
                        *ngIf="cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount > cartDetails.advanceAmount) || (checkJcash && jcashamount == cartDetails.advanceAmount))">
                        <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                          [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp; →
                        </button>
                      </div>
                      <div *ngIf="cartDetails.advanceAmount == 0 || !cartDetails.advanceAmount">
                        <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                          [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp;→
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="image_list_popup && this.orderType === 'SHOPPINGLIST'">
                  <ul class="shoppinglist-gal">
                    <ng-container *ngFor="let file of image_list_popup;let i = index">
                      <li *ngIf="i<2" class="shoppinglist-li">
                        <div class="shoppinglistbx">
                          <div class="shoppinglistimg-h" (click)="openImageModalRow(file)">
                            <div class="shoppinglistoverlay-y"></div><img class="shoppinglistimg" [src]="file.modal.img"
                              *ngIf="file.modal.img" />
                          </div>
                        </div>
                      </li>
                    </ng-container>
                    <li *ngIf="image_list_popup.length>2" class="shoppinglist-li">
                      <div class="shoppinglistbx">
                        <span class="shoppinglistmre" (click)="openImageModalRow(image_list_popup[2])"
                          *ngIf="(image_list_popup.length-3)>0">+{{(image_list_popup.length-3)}}</span>
                        <div class="shoppinglistimg-h" *ngIf="(image_list_popup.length-3)>0"><img
                            class="shoppinglistimg" *ngIf="image_list_popup[2].modal.img"
                            [src]="image_list_popup[2].modal.img" /></div>
                        <div class="shoppinglistimg-h" (click)="openImageModalRow(image_list_popup[2])"
                          *ngIf="(image_list_popup.length-3)==0">
                          <div class="shoppinglistoverlay-y"></div><img class="shoppinglistimg"
                            *ngIf="image_list_popup[2].modal.img" [src]="image_list_popup[2].modal.img" />
                        </div>
                      </div>
                    </li>
                  </ul>
                  <a class="pointerlist" (click)="editshoppinglist()">Update</a>
                  <div class="snd_msg_outer">
                    <textarea placeholder="Any notes? Write here..." class="txtArea"
                      [(ngModel)]="orderlistNote"></textarea>
                  </div>
                  <div class="order-label mgn-up-10 mgn-bt-10"
                    *ngIf="(s3CouponsList.JC.length > 0 ||s3CouponsList.OWN.length > 0)"><a (click)="applyPromocode()"
                      *ngIf="selected_coupons.length === 0">Apply Promo Code</a>
                    <a *ngIf="selected_coupons.length > 0" (click)="applyPromocode()">
                      Promo code {{selected_coupons.toString()}} added,will be applicable in the final bill. <br>
                      <u>Add more</u></a>
                  </div>
                  <span class="form-level-settings"
                    *ngIf="choose_type === 'home' && catalog_details.homeDelivery.deliveryCharge"> Delivery charge
                    &#x20B9;{{getDeliveryCharges()}} will added to the bill.</span>
                  <ks-modal-gallery [id]="0" [modalImages]="image_list_popup"
                    [plainGalleryConfig]="customPlainGalleryRowConfig" [buttonsConfig]="customButtonsFontAwesomeConfig"
                    (buttonBeforeHook)="onButtonBeforeHook($event)" (buttonAfterHook)="onButtonAfterHook()">
                  </ks-modal-gallery>
                  <div>
                    <span *ngIf="cartDetails.advanceAmount >0" style="font-size: small;color: red;"><i
                        class="fa fa-info-circle " aria-hidden="true"></i>An advance of <span
                        class="rupee-font">{{getAmountToPay(catalog_details) | currency:'&#8377;'}}
                      </span>required</span>
                  </div>
                  <div *ngIf="jcashamount>0" class="jaldeecredit">
                    <mat-checkbox [(ngModel)]="checkJcash"></mat-checkbox>
                    Use Jaldee cash balance : Rs{{jcashamount}}
                  </div>
                  <div *ngIf="jcashamount>0  && (checkJcash && jcashamount < cartDetails.advanceAmount)" class="hint">
                    Balance amount can be paid by other payment methods
                  </div>
                  <div class="paymentdiv"
                    *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                    <p class="jaldeecredit">
                      To pay Rs {{checkJcash ? totalamountPay : cartDetails.advanceAmount}} please select any payment
                      options
                    </p>
                  </div>
                  <div class="clearfix"></div>
                  <ng-container
                    *ngIf="!shownonIndianModes && ((checkJcash && jcashamount < cartDetails.advanceAmount)) ">
                    <app-payment-modes [paymentModes]="indian_payment_modes"
                      (modeSelected)="indian_payment_mode_onchange($event)">
                    </app-payment-modes>
                  </ng-container>
                  <ng-container *ngIf="shownonIndianModes && ((checkJcash && jcashamount < cartDetails.advanceAmount))">
                    <app-payment-modes [paymentModes]="non_indian_modes"
                      (modeSelected)="non_indian_modes_onchange($event)">
                    </app-payment-modes>
                  </ng-container>

                  <!-- <div *ngFor="let modes of indian_payment_modes">
                      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <div class="text-primary payment-mode-card-styles">
                          <mat-radio-group class="paymentmode card shadow-lg" name="paymentMode"
                            (change)="indian_payment_mode_onchange($event)" labelPosition="before">
                            <mat-radio-button [value]="modes.mode">
                              <div class="d-flex justify-content-sm-around">
                                <div class="col-md-6 col-lg-6 my-auto"><span
                                    style="font-size: 10px;">{{modes.modeDisplayName}}</span></div>
                                <div class="col-md-6 col-lg-6 my-auto"><img class="ordericon pickup pic_size"
                                    [src]="getImageSrc(modes.mode)"></div>
                              </div>
                            </mat-radio-button>
                          </mat-radio-group>
                        </div>
                      </div>
                    </div> -->

                  <!-- <ng-container >
                    <div *ngFor="let modes of non_indian_modes">
                      <div class="col-xs-12 col-sm-6 col-md-12 col-lg-12">
                        <div class="text-primary payment-mode-card-styles">
                          <mat-radio-group class="paymentmode card shadow-lg" name="paymentMode"
                            (change)="non_indian_modes_onchange($event)">
                            <mat-radio-button [value]="modes.mode">
                              <div class="d-flex justify-content-around">
                                <div class="col-md-6 col-lg-6 my-auto"><span
                                    style="font-size: 10px;">{{modes.modeDisplayName}}</span></div>
                                <div class="col-md-6 col-lg-6 my-auto"><img class="ordericon pickup pic_size"
                                    [src]="getImageSrc(modes.mode)"></div>
                              </div>
                            </mat-radio-button>
                          </mat-radio-group>
                        </div>
                      </div>
                    </div>
                  </ng-container> -->
                  <div class="clearfix"></div>
                  <div class="txt-align-center mgn-up-20"
                    *ngIf="paymentmodes && paymentmodes.internationalPay  && cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                    <span (click)="togglepaymentMode()" class="pointer-cursor"><a class="refund_policy">
                        <span *ngIf="!shownonIndianModes && paymentmodes && paymentmodes.internationalPay">Non Indian
                          Payment ? Click
                          here</span>
                        <span *ngIf="shownonIndianModes && paymentmodes && paymentmodes.indiaPay">Indian Payment ? Click
                          here</span>
                      </a></span>
                  </div>
                  <div class="txt-align-center mgn-up-10">
                    <button type="button" class=" next-button btn btn-primary font-weight-bold text-uppercase "
                      [class.disabled]="isClickedOnce"
                      *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))"
                      (click)="!isClickedOnce && confirm()">
                      MaKe Payment
                    </button>

                  </div>
                  <br>
                  <div
                    *ngIf="selectedImagelist.files.length > 0 && cartDetails.advanceAmount > 0 &&  ((checkJcash && jcashamount > cartDetails.advanceAmount) || (checkJcash && jcashamount == cartDetails.advanceAmount))">
                    <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                      [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp;→
                    </button>
                  </div>
                  <div
                    *ngIf="selectedImagelist.files.length > 0 && (cartDetails.advanceAmount == 0 || !cartDetails.advanceAmount)">
                    <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                      [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp;→
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="panel-body no-padding">
              <div class="col-md-12 col-xs-12 col-sm-12 no-padding">
                <div class="card p0">
                  <div class="copy locd">
                    <div class="lbl col-md-12 col-lg-12 col-xs-12 col-sm-12 no-padding notes"
                      *ngIf="action=='timeChange'">
                      <div class="col-md-12 col-xs-12 col-sm-12 mgn-lt-10">
                        <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-bt-5 mgn-up-10">
                          Choose
                          Date</div>
                        <div class="pull-left brd-round brd-light mgn-up-20">
                          <div class="icon-minus pull-left" (click)="calculateDate(-1)">
                          </div>
                          <div class="pull-left chkindt">{{sel_checkindate | date: dateFormat}}</div>
                          <div class="icon-add pull-left" (click)="calculateDate(1)"></div>
                        </div>
                        <div class="pickerouter caldiv pull-left mgn-up-20">
                          <mat-datepicker-toggle matSuffix [for]="picker">
                          </mat-datepicker-toggle>
                          <mat-datepicker #picker [dateClass]="dateClass.bind(this)"></mat-datepicker>
                          <input class="" style="visibility: hidden; width:1px" type="text" [matDatepicker]="picker"
                            [min]="minDate" [max]="maxDate" [value]="ddate"
                            (dateChange)="handleFutureDateChange($event)">
                        </div>
                      </div>
                      <div class="col-md-12 col-xs-12 col-sm-12 mgn-lt-10">
                        <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-up-20 mgn-bt-20"
                          *ngIf="delivery_type === 'home'">Delivery
                          Timings </div>
                        <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-up-20 mgn-bt-20"
                          *ngIf="delivery_type === 'store'"> Store Pickup
                          Timings </div>
                        <div class="col-md-12 col-xs-12 col-sm-12 slotdiv no-padding mgn-up-20">
                          <div class="col-md-6 col-xs-12 col-sm-8 form-group" *ngIf="isfutureAvailableTime">
                            <mat-chip-list class="">
                              <mat-chip *ngFor="let queue of nextAvailableTimeQueue, let i= index"
                                (click)="handleQueueSelection(queue, i)">
                                {{queue['sTime'] + ' - ' +
                                queue['eTime']}}
                              </mat-chip>
                            </mat-chip-list>
                          </div>
                          <div *ngIf="!isfutureAvailableTime">
                            <p>No timings are available</p>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-12 col-xs-12 col-sm-12 mgn-bt-20 mgn-up-20 mgn-lt-5">
                        <button (click)="goBackToCheckout(futureAvailableTime ,queue)"
                          [disabled]="!isfutureAvailableTime" class="btn bt3 btn-default coupon-apply-btn"
                          type="button">Ok</button>
                      </div>
                    </div>
                    <div class="lbl col-md-12 col-lg-12 col-xs-12 col-sm-12 no-padding notes" *ngIf="action=='coupons'">
                      <div class="col-md-12 col-xs-12 col-sm-12 lnk mgn-up-20">Apply promocode</div>
                      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 mgn-up-20">
                        <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding" *ngIf="showCouponWB">
                          <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 form-level-settings applybill no-padding">
                            <i class="icon-bell"></i>{{applied_inbilltime}}
                          </div>
                          <div class="col-md-4 col-lg-3 col-sm-6 col-xs-8 no-padding">
                            <div class="input-group">
                              <input [ngClass]="{'invalid':!couponvalid}" (keydown)="clearCouponErrors()"
                                placeholder="Enter coupon code" type="text" class="form-control"
                                [(ngModel)]="selected_coupon">
                              <span class="input-group-btn">
                                <button class="btn bt3 btn-default coupon-apply-btn"
                                  (click)="applyCoupons(selected_coupon)" type="button">Add</button>
                              </span>
                            </div>
                          </div>
                          <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding" style="color: red;"
                            *ngIf="api_cp_error !== null">
                            {{api_cp_error}}</div>
                          <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 no-padding mgn-up-10 mgn-bt-20">
                          </div>
                        </div>
                        <div class="col-md-12 col-sm-12 col-lg-12 col-12 mgn-up-20 mgn-bt-30 border-tp pad-up-10"
                          *ngIf="couponsList && couponsList.length>0">
                          <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding"
                            *ngFor="let coupon of couponsList let i=index">
                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding coupon-add-msg">
                              <div class="col-md-5 col-sm-7 col-xs-7 col-lg-4 no-padding">
                                {{coupon.couponCode}} </div>
                              <div class="col-md-7 col-sm-5 col-xs-5 col-lg-8 delteTC">
                                <span><a *ngIf="coupon.instructions" (click)="toggleterms(i)"
                                    class="pointer-cursor lnk read-more-checkin">Read
                                    T & C </a></span>
                                <span><a class="pointer-cursor lnk"><i class="pointer-cursor icon-delete mgn-lt-10 lnk"
                                      (click)="removeJCoupon(i)" [matTooltipClass]="tooltipcls"
                                      [matTooltip]="'Remove Coupon'"></i></a></span>
                              </div>
                            </div>
                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 mgn-up-10 pre-instr no-padding"
                              *ngIf="coupon.showme">
                              {{coupon.instructions}}
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 coupon-outer" *ngIf="coupon_status">
                        <div class="form-group">
                          <span *ngIf="coupon_status=='success'" class="coupon_success">Coupon Code(s)
                            applied
                            successfully</span>
                          <span *ngIf="coupon_status=='error'" class="coupon-error">Coupon Code(s) not
                            valid</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="panel-body no-padding" *ngIf="source==='paper'">
        <div class="c-outer m0">
          <div class="c-body width-100">
            <div *ngIf="loadingPaytm">
              <app-common-innerloading-spinner></app-common-innerloading-spinner>
            </div>
            <div class="card" *ngIf="loading">
              <app-common-innerloading-spinner> </app-common-innerloading-spinner>
            </div>



            <div class="lbl col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 bg-grey no-padding-small no-padding"
              *ngIf="action=='' &&!loading && bookStep!='Step 3'">

              <div class="card col-md-12 no-padding-small">
                <!-- <div class="container">
                  <span class="back-btn pointer-cursor" (click)="goBackToHome()"><i class="fa fa-arrow-left"
                      aria-hidden="true"></i>&nbsp;Back</span>
                </div> -->
                <div *ngIf="qnr" class="mt-5" class="paperSubmit">
                  <div class="bgorange px-5 py-2">
                    <div class="d-flex justify-content-between">
                      <div>
                        <div>
                          <img src="assets/images/authordemy/logo.png" alt="Authordemy" width="100px" height="70px">
                        </div>
                        <div class="clearfix"></div>

                        <div class="userInfo">
                          <div class="">
                            <h4 class="welcomeBck">Welcome</h4>
                            <h4 class="welcometag">Increase your chances of publication</h4>

                          </div>
                          <div>

                          </div>
                        </div>
                      </div>
                      <div class="disp-none-small">
                        <img src="assets/images/authordemy/header.png" alt="Authordemy" width="300px" height="70%">
                      </div>
                    </div>
                  </div>
                  <div class="bgblue">
                    <h4>Submit a Paper</h4>
                  </div>
                  <div>
                    <app-questionnaire [questionnaireList]="questionnaireList" [source]="'consOrder'"
                      [questionAnswers]="questionAnswers" [accountId]="account_id"
                      (returnAnswers)="getQuestionAnswers($event)"></app-questionnaire>
                  </div>
                  <div class="text-right" *ngIf="bookStep=='qnr'">
                    <span class="mr-5 pointer-cursor" mat-flat-button (click)="goBackToHome()">Back</span>
                    <button class="nxt-btn" mat-flat-button (click)="validateQuestionnaire()">Next</button>
                  </div>
                </div>
              </div>
            </div>




            <div class="lbl col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 no-padding-small no-padding bg-grey"
              *ngIf="action=='' && bookStep=='Step 3'">
              <!-- Side bar contact -->
              <div class="contact-outer">
                <aside *ngIf="showSide" class="side_nav">
                  <h4>Store Contact <i (click)="closeNav()" class="fa fa-times-circle fl-right"></i></h4>
                  <div class="addrs">
                    <span>{{storeContactNw.firstName}}&nbsp;{{storeContactNw.lastName}}</span>
                    <span *ngIf="storeContactNw.address">
                      <i class="fa fa-address-card-o" aria-hidden="true"></i> {{storeContactNw.address}}
                    </span>
                    <span><i class="fa fa-phone mgn-rt-6"></i>{{storeContactNw.primCountryCode}}
                      {{storeContactNw.phone}}</span>
                    <span *ngIf="storeContactNw.alternatePhone"><i
                        class="fa fa-phone mgn-rt-6"></i>{{storeContactNw.secCountryCode}}
                      {{storeContactNw.alternatePhone}}</span>
                    <span [matTooltip]="storeContactNw.email" *ngIf="storeContactNw.email" class="wrap"><i
                        class="fa fa-envelope mgn-rt-6"></i>{{storeContactNw.email}}</span>
                    <span *ngIf="storeContactNw.alternateEmail" class="content_wrap"><i
                        class="fa fa-envelope mgn-rt-6"></i>{{storeContactNw.alternateEmail}}</span>
                    <span *ngIf="storeContactNw.whatsappNo"><i
                        class="fa wtsapaud-icon mgn-rt-6"></i>{{storeContactNw.whatsAppCountryCode}}
                      {{storeContactNw.whatsappNo}}</span>
                  </div>
                </aside>
              </div>
              <div class="card" *ngIf="loading">
                <app-common-innerloading-spinner> </app-common-innerloading-spinner>
              </div>
              <div [class.opacty]="showSide" class="card" *ngIf="!loading">
                <!-- <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xs-12 disp-flex">
                  <div *ngIf="businessDetails && businessDetails.logo">
                    <div class="prov-dp" [ngStyle]="{ 'background-image': 'url(' + businessDetails.logo + ')'}"></div>
                  </div>
                  <div class="prov-name">
                    <div class="prov-name-txt">
                      {{businessDetails.bname}}
                    </div>
                    <div class="prov-loc">
                      {{businessDetails.blocation}}
                    </div>
                    <div class="prov-loc store-cntct" (click)="sidebar()">
                      <i class="fa fa-home store_ico"></i>Store Contact
                    </div>
                  </div>
                </div> -->
                <div class="mt-2 form-card col-md-12 col-lg-12 col-sm-12 col-xs-12 no-padding">
                  <!-- <div class="container">
                    <span class="back-btn pointer-cursor" (click)="goBack()"><i class="fa fa-arrow-left"
                        aria-hidden="true"></i>&nbsp;Back</span>
                  </div> -->
                  <div class="">
                    <div class="bgorange px-5 py-2">
                      <div class="d-flex justify-content-between">
                        <div>
                          <div>
                            <img src="assets/images/authordemy/logo.png" alt="Authordemy" width="100px" height="70px">
                          </div>
                          <div class="clearfix"></div>

                          <div class="userInfo">
                            <div class="">
                              <h4 class="welcomeBck">Welcome</h4>
                              <h4 class="welcometag">Increase your chances of publication</h4>

                            </div>
                            <div>

                            </div>
                          </div>
                        </div>
                        <div class="disp-none-small">
                          <img src="assets/images/authordemy/header.png" alt="Authordemy" width="300px" height="70%">
                        </div>
                      </div>
                    </div>
                    <div class="bgblue">
                      <h4>Submit a Paper</h4>
                    </div>
                    <div class="instructionText">Instructions to the author</div>
                    <div class="defultTextIns" *ngIf="defultTextFirstStep">
                      {{defultTextFirstStep}}
                      <div *ngIf="!termscheck" (click)="termsOpen()" class="terms">{{defultMoreText}}</div>
                      <div *ngIf="termscheck">
                        <div>
                          <span class="SINO">A.</span> Please make sure that you have made your best efforts in
                          finalizing the documents. Avoid leaving improvements/corrections that you can make to the peer
                          reviewers.
                          Ensure that you have done spell check and grammar check of the manuscript using software
                          freely available for these purposes.
                        </div>
                        <div>
                          <span class="SINO">B.</span>Please ensure that your manuscript clears plagiarism check,
                          including that of self plagiarism.
                          AuthorDemy.com does not do plagiarism check and will not be of any help if the manuscript is
                          returned from journal based on plagiarism check.
                        </div>
                        <div>
                          <span class="SINO">C.</span> Please provide pictures and graphs with sufficient clarity.
                          Ensure that quality of the images is good and it is easy to read the legends and captions of
                          the axes of the graphs.
                        </div>
                        <div>
                          <span class="SINO">D.</span> Ensure that there is uniformity in the units used throughout the
                          manuscript. For example avoid using °C in one place and K in another place for temperature in
                          the same manuscript.
                          Please note the most of the journals encourage the use of SI units.
                        </div>
                        <div>
                          <span class="SINO">E.</span> If the authors are having a targeted journal in mind, ensure that
                          manuscript is well with in the limits for maximum number of words allowed,
                          maximum number of tables and figures permitted for the manuscript for that journal. Please
                          note that if peer reviewers recommend major modifications, them, then the revised manuscript
                          may exceed the limits specified for the journal. This may further delay the manuscript
                          submission.
                        </div>
                        <div>
                          <span class="SINO">F.</span> Make the list of references as per the requirements of the
                          journal. Please ensure that the listing of the authors and inclusion of the title of the paper
                          in the reference list are as
                          per the guidelines provided for the targeted journal.
                        </div>
                        <div>
                          <span class="SINO">G.</span> Ensure use of proper tense (past, present and future tenses) in
                          the manuscript. For example, literature survey and
                          experimental details can be in past tense; but the results presented in manuscript can be in
                          present tense.
                        </div>
                        <div>
                          <span class="SINO">H.</span> It would be good to ensure that the English Language used is
                          uniform throughout. Avoid mixing up
                          ‘American English’ and ‘UK English’. Depending on the journal and the publisher, it is better
                          to choose one of these and prepare the manuscript fully in that.
                        </div>
                        <div>
                          <span class="SINO">I.</span> Please be informed that authors have to upload ‘abstract’ in text
                          form and complete manuscript, including abstract in PDF format separately to AuthorDemy.com.
                          In the complete manuscript, it is strongly recommended to include figures and tables where
                          they are referred in the manuscript. Further Table and Figure captions shall accompany the
                          Tables and Figures respectively.
                          Avoid uploading manuscripts prepared with text first, then tables and figures and then figure
                          and table captions.
                        </div>
                        <div>
                          <span class="SINO">J.</span> It is recommended to prepare the PDF version
                          of the manuscript with at least one and half line spacing. It would help the reviewers to read
                          as well as to comment on the manuscript.
                        </div>
                        <div>
                          <span class="SINO">K.</span> It is recommended to include a list of symbols with their
                          description if the symbols used in the manuscript
                          are many. Please ensure that same symbol is not used for more than one parameter.
                        </div>
                        <div>
                          <span class="SINO">L.</span> Ensure that abbreviations are expanded first time when it appears
                          in the manuscript.
                        </div>
                        <div>
                          <span class="SINO">M.</span> It may be noted that peer-reviewer will not modify or correct
                          your manuscript. He/She would only comment on the manuscript and advise the authors how to
                          improve the manuscript. The peer-reviewer would be an expert in the broad area of the subject
                          of manuscript.
                        </div>
                        <div>
                          <span class="SINO">N.</span> Peer reviewer will not comment on the technical content of the
                          manuscript as this is an exhaustive work which needs to be done by the reviewer to whom the
                          editor of the journal would identify.
                        </div>
                        <div>
                          <span class="SINO">O.</span> AuthorDemy.com does not guarantee that the papers subjected to
                          peer-review would be accepted by the journals for publications. It only helps the authors to
                          improve the quality of the manuscript. This improvement along with the good technical content
                          of the manuscript can significantly improve the chances of publication.
                        </div>
                        <div>
                          <span class="SINO">P.</span> AuthorDemy.com does not expect authors to approach them again for
                          a second peer review of a manuscript already reviewed by AuthorDemy.com peer reviewer.
                          However, If authors feel that one more review is desirable, then authors can submit the
                          manuscript for a second revision with a subsidised cost, preferably with in 12 months of the
                          first peer-review.
                        </div>
                        <div>
                          <span class="SINO">Q.</span> As of now, information on peer reviewer would be confidential.
                          Authors shall not ask for who peer-reviewed their manuscript. Authors shall not approach the
                          possible peer reviewers directly based on the information available in the AuthorDemy.com
                          website.s
                        </div>
                        <div>
                          <span class="SINO">R.</span> Authors can log in to the website and find out the status of the
                          review. For any additional information or follow up, they can contact AuthorDemy.com in the
                          e-mail provided in the website. No other communication will be entertained when the manuscript
                          is in peer-review state.
                        </div>
                        <div>
                          <span class="SINO">S.</span> Once manuscript is submitted to AuthorDemy.com for peer review,
                          the task will be assigned to one of the peer reviewers already registered with AuthroDemy.com.
                          However, in case AuthorDemy.com fails to find a suitable peer reviewer, manuscript will be
                          returned (within seven days) and authors need not make any payment. When a peer-reviewer
                          accepts to carry out the review, the manuscript will be accepted for peer-review by
                          AuthorDemy.com and author need to make the payment for the peer review immediately to take up
                          the peer review without any further delay. Though some time may be lost in this process,
                          AuthorDemy.com shall make best efforts to complete the peer-review within one month of
                          submission of manuscript to AuthroDemy.com.
                        </div>
                        <div>
                          <span class="SINO">T.</span> In the unlikely event of AuthorDemy.com is not able to complete
                          the review with in 30 days of submission, extension of time for 15 more days would be sought
                          by AuthorDemy.com from the Author. If author is not ready for this extended time, money paid
                          by the author would be returned. If the author agrees for extension and AuthorDemy.com, still
                          fails to complete the review after 45 days of submission, authors will get back the money
                          paid. It may be noted that we do not expect this situation to arise.
                        </div>
                        <div>
                          <span class="SINO">U.</span> All communication of AuthorDemy.com will be with the
                          corresponding author identified while submitting the paper for review. We will not entertain
                          communication from others, including co-authors. In case one corresponding author wants
                          another author to replace him, he can communicate this to AuthorDemy.com and AuthorDemy.com
                          shall make these changes and inform both the present and old corresponding author
                          appropriately. It may be noted that only an author of the paper can become a corresponding
                          author. Persons who are not authors of the manuscript cannot become corresponding authors for
                          the manuscript.
                        </div>
                        <div>
                          <span class="SINO">V.</span> For any additional information, contact AuthorDemy.com in the
                          website provided
                        </div>
                        <div>
                          We at AuthorDemy.com expect to meet the expectation of all the authors who approach us for
                          peer-review. We wish all the authors that their manuscript modified as per the comments from
                          AuthorDemy.com shall be accepted in the targeted journals. We hope, with this initiative,
                          there would be a significant improvement in the quality of the paper being submitted and
                          increase in number of the manuscripts being accepted for publications, leading to improved
                          confidence among the researchers on their abilities to prepare good manuscripts for
                          publications.
                        </div>
                        <div>
                          AuthorDemy.com
                        </div>
                      </div>
                      <div *ngIf="termscheck" (click)="termsOpen()" class="terms">{{defultMoreText}}</div>
                    </div>
                    <div class="confirmClr my-2 font-weight-bold bggrey" *ngIf="cartDetails.itemTotal > 0">
                      <span class="price-tag">Total Payment</span><br>
                      <span class="price"><i class="fa fa-inr"></i>{{cartDetails.itemTotal}}</span>
                    </div>
                    <br>
                    <form>
                      <div class="form-check text-danger d-flex mgn-up-10">
                        <label class="container1">I have read and understood all the instructions
                          <input type="checkbox" (click)="terms_check()">
                          <span class="mark"></span>
                        </label>
                      </div>
                    </form>

                  </div>
                </div>
                <!--
                <span class="mgn-up-20" *ngIf="!image_list_popup && this.orderType === 'SHOPPINGLIST'"
                  (click)="uploadShoppingList()">
                  <a class="uploadshoppinglist-btn">Upload Shopping List</a>
                </span> -->
                <div class="bill-section" *ngIf="this.orderType !== 'SHOPPINGLIST'">
                  <div class="bill-section-content">
                    <div class="bill-wrapper ">
                      <div class="bill-content">
                        <div class="section-three">
                          <!-- <div class="bill-breakup">
                            <div class="list border">
                              <div class="list-content head_labels">
                                <div class="copy one">
                                  <div class="col-a col-b cd-b">
                                    <div>
                                      <div class="">
                                        <div class="c-row one width-100">
                                          <div class="name cart-flex">
                                            <span style="font-weight: 400;">Product</span>
                                          </div>
                                          <div class="quantity">Qty</div>
                                          <div *ngIf="catalog_details.showPrice" class="price rupee-font">Price</div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="list-content" style="text-align: left;"
                                *ngFor="let item of cartDetails.orderItems; let i = index">
                                <div class="copy one">
                                  <div class="col-a col-b cd-b">
                                    <div class="mgn-up-10">
                                      <div class="">
                                        <div class="c-row one width-100">
                                          <div class="name cart-flex">
                                            <i class="fa fa-stop-circle"></i>
                                            <span class="item-name">{{item.name}}</span>
                                          </div>
                                          <div class="quantity item-qty">{{item.quantity}}</div>
                                          <div *ngIf="catalog_details.showPrice" class="price rupee-font">
                                            {{item.totalPrice | currency:'&#8377;'}}</div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="snd_msg_outer">
                                <textarea placeholder="Any notes? Write here..." class="txtArea"
                                  [(ngModel)]="orderNote"></textarea>
                              </div>
                              <div class="order-label"
                                *ngIf="(s3CouponsList.JC.length > 0 ||s3CouponsList.OWN.length > 0)">
                                <a (click)="applyPromocode()" *ngIf="selected_coupons.length === 0">Apply Promo Code</a>
                                <a *ngIf="selected_coupons.length > 0" (click)="applyPromocode()">Promo code
                                  {{selected_coupons.toString()}} added.</a>
                              </div>
                              <div *ngIf="selected_coupons.length > 0" style="text-align: initial;">
                                <div *ngFor="let coupon of cartDetails.jCouponList | keyvalue">
                                  <small class="black" *ngIf="coupon.value.value === '0.0'">{{coupon.key}} will be
                                    honored if all the rules are met </small>&nbsp;<small
                                    *ngIf="coupon.value.value === '0.0'" class="blue custId-cursor"
                                    (click)="showJCCouponNote(coupon)" aria-hidden="true">Know more</small>
                                </div>
                                <div *ngFor="let coupon of cartDetails.proCouponList | keyvalue">
                                  <small class="black" *ngIf="coupon.value.value === '0.0'">{{coupon.key}} will be
                                    honored if all the rules are met </small>&nbsp;<small
                                    *ngIf="coupon.value.value === '0.0'" class="blue custId-cursor"
                                    (click)="showJCCouponNote(coupon)" aria-hidden="true">Know more</small>
                                </div>
                              </div>
                            </div>
                          </div> -->
                          <!-- <div class="" *ngIf="catalog_details.showPrice">
                            <div class="bill-details-txt">
                              Bill Details
                            </div>
                            <div class="amount-table">
                              <div class="">
                                <div class="disp-flex width-100 amount-details to-pay mgn-up-20">
                                  <div class="bill-labels">TO PAY</div>
                                  <div class="price rupee-font">{{cartDetails.netTotal| currency:'&#8377;'}}</div>
                                </div>
                                <span *ngIf="cartDetails.advanceAmount >0" style="font-size: small;color: red;"><i
                                    class="fa fa-info-circle " aria-hidden="true"></i>An advance of <span
                                    class="rupee-font">{{getAmountToPay(cartDetails) | currency:'&#8377;'}}
                                  </span>required</span>
                                <div *ngIf="cartDetails.advanceAmount">
                                  <div *ngIf="jcashamount>0" class="jaldeecredit">
                                    <mat-checkbox [(ngModel)]="checkJcash" (change)='OnChangeJcash($event)'>
                                    </mat-checkbox>
                                    Use Jaldee cash balance : Rs{{jcashamount}}
                                  </div>
                                  <div *ngIf="jcashamount>0  && (checkJcash && jcashamount < cartDetails.advanceAmount)"
                                    class="hint">
                                    Balance amount can be paid by other payment methods
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div> -->
                          <!-- <div class="" *ngIf="!catalog_details.showPrice && orderType !== 'SHOPPINGLIST'">
                            <div class="bill-details-txt">
                            </div>
                            <div class="amount-table">
                              <div class="">
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.taxAmount">
                                  <div class="bill-labels">Total Tax </div>
                                  <div class="price rupee-font">{{cartDetails.taxAmount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details"
                                  *ngIf="cartDetails.jaldeeCouponDiscount">
                                  <div class="bill-labels">Coupon Discount <span
                                      *ngIf="couponlist.length > 0">({{couponlist}})</span></div>
                                  <div class="price rupee-font">
                                    {{cartDetails.jaldeeCouponDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details"
                                  *ngIf="cartDetails.providerCouponDiscount">
                                  <div class="bill-labels">Provider Discount <span
                                      *ngIf="pcouponlist.length > 0">({{pcouponlist}})</span></div>
                                  <div class="price rupee-font">
                                    {{cartDetails.providerCouponDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.jdnDiscount">
                                  <div class="bill-labels">JDN Discount </div>
                                  <div class="price rupee-font">{{cartDetails.jdnDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.totalDiscount">
                                  <div class="bill-labels">Total Discount </div>
                                  <div class="price rupee-font">{{cartDetails.totalDiscount | currency:'&#8377;'}}</div>
                                </div>
                                <div class="disp-flex width-100 amount-details" *ngIf="cartDetails.deliveryCharge">
                                  <div class="bill-labels">Delivery Charges </div>
                                  <div class="price rupee-font">{{cartDetails.deliveryCharge | currency:'&#8377;'}}
                                  </div>
                                </div>
                                <div class="hr-line-pitch-blk mgn-up-20"></div>
                                <span *ngIf="cartDetails.advanceAmount" style="font-size: small;color: red;"><i
                                    class="fa fa-info-circle " aria-hidden="true"></i>An advance of <span
                                    class="rupee-font">{{cartDetails.advanceAmount | currency:'&#8377;'}}
                                  </span>required</span>
                                <div *ngIf="cartDetails.advanceAmount">


                                  <div *ngIf="jcashamount>0">
                                    <mat-checkbox [(ngModel)]="checkJcash"></mat-checkbox>
                                    Use Jaldee cash balance : Rs{{jcashamount}}
                                  </div>
                                  <div *ngIf="jcashamount>0  && (checkJcash && jcashamount < cartDetails.advanceAmount)"
                                    class="hint">
                                    Balance amount can be paid by other payment methods
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div> -->
                        </div>
                      </div>
                      <div class="paymentdiv no-padding"
                        *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                        <!-- <p class="jaldeecredit">
                          To pay Rs {{checkJcash ? totalamountPay : cartDetails.advanceAmount}} please select any
                          payment options
                        </p> -->
                        <div *ngIf=" ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))"
                          class="payment-mode-card-styles">
                          <ng-container *ngIf="!shownonIndianModes">
                            <app-payment-modes [paymentModes]="indian_payment_modes"
                              (modeSelected)="indian_payment_mode_onchange($event)">
                            </app-payment-modes>
                          </ng-container>
                          <ng-container *ngIf="shownonIndianModes">
                            <app-payment-modes [paymentModes]="non_indian_modes"
                              (modeSelected)="non_indian_modes_onchange($event)">
                            </app-payment-modes>
                          </ng-container>
                          <div class="clearfix"></div>
                        </div>
                      </div>
                      <div class="txt-align-center mgn-up-10"
                        *ngIf="paymentmodes.internationalPay  && cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                        <span (click)="togglepaymentMode()" class="pointer-cursor"><a class="refund_policy">
                            <span *ngIf="!shownonIndianModes && paymentmodes.internationalPay">Non Indian Payment ?
                              Click
                              here</span>
                            <span *ngIf="shownonIndianModes && paymentmodes.indiaPay">Indian Payment ? Click
                              here</span>
                          </a></span>
                      </div>
                      <div class="txt-align-center mgn-up-10">
                        <button type="button" class="submit-paper-btn font-weight-bold text-uppercase "
                          [class.disabled]="isClickedOnce" [disabled]="!termscheck"
                          *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))"
                          (click)="!isClickedOnce && confirm()">
                          Make Payment
                        </button>
                        <!-- <div>hh</div> -->

                      </div>
                      <div class="cancelpolicy mgn-rt-5 txt-align-center mgn-up-10">
                        <!-- *ngIf="paymentDetails && paymentDetails.amountRequiredNow > 0" -->
                        <div class="pad_policy" *ngIf="cartDetails.advanceAmount > 0">
                          <!-- *ngIf="paymentLength>0 && paymentDetails && paymentDetails.amountRequiredNow > 0" -->
                          <a data-toggle="modal" data-target="#exampleModal" class="refund_policy">Cancellation
                            Policy</a>
                        </div>
                      </div>
                      <!-- modalbox -->
                      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <app-refundpolicy></app-refundpolicy>
                      </div>

                      <br>
                      <div
                        *ngIf="cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount > cartDetails.advanceAmount) || (checkJcash && jcashamount == cartDetails.advanceAmount))">
                        <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                          [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp;→
                        </button>
                      </div>
                      <div *ngIf="cartDetails.advanceAmount == 0 || !cartDetails.advanceAmount">
                        <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                          [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp;→
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngIf="image_list_popup && this.orderType === 'SHOPPINGLIST'">
                  <ul class="shoppinglist-gal">
                    <ng-container *ngFor="let file of image_list_popup;let i = index">
                      <li *ngIf="i<2" class="shoppinglist-li">
                        <div class="shoppinglistbx">
                          <div class="shoppinglistimg-h" (click)="openImageModalRow(file)">
                            <div class="shoppinglistoverlay-y"></div><img class="shoppinglistimg" [src]="file.modal.img"
                              *ngIf="file.modal.img" />
                          </div>
                        </div>
                      </li>
                    </ng-container>
                    <li *ngIf="image_list_popup.length>2" class="shoppinglist-li">
                      <div class="shoppinglistbx">
                        <span class="shoppinglistmre" (click)="openImageModalRow(image_list_popup[2])"
                          *ngIf="(image_list_popup.length-3)>0">+{{(image_list_popup.length-3)}}</span>
                        <div class="shoppinglistimg-h" *ngIf="(image_list_popup.length-3)>0"><img
                            class="shoppinglistimg" *ngIf="image_list_popup[2].modal.img"
                            [src]="image_list_popup[2].modal.img" /></div>
                        <div class="shoppinglistimg-h" (click)="openImageModalRow(image_list_popup[2])"
                          *ngIf="(image_list_popup.length-3)==0">
                          <div class="shoppinglistoverlay-y"></div><img class="shoppinglistimg"
                            *ngIf="image_list_popup[2].modal.img" [src]="image_list_popup[2].modal.img" />
                        </div>
                      </div>
                    </li>
                  </ul>
                  <a class="pointerlist" (click)="editshoppinglist()">Update</a>
                  <div class="snd_msg_outer">
                    <textarea placeholder="Any notes? Write here..." class="txtArea"
                      [(ngModel)]="orderlistNote"></textarea>
                  </div>
                  <div class="order-label mgn-up-10 mgn-bt-10"
                    *ngIf="(s3CouponsList.JC.length > 0 ||s3CouponsList.OWN.length > 0)"><a (click)="applyPromocode()"
                      *ngIf="selected_coupons.length === 0">Apply Promo Code</a>
                    <a *ngIf="selected_coupons.length > 0" (click)="applyPromocode()">
                      Promo code {{selected_coupons.toString()}} added,will be applicable in the final bill. <br>
                      <u>Add more</u></a>
                  </div>
                  <span class="form-level-settings"
                    *ngIf="choose_type === 'home' && catalog_details.homeDelivery.deliveryCharge"> Delivery charge
                    &#x20B9;{{getDeliveryCharges()}} will added to the bill.</span>
                  <ks-modal-gallery [id]="0" [modalImages]="image_list_popup"
                    [plainGalleryConfig]="customPlainGalleryRowConfig" [buttonsConfig]="customButtonsFontAwesomeConfig"
                    (buttonBeforeHook)="onButtonBeforeHook($event)" (buttonAfterHook)="onButtonAfterHook()">
                  </ks-modal-gallery>
                  <div>
                    <span *ngIf="cartDetails.advanceAmount >0" style="font-size: small;color: red;"><i
                        class="fa fa-info-circle " aria-hidden="true"></i>An advance of <span
                        class="rupee-font">{{getAmountToPay(catalog_details) | currency:'&#8377;'}}
                      </span>required</span>
                  </div>
                  <div *ngIf="jcashamount>0" class="jaldeecredit">
                    <mat-checkbox [(ngModel)]="checkJcash"></mat-checkbox>
                    Use Jaldee cash balance : Rs{{jcashamount}}
                  </div>
                  <div *ngIf="jcashamount>0  && (checkJcash && jcashamount < cartDetails.advanceAmount)" class="hint">
                    Balance amount can be paid by other payment methods
                  </div>
                  <div class="paymentdiv"
                    *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                    <p class="jaldeecredit">
                      To pay Rs {{checkJcash ? totalamountPay : cartDetails.advanceAmount}} please select any payment
                      options
                    </p>
                  </div>
                  <div class="clearfix"></div>
                  <ng-container
                    *ngIf="!shownonIndianModes && ((checkJcash && jcashamount < cartDetails.advanceAmount)) ">
                    <app-payment-modes [paymentModes]="indian_payment_modes"
                      (modeSelected)="indian_payment_mode_onchange($event)">
                    </app-payment-modes>
                  </ng-container>
                  <ng-container *ngIf="shownonIndianModes && ((checkJcash && jcashamount < cartDetails.advanceAmount))">
                    <app-payment-modes [paymentModes]="non_indian_modes"
                      (modeSelected)="non_indian_modes_onchange($event)">
                    </app-payment-modes>
                  </ng-container>

                  <!-- <div *ngFor="let modes of indian_payment_modes">
                      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <div class="text-primary payment-mode-card-styles">
                          <mat-radio-group class="paymentmode card shadow-lg" name="paymentMode"
                            (change)="indian_payment_mode_onchange($event)" labelPosition="before">
                            <mat-radio-button [value]="modes.mode">
                              <div class="d-flex justify-content-sm-around">
                                <div class="col-md-6 col-lg-6 my-auto"><span
                                    style="font-size: 10px;">{{modes.modeDisplayName}}</span></div>
                                <div class="col-md-6 col-lg-6 my-auto"><img class="ordericon pickup pic_size"
                                    [src]="getImageSrc(modes.mode)"></div>
                              </div>
                            </mat-radio-button>
                          </mat-radio-group>
                        </div>
                      </div>
                    </div> -->

                  <!-- <ng-container >
                    <div *ngFor="let modes of non_indian_modes">
                      <div class="col-xs-12 col-sm-6 col-md-12 col-lg-12">
                        <div class="text-primary payment-mode-card-styles">
                          <mat-radio-group class="paymentmode card shadow-lg" name="paymentMode"
                            (change)="non_indian_modes_onchange($event)">
                            <mat-radio-button [value]="modes.mode">
                              <div class="d-flex justify-content-around">
                                <div class="col-md-6 col-lg-6 my-auto"><span
                                    style="font-size: 10px;">{{modes.modeDisplayName}}</span></div>
                                <div class="col-md-6 col-lg-6 my-auto"><img class="ordericon pickup pic_size"
                                    [src]="getImageSrc(modes.mode)"></div>
                              </div>
                            </mat-radio-button>
                          </mat-radio-group>
                        </div>
                      </div>
                    </div>
                  </ng-container> -->
                  <div class="clearfix"></div>
                  <div class="txt-align-center mgn-up-20"
                    *ngIf="paymentmodes && paymentmodes.internationalPay  && cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))">
                    <span (click)="togglepaymentMode()" class="pointer-cursor"><a class="refund_policy">
                        <span *ngIf="!shownonIndianModes && paymentmodes && paymentmodes.internationalPay">Non Indian
                          Payment ? Click
                          here</span>
                        <span *ngIf="shownonIndianModes && paymentmodes && paymentmodes.indiaPay">Indian Payment ? Click
                          here</span>
                      </a></span>
                  </div>
                  <div class="txt-align-center mgn-up-10">
                    <button type="button" class=" next-button btn btn-primary font-weight-bold text-uppercase "
                      [class.disabled]="isClickedOnce"
                      *ngIf=" cartDetails.advanceAmount > 0 && ((checkJcash && jcashamount < cartDetails.advanceAmount) || (!checkJcash))"
                      (click)="!isClickedOnce && confirm()">
                      MaKe Payment
                    </button>

                  </div>
                  <br>
                  <div
                    *ngIf="selectedImagelist.files.length > 0 && cartDetails.advanceAmount > 0 &&  ((checkJcash && jcashamount > cartDetails.advanceAmount) || (checkJcash && jcashamount == cartDetails.advanceAmount))">
                    <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                      [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp;→
                    </button>
                  </div>
                  <div
                    *ngIf="selectedImagelist.files.length > 0 && (cartDetails.advanceAmount == 0 || !cartDetails.advanceAmount)">
                    <button mat-flat-button [class.disabled]="isClickedOnce" (click)="!isClickedOnce && confirm()"
                      [disabled]="checkoutDisabled || !isfutureAvailableTime" class="chekout-btn">CHECKOUT &nbsp;→
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="panel-body no-padding">
              <div class="col-md-12 col-xs-12 col-sm-12 no-padding">
                <div class="card p0">
                  <div class="copy locd">
                    <div class="lbl col-md-12 col-lg-12 col-xs-12 col-sm-12 no-padding notes"
                      *ngIf="action=='timeChange'">
                      <div class="col-md-12 col-xs-12 col-sm-12 mgn-lt-10">
                        <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-bt-5 mgn-up-10">
                          Choose
                          Date</div>
                        <div class="pull-left brd-round brd-light mgn-up-20">
                          <div class="icon-minus pull-left" (click)="calculateDate(-1)">
                          </div>
                          <div class="pull-left chkindt">{{sel_checkindate | date: dateFormat}}</div>
                          <div class="icon-add pull-left" (click)="calculateDate(1)"></div>
                        </div>
                        <div class="pickerouter caldiv pull-left mgn-up-20">
                          <mat-datepicker-toggle matSuffix [for]="picker">
                          </mat-datepicker-toggle>
                          <mat-datepicker #picker [dateClass]="dateClass.bind(this)"></mat-datepicker>
                          <input class="" style="visibility: hidden; width:1px" type="text" [matDatepicker]="picker"
                            [min]="minDate" [max]="maxDate" [value]="ddate"
                            (dateChange)="handleFutureDateChange($event)">
                        </div>
                      </div>
                      <div class="col-md-12 col-xs-12 col-sm-12 mgn-lt-10">
                        <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-up-20 mgn-bt-20"
                          *ngIf="delivery_type === 'home'">Delivery
                          Timings </div>
                        <div class="col-md-12 col-xs-12 col-sm-12 no-padding lnk mgn-up-20 mgn-bt-20"
                          *ngIf="delivery_type === 'store'"> Store Pickup
                          Timings </div>
                        <div class="col-md-12 col-xs-12 col-sm-12 slotdiv no-padding mgn-up-20">
                          <div class="col-md-6 col-xs-12 col-sm-8 form-group" *ngIf="isfutureAvailableTime">
                            <mat-chip-list class="">
                              <mat-chip *ngFor="let queue of nextAvailableTimeQueue, let i= index"
                                (click)="handleQueueSelection(queue, i)">
                                {{queue['sTime'] + ' - ' +
                                queue['eTime']}}
                              </mat-chip>
                            </mat-chip-list>
                          </div>
                          <div *ngIf="!isfutureAvailableTime">
                            <p>No timings are available</p>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-12 col-xs-12 col-sm-12 mgn-bt-20 mgn-up-20 mgn-lt-5">
                        <button (click)="goBackToCheckout(futureAvailableTime ,queue)"
                          [disabled]="!isfutureAvailableTime" class="btn bt3 btn-default coupon-apply-btn"
                          type="button">Ok</button>
                      </div>
                    </div>
                    <div class="lbl col-md-12 col-lg-12 col-xs-12 col-sm-12 no-padding notes" *ngIf="action=='coupons'">
                      <div class="col-md-12 col-xs-12 col-sm-12 lnk mgn-up-20">Apply promocode</div>
                      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 mgn-up-20">
                        <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding" *ngIf="showCouponWB">
                          <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 form-level-settings applybill no-padding">
                            <i class="icon-bell"></i>{{applied_inbilltime}}
                          </div>
                          <div class="col-md-4 col-lg-3 col-sm-6 col-xs-8 no-padding">
                            <div class="input-group">
                              <input [ngClass]="{'invalid':!couponvalid}" (keydown)="clearCouponErrors()"
                                placeholder="Enter coupon code" type="text" class="form-control"
                                [(ngModel)]="selected_coupon">
                              <span class="input-group-btn">
                                <button class="btn bt3 btn-default coupon-apply-btn"
                                  (click)="applyCoupons(selected_coupon)" type="button">Add</button>
                              </span>
                            </div>
                          </div>
                          <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding" style="color: red;"
                            *ngIf="api_cp_error !== null">
                            {{api_cp_error}}</div>
                          <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 no-padding mgn-up-10 mgn-bt-20">
                          </div>
                        </div>
                        <div class="col-md-12 col-sm-12 col-lg-12 col-12 mgn-up-20 mgn-bt-30 border-tp pad-up-10"
                          *ngIf="couponsList && couponsList.length>0">
                          <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding"
                            *ngFor="let coupon of couponsList let i=index">
                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 no-padding coupon-add-msg">
                              <div class="col-md-5 col-sm-7 col-xs-7 col-lg-4 no-padding">
                                {{coupon.couponCode}} </div>
                              <div class="col-md-7 col-sm-5 col-xs-5 col-lg-8 delteTC">
                                <span><a *ngIf="coupon.instructions" (click)="toggleterms(i)"
                                    class="pointer-cursor lnk read-more-checkin">Read
                                    T & C </a></span>
                                <span><a class="pointer-cursor lnk"><i class="pointer-cursor icon-delete mgn-lt-10 lnk"
                                      (click)="removeJCoupon(i)" [matTooltipClass]="tooltipcls"
                                      [matTooltip]="'Remove Coupon'"></i></a></span>
                              </div>
                            </div>
                            <div class="col-md-12 col-sm-12 col-lg-12 col-xs-12 mgn-up-10 pre-instr no-padding"
                              *ngIf="coupon.showme">
                              {{coupon.instructions}}
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 coupon-outer" *ngIf="coupon_status">
                        <div class="form-group">
                          <span *ngIf="coupon_status=='success'" class="coupon_success">Coupon Code(s)
                            applied
                            successfully</span>
                          <span *ngIf="coupon_status=='error'" class="coupon-error">Coupon Code(s) not
                            valid</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="clearfix"></div>
  </div>
</section>
