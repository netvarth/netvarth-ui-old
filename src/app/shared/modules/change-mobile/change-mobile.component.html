<!-- <section [ngClass]="{'container': curtype=='consumer'}">
  <app-breadcrumb [breadcrumbs]="breadcrumbs"></app-breadcrumb>
</section> -->
<section class="container no-padding no-padding-small" *ngIf="curtype=='consumer'">
  <div class="content p0 see-pages cons-members">
    <div class="panel panel-default">
      <div class="panel-heading top-row ">        
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 no-padding">
          <app-header *ngIf="shared_functions.checkLogin()"></app-header>
        </div>
      </div>
      <div class="panel-body no-padding">
        <div class="card title-gb">
          <h5 class="mgn-up-10">{{mobile_cap}} <a class="pull-left mgn-rt-20 back-btn" (click)="goBack()"><i class="fa fa-arrow-left"></i></a></h5>
        </div>
        <div class="related-links">
            
          <div class="outer-card">
         
            <div class="card">
              <div *ngIf="step==1" class="change-phone-div">
                <form [formGroup]="spForm" novalidate (ngSubmit)="spForm.valid && onSubmit(spForm.value)"
                  (keyup)="resetApiErrors()" class="form">
                  <div  class="col-md-12 mr-2">
                      <ul class="info-lst serviceadd-info">
                              <li> <a >The new mobile number will be updated as the login mobile number too.</a>
                              </li>
                             
                      </ul>
                    </div>
                  <div class="form-group phonenumber">
                    <label for="phonenumber">{{your_curmob_msg}} <b>{{currentcountryCode}} {{prev_phonenumber}}</b> </label>
                  </div>
                  <!-- <div class="form-group col-lg-6">
                  
                    <div class="input-group">
                      <div class="input-group-prepend"><span class="input-group-text1"><i style="font-style: normal;font-size: small;">{{mob_prefix_cap}}</i></span></div>
                      <input type="text" class="form-control" (keypress)="isNumeric($event)" id="phonenumber" placeholder="Enter New Mobile #" formControlName="phonenumber"
                      autocomplete="off" ngModel maxlength="10"/>
                  </div>
                    <app-field-error-display [displayError]="fed_service.isFieldValid(spForm,'phonenumber')"
                      [errorMsgs]="fed_service.getErrorMessage(spForm,'phonenumber',
                {
                  'required' : 'Mobile number is required',
                  'minlength' : 'Enter a 10 digit mobile number',
                  'maxlength' : 'Enter a 10 digit mobile number',
                  'pattern' : 'Only numbers are allowed'
                })">
                    </app-field-error-display>
                  </div> -->
                  <div class="codenumber col-md-8">
                    <input
                        class="width100 height40 email-border code-field pull-right"
                        id="countryCode" placeholder=""
                        name="countryCode"  formControlName="countryCode"
                        autocomplete="off" (keypress)="isNumericSign($event)">
                    <input
                        class="width100 height40 email-border input-field pull-right"
                        id="newPhone" placeholder="" name="newPhone"
                        formControlName="phonenumber" autocomplete="off" (keypress)="isNumeric($event)" maxlength="10" formc>
                </div>
                <br>
                <div class="col-md-12 mgn-up-10">
                  <button type="submit" mat-button
                    [disabled]="(spForm.controls['phonenumber'].value === prev_phonenumber) || !spForm.valid">{{save_btn_cap}}</button>
                  </div> 
                  </form>
              </div>
         

              <div class="example-container otpouter" *ngIf="step==2">
                <app-otp-form [type]="'change-mobile'" [submitdata]="submit_data"
                  (retonOtpSubmit)="onOtpSubmit($event)" (resetApiErrors)="resetApiErrors()"
                  (resendOtp)="resendOtp($event)"></app-otp-form>
              </div>

              <app-field-error-display [displayError]="true" *ngIf="api_error" errorMsg="{{api_error}}">
              </app-field-error-display>

              <app-form-success-display [displayMsg]="true" *ngIf="api_success" successMsg="{{api_success}}">
              </app-form-success-display>
            </div>
            <div class="right-menu">
              <div class="right-menu-header">{{related_links_cap}}</div>
              <ul class="related-link">
                <li (click)="shared_functions.redirectto('profile')" class="icon-profile">{{user_profile_cap}}</li>
                <li (click)="shared_functions.redirectto('change-password')" class="icon-password">{{change_pass_cap}}
                </li>
                <li (click)="shared_functions.redirectto('members')" class="icon-members" *ngIf="curtype=='consumer'">
                  {{family_members_cap}}</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section *ngIf="curtype!='consumer'">
  <div class="card title-gb">
    <h5 class="mgn-up-10">
      <span class="fa fa-arrow-left pointer-cursor"
        (click)="redirecToSettings()"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Change Mobile #
    </h5>
  </div>
  <div class="content see-pages mgn-up-10">
    <div class="related-links">
      <div class="outer-card">        
        <div class="card">
          <div *ngIf="step==1" class="change-phone-div">
            <form [formGroup]="spForm" novalidate (ngSubmit)="spForm.valid && onSubmit(spForm.value)"
              (keyup)="resetApiErrors()" class="ynw-common-form-nm change-mob-style">
              <div  class="col-md-12 mr-2">
                <ul class="info-lst serviceadd-info">
                        <li> <a >The new mobile number will be updated as the login mobile number too.</a>
                        </li>
                       
                </ul>
              </div>
              <div class="form-group phonenumber">
                <label for="phonenumber">{{your_curmob_msg}} <b>{{currentcountryCode}} {{prev_phonenumber}}</b> </label>
              </div>
              <!-- <div class="form-group col-lg-6">
                 <mat-form-field>
                  <div class="input-group">
                    <div class="input-group-prepend mob-prefix">
                      <span class="input-group-text" id="">{{mob_prefix_cap}}</span>
                    </div>
                    <input type="text" (keypress)="isNumeric($event)" matInput class="form-control text-width"
                      id="phonenumber" placeholder="Enter New Mobile #" formControlName="phonenumber" autocomplete="off"
                      ngModel maxlength="10">
                  </div>
                </mat-form-field> 
                <div class="input-group">
                  <div class="input-group-prepend"><span class="input-group-text1"><i style="font-style: normal;font-size: small;">{{mob_prefix_cap}}</i></span></div>
                  <input type="text" class="form-control" (keypress)="isNumeric($event)" id="phonenumber" placeholder="Enter New Mobile #" formControlName="phonenumber" autocomplete="off"
                  ngModel maxlength="10"/>
              </div>
                <app-field-error-display [displayError]="fed_service.isFieldValid(spForm,'phonenumber')" [errorMsgs]="fed_service.getErrorMessage(spForm,'phonenumber',
                {
                  'required' : 'Mobile number is required',
                  'minlength' : 'Enter a 10 digit mobile number',
                  'maxlength' : 'Enter a 10 digit mobile number',
                  'pattern' : 'Only numbers are allowed'
                })">
                </app-field-error-display>
              </div> -->
              <div class="codenumber">
                <input
                    class="width100 height40 email-border code-field pull-right"
                    id="countryCode" placeholder=""
                    name="countryCode"  formControlName="countryCode"
                    autocomplete="off">
                <input
                    class="width100 height40 email-border input-field pull-right"
                    id="newPhone" placeholder="" name="newPhone"
                    formControlName="phonenumber" autocomplete="off" (keypress)="isNumeric($event)" maxlength="10" formc>
            </div>
              <button type="submit" mat-button
                [disabled]="(spForm.controls['phonenumber'].value === prev_phonenumber) || !spForm.valid">{{save_btn_cap}}</button>
            </form>
          </div>

          <div class="example-container otpouter" *ngIf="step==2">
            <app-otp-form [type]="'change-mobile'" [submitdata]="submit_data" (retonOtpSubmit)="onOtpSubmit($event)"
              (resetApiErrors)="resetApiErrors()" (resendOtp)="resendOtp($event)"></app-otp-form>
          </div>

          <app-field-error-display [displayError]="true" *ngIf="api_error" errorMsg="{{api_error}}">
          </app-field-error-display>

          <app-form-success-display [displayMsg]="true" *ngIf="api_success" successMsg="{{api_success}}">
          </app-form-success-display>
        </div>
        <div class="right-menu">
          <div class="right-menu-header">{{related_links_cap}}</div>
          <ul class="related-link">
            <li (click)="shared_functions.redirectto('profile')" class="no-padding"><i class="fa fa-gears mgn-rt-10"></i> Account Settings</li>
            <li (click)="shared_functions.redirectto('change-password')" class="icon-password">{{change_pass_cap}}</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>