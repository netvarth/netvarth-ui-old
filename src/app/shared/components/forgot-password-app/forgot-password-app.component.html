<div class="login-wrap">
  <div class="d-flex">
    <div class="w-100">
      <h3 class="mb-4"> <span class="fa fa-arrow-left pointer-cursor mgn-rt-20" (click)="cancelForgotPassword()"></span>
        Forgot Password
      </h3>
    </div>
  </div>
  <div *ngIf="step==2 && setMessage()" class="mgn-up-50">
    {{setMessage()}}
  </div>
  <div class="example-container mgn-up-100" *ngIf="step==1">
    <form [formGroup]="fpForm" novalidate (ngSubmit)="fpForm.valid &&
  onPhoneSubmit(fpForm.value)" class="" (keyup)="resetApiErrors()">
      <div class="form-group">
        <div class="input-group">
          <div class="input-group-prepend code-box">
            <span class="">{{mob_prefix_cap}}</span>
          </div>
          <input #phonenumber type="text" (keypress)="isNumeric($event)" class="form-control"
            placeholder="Enter your 10 digit Mobile number" tabindex="0" [formControl]="fpForm.controls['phonenumber']"
            maxlength=10 autocomplete="off">
        </div>
        <app-field-error-display [displayError]="fed_service.isFieldValid(fpForm,'phonenumber')" [errorMsgs]="fed_service.getErrorMessage(fpForm,'phonenumber',
    {
      'required' : 'Mobile number is required',
      'minlength' : 'Enter a 10 digit mobile number',
      'maxlength' : 'Enter a 10 digit mobile number',
      'pattern' : 'Only numbers are allowed'
    })">
        </app-field-error-display>
      </div>
      <div class="form-group mgn-bt-10">
        <button type="submit" class="form-control btn btn-primary" [disabled]="!fpForm.valid">{{ok_btn_cap}}</button>
      </div>
    </form>
  </div>
  <div class="example-container otpouter mgn-up-20" *ngIf="step==2">
    <app-otp-form-app [type]="'forgot_password'" [submitdata]="submit_data" (retonOtpSubmit)="onOtpSubmit($event)"
      (resetApiErrors)="resetApiErrors()" (resendOtp)="resendOtp($event)"></app-otp-form-app>
  </div>
  <div class="example-container mgn-up-100" *ngIf="step==3">
    <app-set-password-app [type]="'forgot_password'" (onCancelBtn)="cancelForgotPassword()"
      (retonPasswordSubmit)="onPasswordSubmit($event)" (resetApiErrors)="resetApiErrors()"></app-set-password-app>
  </div>
  <div *ngIf="api_error">
    <app-field-error-display [displayError]="true" errorMsg="{{api_error}}"></app-field-error-display>
  </div>
  <app-form-success-display [displayMsg]="true" *ngIf="api_success" successMsg="{{api_success}}">
  </app-form-success-display>
</div>