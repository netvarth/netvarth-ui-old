<app-header *ngIf="showsearchsection && obtainedRefined" [headerTitle]="'Header'"
   ></app-header>
     <app-search-form *ngIf="showsearchsection && obtainedRefined" (searchclick)="handlesearchClick($event)" [passedDomain]="domain" [passedkwdet]="kwdet"
   [passedRefine]="searchcommononlyrefine_arr"></app-search-form> 
<section class="content">
    <div class="container">
        <div class="row">
            <div class="status-bar"
                *ngIf="searchrefine_arr.length>0 && arraycreatedfromquerystring && additionalRefineCondition()">
                <div class="ct1">
                    <span>
                        <i class="icon-filter-one" style="font-size: x-large" (click)="togger_refinesection()"
                            [matTooltipClass]="tooltipcls" [matTooltip]="refTooltip"></i>
                        <span></span>
                        <span></span>
                        <span></span>
                    </span>
                    <span class="ttle" *ngIf="showrefinedsection">{{refine_search_cap}}</span>
                </div>
            </div>
            <div class="c-outer">
                <div class="sidebar-overlay" *ngIf="showrefinedsection && additionalRefineCondition()"
                    (click)="togger_refinesection()"></div>
                <div class="sidebar" [class.show]="showrefinedsection"
                    *ngIf="showrefinedsection && additionalRefineCondition()">
                    <div class="rs-box">
                        <div *ngIf="searchrefine_arr.length>0 && arraycreatedfromquerystring">
                            <div class="bx-block" *ngIf="domainlist_data && (domain =='' || domain =='All')">
                                <mat-accordion>
                                    <mat-expansion-panel [expanded]="true">
                                        <mat-expansion-panel-header [collapsedHeight]="'50px'"
                                            [expandedHeight]="'50px'">
                                            <mat-panel-title>
                                                <span class="refine-head">{{select_domain_cap}} </span>
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <mat-form-field>
                                            <div>
                                                <mat-select placeholder="" [(ngModel)]="refined_domain" #refineddomain
                                                    (selectionChange)="handlerefineddomainchange(refineddomain.value)">
                                                    <mat-option value="">{{select_cap}}</mat-option>
                                                    <mat-option *ngFor="let domain of domainlist_data"
                                                        [value]="domain.domain">
                                                        {{ domain.displayName }}
                                                    </mat-option>
                                                </mat-select>
                                            </div>
                                        </mat-form-field>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </div>
                            <div class="bx-block"
                                *ngIf="subdomainlist_data && (subsector=='' || subsector == undefined)  && (subdomainlist_data.length>1)">
                                <mat-accordion *ngIf="refined_domain || (domain !='' && domain != 'All')">
                                    <mat-expansion-panel [expanded]="true">
                                        <mat-expansion-panel-header [collapsedHeight]="'50px'"
                                            [expandedHeight]="'50px'">
                                            <mat-panel-title>
                                                <span class="refine-head">{{select_subdomain_cap}}</span>
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>
                                        <mat-form-field>
                                            <div>
                                                <mat-select placeholder="" [(ngModel)]="refined_subdomain"
                                                    #refinedsubdomain
                                                    (selectionChange)="handlerefinedsubdomainchange(refinedsubdomain.value)">
                                                    <mat-option value="">{{select_cap}}</mat-option>
                                                    <mat-option *ngFor="let sdomain of subdomainlist_data"
                                                        [value]="sdomain.subDomain">
                                                        {{ sdomain.displayName }}
                                                    </mat-option>
                                                </mat-select>
                                            </div>
                                        </mat-form-field>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </div>
                            <ng-container *ngFor="let refine_data of searchrefine_arr; let refindx=index">
                                <div class="bx-block"
                                    *ngIf="refine_data.dataType!='DataGrid' && refine_data.dataType!='Boolean' && refine_data.dataType!='URL'">
                                    <ng-container *ngIf="refine_data.cloudSearchIndex!='specialization'">
                                        <mat-accordion>
                                            <mat-expansion-panel
                                                [expanded]="isExpanded(refine_data.dataType, refine_data.cloudSearchIndex)">
                                                <mat-expansion-panel-header [collapsedHeight]="'50px'"
                                                    [expandedHeight]="'50px'">
                                                    <mat-panel-title>
                                                        <span class="refine-head">{{refine_data.displayName}}</span>
                                                    </mat-panel-title>
                                                </mat-expansion-panel-header>

                                                <div
                                                    *ngIf="refine_data.dataType=='TEXT' || refine_data.dataType=='TEXT_MED'">
                                                    <mat-form-field class="example-full-width">
                                                        <span class="glyphicon glyphicon-search"
                                                            style="float:right;"></span>
                                                        <input matInput autocomplete="off"
                                                            [value]="returnRefineCheckboxRetainValue(refine_data.cloudSearchIndex, '', refine_data.dataType)"
                                                            (keyup)="handleTextrefineKeypress($event, refine_data.cloudSearchIndex,$event.target.value,refine_data.dataType, false)"
                                                            (blur)="handleTextrefinefieldBlur($event, refine_data.cloudSearchIndex,$event.target.value,refine_data.dataType, false)">
                                                    </mat-form-field>
                                                </div>

                                                <div
                                                    *ngIf="refine_data.dataType=='EnumList' || refine_data.dataType=='Enum' || refine_data.dataType=='Gender'">
                                                    <div *ngIf="refine_data.enumeratedConstants.length>0">
                                                        <ng-container
                                                            *ngFor="let refine_field of refine_data.enumeratedConstants; let i=index">
                                                            <div class="refine_field_subouter">
                                                                <ng-container *ngIf="i<showmore_defaultcnt">
                                                                    <mat-checkbox
                                                                        [checked]="returnRefineCheckboxRetainValue(refine_data.cloudSearchIndex, refine_field.name, refine_data.dataType)"
                                                                        class="example-margin"
                                                                        (change)="handle_optionclick(refine_data.cloudSearchIndex	,refine_data.dataType,refine_field.name,false)">
                                                                        {{refine_field.displayName}}</mat-checkbox>
                                                                </ng-container>
                                                                <ng-container
                                                                    *ngIf="i==showmore_defaultcnt && (refine_data.showhiddendet == undefined || !refine_data.showhiddendet)">
                                                                    <div class="refinemore" (click)="showmore(refindx)">
                                                                        {{show_more_cap}}</div>
                                                                </ng-container>

                                                                <ng-container
                                                                    *ngIf="refine_data.showhiddendet != undefined && refine_data.showhiddendet">
                                                                    <ng-container *ngIf="i>=showmore_defaultcnt">
                                                                        <mat-checkbox
                                                                            [checked]="returnRefineCheckboxRetainValue(refine_data.cloudSearchIndex, refine_field.name, refine_data.dataType)"
                                                                            class="example-margin"
                                                                            (change)="handle_optionclick(refine_data.cloudSearchIndex	,refine_data.dataType,refine_field.name,false)">
                                                                            {{refine_field.displayName}}</mat-checkbox>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="i==(refine_data.enumeratedConstants.length-1)">
                                                                        <div class="refinemore showless"
                                                                            (click)="hidemore(refindx)">
                                                                            {{show_less_cap}}</div>
                                                                    </ng-container>
                                                                </ng-container>
                                                            </div>
                                                        </ng-container>
                                                    </div>
                                                </div>
                                                <div *ngIf="refine_data.dataType=='Rating'">
                                                    <app-rating-star [cloudindex]="refine_data.cloudSearchIndex"
                                                        [ratingval]="returnRefineCheckboxRetainValue(refine_data.cloudSearchIndex, '', refine_data.dataType)"
                                                        (ratingreturn)="handleratingClick($event)"
                                                        [includedFrom]="'refined'"></app-rating-star>
                                                </div>
                                            </mat-expansion-panel>
                                        </mat-accordion>
                                    </ng-container>
                                    <ng-container
                                        *ngIf="refine_data.cloudSearchIndex=='specialization' && !specialization_hide">
                                        <mat-accordion>
                                            <mat-expansion-panel [expanded]="true">
                                                <mat-expansion-panel-header [collapsedHeight]="'50px'"
                                                    [expandedHeight]="'50px'">
                                                    <mat-panel-title>
                                                        <span class="refine-head">{{refine_data.displayName}}</span>
                                                    </mat-panel-title>
                                                </mat-expansion-panel-header>
                                                <div
                                                    *ngIf="refine_data.dataType=='EnumList' || refine_data.dataType=='Enum'">
                                                    <div *ngIf="refine_data.enumeratedConstants.length>0">

                                                        <ng-container
                                                            *ngFor="let refine_field of refine_data.enumeratedConstants; let i=index">
                                                            <div class="refine_field_subouter">
                                                                <ng-container *ngIf="i<showmore_defaultcnt">
                                                                    <mat-checkbox
                                                                        [checked]="returnRefineCheckboxRetainValue(refine_data.cloudSearchIndex, refine_field.name, refine_data.dataType)"
                                                                        class="example-margin"
                                                                        (change)="handle_optionclick(refine_data.cloudSearchIndex	,refine_data.dataType,refine_field.name,false)">
                                                                        {{refine_field.displayName}}</mat-checkbox>
                                                                </ng-container>
                                                                <ng-container
                                                                    *ngIf="i==showmore_defaultcnt && (refine_data.showhiddendet == undefined || !refine_data.showhiddendet)">
                                                                    <div class="refinemore" (click)="showmore(refindx)">
                                                                        {{show_more_cap}}</div>
                                                                </ng-container>
                                                                <ng-container
                                                                    *ngIf="refine_data.showhiddendet != undefined && refine_data.showhiddendet">
                                                                    <ng-container *ngIf="i>=showmore_defaultcnt">
                                                                        <mat-checkbox
                                                                            [checked]="returnRefineCheckboxRetainValue(refine_data.cloudSearchIndex, refine_field.name, refine_data.dataType)"
                                                                            class="example-margin"
                                                                            (change)="handle_optionclick(refine_data.cloudSearchIndex	,refine_data.dataType,refine_field.name,false)">
                                                                            {{refine_field.displayName}}</mat-checkbox>
                                                                    </ng-container>
                                                                    <ng-container
                                                                        *ngIf="i==(refine_data.enumeratedConstants.length-1)">
                                                                        <div class="refinemore showless"
                                                                            (click)="hidemore(refindx)">
                                                                            {{show_less_cap}}</div>
                                                                    </ng-container>
                                                                </ng-container>
                                                            </div>
                                                        </ng-container>
                                                    </div>
                                                </div>
                                            </mat-expansion-panel>
                                        </mat-accordion>
                                    </ng-container>
                                </div>
                            </ng-container>
                            <div class="bx-block">
                                <mat-accordion>
                                    <mat-expansion-panel [expanded]="true">
                                        <mat-expansion-panel-header [collapsedHeight]="'50px'"
                                            [expandedHeight]="'50px'">
                                            <mat-panel-title>
                                                <span class="refine-head">{{other_filters_cap}}</span>
                                            </mat-panel-title>
                                        </mat-expansion-panel-header>

                                        <ng-container *ngFor="let refine_data of searchrefine_arr">
                                            <div *ngIf="refine_data.dataType=='Boolean'">
                                                <mat-slide-toggle #{{refine_data.name}}
                                                    [checked]="returnRefineCheckboxRetainValue(refine_data.cloudSearchIndex, '', refine_data.dataType)"
                                                    (change)="handle_optionclick(refine_data.cloudSearchIndex,refine_data.dataType,1,false)">
                                                    {{refine_data.displayName}}</mat-slide-toggle>
                                            </div>
                                        </ng-container>
                                    </mat-expansion-panel>
                                </mat-accordion>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="c-body" [class.hideme]="showrefinedsection" *ngIf="search_result_count">
                    <div class="ct2" [class.ct2pad]="!showrefinedsection">
                        <div class="ct-l">
                            <div class="rslts"> {{ (search_data.hits.found>10) ? 'Over': ''}}
                                <strong>{{search_data.hits.found}}</strong>
                                {{(search_data.hits.found>1) ? 'results': ''}} {{(search_data.hits.found==1) ?
                                'result': ''}} {{found_cap}}
                            </div>
                        </div>
                        <div class="ct-r ml-auto">
                            <div class="fltr">
                                <div class="search_sort_display">
                                    <!-- <mat-form-field>
                                        <mat-select name="sortfield" panelClass="search_domaindropdown_class"
                                            #sortfieldsel (selectionChange)="selected_sortfield(sortfieldsel.value)"
                                            [(ngModel)]="sortfieldsels">
                                            <mat-option value="">
                                                {{jaldee_verified}}
                                            </mat-option>
                                            <mat-option value="distanceasc">
                                                {{distance_cap}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field> -->
                                    <button style="display:flex;justify-content:center;align-items:center;"
                                        [matTooltipClass]="tooltipcls" [matTooltip]="sortTooltip" mat-icon-button
                                        [matMenuTriggerFor]="menu">
                                        <mat-icon>swap_vert</mat-icon>
                                    </button>
                                    <mat-menu class="sort-menu" #menu="matMenu">
                                        <button class="sort-menu-item" [class.active]="activeDistanceSort==false"
                                            (click)="selected_sortfield(false)"
                                            mat-menu-item>{{jaldee_verified}}</button>
                                        <button class="sort-menu-item" [class.active]="activeDistanceSort==true"
                                            (click)="selected_sortfield(true)" mat-menu-item>{{distance_cap}}</button>
                                    </mat-menu>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="srlst" *ngFor="let search_result of search_data.hits.hit">
                        <div class="top-sect">
                            <div class="tp-l">
                                <div class="tp1">
                                    <div class="pro-img" (click)="providerDetClicked(search_result)">
                                        <img *ngIf="search_result.fields.logo" [src]="search_result.fields.logo" alt=""
                                            class="crop-img-fit">
                                    </div>
                                    <ul class="gal" *ngIf="search_result.fields.gallery_thumb_nails">
                                        <li>
                                            <div class="galbx">
                                                <div class="overlay" (click)="providerDetClicked(search_result)">
                                                    +{{(search_result.fields.gallery_thumb_nails.length)}}</div>
                                                <img [src]="search_result.fields.gallery_thumb_nails[0]" alt=""
                                                    style="width:50px;height:auto;">
                                            </div>
                                        </li>
                                    </ul>

                                    <div class="rating-stars">
                                        <ng-container *ngIf="search_result.fields.rating>0">
                                            <ng-container *ngIf="search_result.fields.rating==.5">
                                                <img class="ratingstar" src="./assets/images/star-half.svg" alt="" />
                                                <img class="ratingstar" *ngFor="let number of [1,2,3,4]"
                                                    src="./assets/images/star-disabled.svg" alt="" />
                                            </ng-container>

                                            <ng-container *ngIf="search_result.fields.rating==1">
                                                <img class="ratingstar" src="./assets/images/star.svg" alt="" />
                                                <img class="ratingstar" *ngFor="let number of [1,2,3,4]"
                                                    src="./assets/images/star-disabled.svg" alt="" />
                                            </ng-container>

                                            <ng-container *ngIf="search_result.fields.rating==1.5">
                                                <img class="ratingstar" src="./assets/images/star.svg" alt="" />
                                                <img class="ratingstar" src="./assets/images/star-half.svg" alt="" />
                                                <img class="ratingstar" *ngFor="let number of [1,2,3]"
                                                    src="./assets/images/star-disabled.svg" alt="" />
                                            </ng-container>
                                            <ng-container *ngIf="search_result.fields.rating==2">
                                                <img class="ratingstar" *ngFor="let number of [1,2]"
                                                    src="./assets/images/star.svg" alt="" />
                                                <img class="ratingstar" *ngFor="let number of [1,2,3]"
                                                    src="./assets/images/star-disabled.svg" alt="" />
                                            </ng-container>

                                            <ng-container *ngIf="search_result.fields.rating==2.5">
                                                <img class="ratingstar" *ngFor="let number of [1,2]"
                                                    src="./assets/images/star.svg" alt="" />
                                                <img class="ratingstar" src="./assets/images/star-half.svg" alt="" />
                                                <img class="ratingstar" *ngFor="let number of [1,2]"
                                                    src="./assets/images/star-disabled.svg" alt="" />
                                            </ng-container>

                                            <ng-container *ngIf="search_result.fields.rating==3">
                                                <img class="ratingstar" *ngFor="let number of [1,2,3]"
                                                    src="./assets/images/star.svg" alt="" />
                                                <img class="ratingstar" *ngFor="let number of [1,2]"
                                                    src="./assets/images/star-disabled.svg" alt="" />
                                            </ng-container>

                                            <ng-container *ngIf="search_result.fields.rating==3.5">
                                                <img class="ratingstar" *ngFor="let number of [1,2,3]"
                                                    src="./assets/images/star.svg" alt="" />
                                                <img class="ratingstar" src="./assets/images/star-half.svg" alt="" />
                                                <img class="ratingstar" src="./assets/images/star-disabled.svg"
                                                    alt="" />
                                            </ng-container>
                                            <ng-container *ngIf="search_result.fields.rating==4">
                                                <img class="ratingstar" *ngFor="let number of [1,2,3,4]"
                                                    src="./assets/images/star.svg" alt="" />
                                                <img class="ratingstar" src="./assets/images/star-disabled.svg"
                                                    alt="" />
                                            </ng-container>
                                            <ng-container *ngIf="search_result.fields.rating==4.5">
                                                <img class="ratingstar" *ngFor="let number of [1,2,3,4]"
                                                    src="./assets/images/star.svg" alt="" />
                                                <img class="ratingstar" src="./assets/images/star-half.svg" alt="" />
                                            </ng-container>
                                            <ng-container *ngIf="search_result.fields.rating==5">
                                                <ng-container *ngFor="let number of [1,2,3,4,5]">
                                                    <img class="ratingstar" src="./assets/images/star.svg" alt="" />
                                                </ng-container>
                                            </ng-container>
                                        </ng-container>
                                        <ng-container *ngIf="search_result.fields.rating==0">
                                            <ng-container *ngFor="let number of [1,2,3,4,5]">
                                                <img class="ratingstar" src="./assets/images/star-disabled.svg"
                                                    alt="" />
                                            </ng-container>
                                        </ng-container>
                                    </div>
                                </div>
                                <div class="tp2">
                                    <h3 [matTooltipClass]="tooltipcls" [matTooltip]="bNameTooltip">
                                        <span
                                            (click)="providerDetClicked(search_result)">{{search_result.fields.title | capitalizeFirst}}
                                            <!-- <sup class="font-open-now"
                                                *ngIf="search_result.fields['opennow'] || search_result.fields['apptopennow']">&nbsp;{{open_now_cap}}
                                            </sup> -->
                                        </span><span class="mgn-lt-10" *ngIf="search_result.fields.jdn == 1"
                                            (click)="openJdn(search_result)" [matTooltip]="jdnTooltip"><img height="35"
                                                width="35" src="./assets/images/JDN.png"></span>
                                    </h3>
                                    <div
                                        *ngIf="search_result.fields.account_type && search_result.fields.account_type == 1">
                                        <b>{{search_result.fields.branch_name}}</b></div>
                                    <!-- <div *ngIf="search_result.fields['estimatedtime_det'] && search_result.fields['estimatedtime_det']['branchSpCount']"
                                        class="pointer-cursor" (click)="providerDetClicked(search_result)">
                                        <b>{{search_result.fields['estimatedtime_det']['branchSpCount']}}
                                            {{provider_label}} </b>
                                    </div> -->
                                    <div *ngIf="search_result.fields.userCount" class="">
                                        <b>{{search_result.fields.userCount}}
                                            {{search_result.fields.provider_label}} </b>
                                    </div>
                                    <span
                                        *ngIf="search_result.fields.place1">{{search_result.fields.place1 | capitalizeFirst }}
                                        <span class="consumr-loc-icon"><a *ngIf="search_result.fields.location1"
                                                rel="noopener"
                                                [href]="'https://www.google.com/maps/place/'+search_result.fields.location1+'/@'+search_result.fields.location1+',15z'"
                                                target="_blank" class="icon-location" matTooltip="Click to navigate">
                                            </a></span>
                                    </span>
                                    <div class="clr">
                                        <div class="otr-elements">
                                            <span
                                                class="category">{{search_result.fields.sub_sector_displayname}}</span>
                                            <span *ngIf="search_result.fields.specialization_displayname"><span
                                                    class="categoryspec"
                                                    *ngFor="let spec of search_result.fields.specialization_displayname; let i = index"><span
                                                        *ngIf="i>0" class="spacer"></span>{{spec}}</span></span>
                                        </div>
                                        <!-- <div class="schedule" *ngIf="search_result.fields.display_schedule">
                                            <ul>
                                                <li *ngFor="let schedule of search_result.fields.display_schedule">
                                                    <div class="day">{{schedule.dstr}}&nbsp;:</div>
                                                    <div class="time">{{schedule.time}}
                                                        <span class="form-level-settings"
                                                            *ngIf="schedule.recurrtype === 'Once'">(only for
                                                            today)</span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div> -->
                                        <!-- <div class="departments" *ngIf="search_result.fields.departments">
                                            <ul>
                                                <li [class.active]="selectedDepartment==departments"
                                                    *ngFor="let departments of search_result.fields.departments">
                                                    {{departments | capitalizeFirst}}
                                                </li>
                                            </ul>
                                        </div> -->
                                    </div>
                                    <div class="more-clinics" *ngIf="search_result.fields.moreclinics>0"
                                        (click)="providerDetClicked(search_result)">
                                        <span><span class="count">{{search_result.fields.moreclinics}}</span>
                                            {{
                                            (search_result.fields.moreclinics==1) ? 'more clinic' : 'more Clinics'}}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="tp-r">
                                <ul class="badges"
                                    *ngIf="search_result.fields.parking_location1==1 || search_result.fields.always_open1==1 || search_result.fields.traumacentre_location1==1 || search_result.fields.physiciansemergencyservices_location1==1 || search_result.fields.dentistemergencyservices_location1==1 || search_result.fields.altemergencyservices_location1 || search_result.fields.firstaid_location1==1 || search_result.fields.ynw_verified_level || search_result.fields.veterinaryemergencyservices_location1==1">
                                    <li *ngIf="search_result.fields.parking_type_location1 && search_result.fields.parking_type_location1 !='none'"
                                        [matTooltip]="'Parking Type: ' + search_result.fields.parking_type_location1">
                                        <span class="icon-parking"></span></li>
                                    <li *ngIf="search_result.fields.always_open_location1==1"
                                        [matTooltip]="'24 Hours Open'"><span class="icon-open-time"></span></li>
                                    <li *ngIf="search_result.fields.traumacentre_location1==1"
                                        [matTooltip]="'Trauma Centre'"><span class="icon-trauma"></span></li>
                                    <li [matTooltip]="'Emergency Services'"
                                        *ngIf="search_result.fields.physiciansemergencyservices_location1==1 || 
                                        search_result.fields.dentistemergencyservices_location1==1 || search_result.fields.altemergencyservices_location1==1 || 
                                        search_result.fields.hosemergencyservices_location1==1 || search_result.fields.veterinaryemergencyservices_location1==1">
                                        <span class="icon-emergency"></span></li>
                                    <li *ngIf="search_result.fields.firstaid_location1==1" [matTooltip]="'First Aid'">
                                        <span class="icon-first-aid"></span></li>
                                    <li *ngIf="search_result.fields.docambulance_location1==1 || search_result.fields.altambulance_location1==1 || search_result.fields.densistambulance_location1==1"
                                        [matTooltip]="'Ambulance Service'"><span class="icon-ambulance"></span></li>
                                    <li *ngIf="search_result.fields.onlinereports_location1==1"
                                        [matTooltip]="'Online Reports'"><span class="fa fa-file-pdf-o"></span></li>
                                    <li *ngIf="search_result.fields.homesamplecollection_location1==1"
                                        [matTooltip]="'Home Sample Collection'"><span class="fa fa fa-flask"></span>
                                    </li>
                                    <li class="img pic_align" *ngIf="search_result.fields.ynw_verified_level==2"
                                        [matTooltipClass]="tooltipcls" [matTooltip]="'Jaldee verified-basic'"><img
                                            src="./assets/images/basic.png" alt="Basic"></li>
                                    <li class="img pic_align" *ngIf="search_result.fields.ynw_verified_level==3"
                                        [matTooltipClass]="tooltipcls" [matTooltip]="'Jaldee verified-basic plus'"><img
                                            src="./assets/images/basicpls.png" alt="Basic Plus"></li>
                                    <li class="img pic_align" *ngIf="search_result.fields.ynw_verified_level==4"
                                        [matTooltipClass]="tooltipcls" [matTooltip]="'Jaldee verified-advanced'"><img
                                            src="./assets/images/premium.png" alt="Advanced"></li>
                                </ul>
                                <span class="first-time-jc"
                                    *ngIf="search_result.fields.claimable!=1 && (stringToInt(search_result.fields.first_checkin_coupon_count))!=0 && isfirstCheckinOffer"
                                    (click)="!btn_clicked && openCoupons(search_result,true)"><i
                                        class="fa fa-tag red"></i> {{first_time_coupon}}</span>
                                <span class="other-jcs"
                                    *ngIf="search_result.fields.claimable!=1 && (stringToInt(search_result.fields.coupon_enabled))!=0"
                                    (click)="!btn_clicked && openCoupons(search_result)" [matTooltipClass]="tooltipcls"
                                    [matTooltip]="couponTooltip"><i class="fa fa-tag blue"></i>
                                    {{jaldee_coupon}}</span>
                                <span class="communicate" (click)="communicateHandler(search_result)"
                                    *ngIf="search_result.fields.claimable!=1" [matTooltipClass]="tooltipcls"
                                    [matTooltip]="commTooltip">{{send_messages}}</span>
                                <span class="claim-business" (click)="claimBusiness(search_result)"
                                    *ngIf="search_result.fields.claimable==1">{{claim_my_business_cap}} <i
                                        style="font-size: 1.1rem;" class="fa fa-hand-o-up"
                                        aria-hidden="true"></i></span>
                            </div>
                        </div>
                        <!-- Book Service button start -->
                        <div class="bottom-sect pdetail" *ngIf="showButton(search_result) === 'bookservice'">
                            <div class="bt-l">
                                <div class="wt-tme">
                                    <div class="donat-service" *ngIf="!search_result.fields.departments">
                                        <span class="sub-title-donate">Services</span>
                                        <ul *ngIf="search_result.fields.allServices">
                                            <li *ngFor="let appointmentService of search_result.fields.allServices"
                                                (click)="!btn_clicked && checkserviceClicked(appointmentService,search_result, 'appointmentList')">
                                                {{appointmentService.name}}
                                                <span *ngIf="appointmentService.serviceType == 'virtualService'">
                                                    <i class="fa fa-phone"
                                                        *ngIf="appointmentService.virtualCallingModes &&appointmentService.virtualCallingModes[0].callingMode == 3"></i>
                                                    <i class="fa meet-icon"
                                                        *ngIf="appointmentService.virtualCallingModes && appointmentService.virtualCallingModes[0].callingMode == 2"></i>
                                                    <i class="fa zoom-icon"
                                                        *ngIf="appointmentService.virtualCallingModes && appointmentService.virtualCallingModes[0].callingMode == 1"></i>
                                                    <i class="fa fa-whatsapp whtsap-ic font-bolder"
                                                        *ngIf="appointmentService.virtualCallingModes && appointmentService.virtualCallingModes[0].callingMode == 0"></i>
                                                </span>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="donat-service" *ngIf="search_result.fields.departments">
                                        <span class="sub-title-donate">Departments</span>
                                        <ul>
                                            <li [class.active]="selectedDepartment==departments"
                                                *ngFor="let departments of search_result.fields.departments"
                                                (click)="providerDetClicked(search_result)">
                                                {{departments | capitalizeFirst}}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div style="flex-grow:1"></div>
                            <div class="bottom-actions-root">
                                <span (click)="providerDetClicked(search_result)" class="checkin-btn">book
                                    service</span>
                            </div>
                        </div>
                        <!-- Book service butoon ends -->

                        <!-- <div class="bottom-sect"
                            *ngIf="search_result.fields['estimatedtime_det'] && search_result.fields['estimatedtime_det']['waitlist'] && search_result.fields.online_profile == 1"> -->
                            <div class="bottom-sect"
                            *ngIf="showButton(search_result) === 'waitlist'">
                            <div class="bt-l">
                                <div class="wt-tme"
                                    *ngIf="search_result.fields['estimatedtime_det'] && search_result.fields['estimatedtime_det']['message']!='No active services'">
                                    <div class="wt-tme notallowed">
                                        <ng-container *ngIf="search_result.fields['estimatedtime_det']['message']">
                                            {{search_result.fields['estimatedtime_det']['message']}}</ng-container>
                                    </div>
                                    <div
                                        *ngIf="search_result.fields['estimatedtime_det']['calculationMode']!='NoCalc' ||(search_result.fields['estimatedtime_det']['calculationMode']=='NoCalc' && search_result.fields['estimatedtime_det']['showToken'])">
                                        <div *ngIf="search_result.fields['estimatedtime_det']['personAhead']">
                                            <b>{{search_result.fields['estimatedtime_det']['personAhead']}} </b><span
                                                class="people-ahead"
                                                *ngIf="search_result.fields['estimatedtime_det']['personAhead'] > 1">{{people_ahead}}</span>
                                            <span class="people-ahead"
                                                *ngIf="search_result.fields['estimatedtime_det']['personAhead'] == 1">{{one_person_ahead}}</span>
                                        </div>
                                        <div *ngIf="search_result.fields['estimatedtime_det']['personAhead'] === 0">
                                            <div class="time-data">
                                                {{search_result.fields['estimatedtime_det']['personAhead']}}
                                                {{people_ahead}} </div>Be the first in line
                                        </div>

                                        <div class="donat-service"
                                            *ngIf="!search_result.fields.departments && search_result.fields.serviceList && search_result.fields.serviceList.length > 0">
                                            <span class="sub-title-donate checkin-service-group">Check-in
                                                Service(s)</span>
                                            <ul>
                                                <li *ngFor="let serv of search_result.fields.serviceList"
                                                    (click)="!btn_clicked && checkserviceClicked(serv,search_result, 'serviceListClick')">{{serv.name
                                                    | capitalizeFirst}}
                                                    <span *ngIf="serv.serviceType == 'virtualService'">
                                                        (<i class="fa fa-video-camera cal-mod-font"
                                                            aria-hidden="true"></i>)
                                                    </span></li>
                                            </ul>
                                        </div>

                                        <div class="donat-service" *ngIf="search_result.fields.departments">
                                            <span class="sub-title-donate checkin-service-group">Department(s)</span>
                                            <ul>
                                                <li [class.active]="selectedDepartment==departments"
                                                    *ngFor="let departments of search_result.fields.departments">
                                                    {{departments | capitalizeFirst}}
                                                </li>
                                            </ul>
                                        </div>

                                        <div class="donat-service"
                                            *ngIf="!search_result.fields.departments && !search_result.fields.serviceList && search_result.fields.services">
                                            <ul>
                                                <li *ngFor="let serv of search_result.fields.services"
                                                    (click)="!btn_clicked && checkserviceClicked(serv,search_result, 'serviceClick')">{{serv
                                                    | capitalizeFirst}}</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="flex-grow:1"></div>
                            <div class="bottom-actions-root"
                                *ngIf="search_result.fields['estimatedtime_det'] && (search_result.fields['estimatedtime_det']['onlineCheckIn'] || search_result.fields.future_checkins==1)">
                                <div class="checkin-est nrm"
                                    *ngIf="!search_result.fields['estimatedtime_det']['message'] && search_result.fields['estimatedtime_det']['calculationMode']!='NoCalc'">
                                    <span class="est-time"
                                        *ngIf="search_result.fields['estimatedtime_det']['caption']">{{search_result.fields['estimatedtime_det']['caption']}}</span>
                                    <span class="time-data"
                                        *ngIf="search_result.fields['estimatedtime_det']['time']">{{search_result.fields['estimatedtime_det']['time']}}
                                    </span>
                                </div>
                                <ng-container
                                    *ngIf="search_result.fields['estimatedtime_det']['calculationMode']=='NoCalc' && search_result.fields['estimatedtime_det']['showToken']">
                                    <ng-container
                                        *ngIf="search_result.fields['estimatedtime_det']['personAhead'] || search_result.fields['estimatedtime_det']['personAhead'] === 0">
                                        <div class="checkin-est"
                                            *ngIf="!search_result.fields['opennow']">
                                            <span class="est-time">Next Available Time</span>
                                            <span
                                                class="time-data">{{search_result.fields['estimatedtime_det']['nextAvailDate']}}</span>
                                        </div>
                                    </ng-container>
                                </ng-container>
                                <span class="checkin-btn" (click)="checkinClicked(search_result, false)"
                                    *ngIf="((search_result.fields['estimatedtime_det']['onlineCheckIn'] && search_result.fields['estimatedtime_det']['isAvailableToday'] && search_result.fields['estimatedtime_det']['availableToday']) || (search_result.fields['estimatedtime_det']['cdate'] && search_result.fields.future_checkins==1)) && !search_result.fields['estimatedtime_det']['showToken']">{{getTerminologyTerm('waitlist',
                                    search_result.fields)}}</span>
                                <span class="checkin-btn" (click)="checkinClicked(search_result, false)"
                                    *ngIf="((search_result.fields['estimatedtime_det']['onlineCheckIn'] && search_result.fields['estimatedtime_det']['isAvailableToday'] && search_result.fields['estimatedtime_det']['availableToday']) || (search_result.fields['estimatedtime_det']['cdate'] && search_result.fields.future_checkins==1)) && search_result.fields['estimatedtime_det']['showToken']">{{get_token_btn}}</span>
                                <span class="checkin-btn disabled"
                                    *ngIf="!search_result.fields['estimatedtime_det']['showToken'] && (!search_result.fields['estimatedtime_det']['onlineCheckIn'] || !search_result.fields['estimatedtime_det']['isAvailableToday'] || !search_result.fields['estimatedtime_det']['availableToday']) && (!search_result.fields['estimatedtime_det']['cdate'] || search_result.fields.future_checkins==0)">{{getTerminologyTerm('waitlist',
                                    search_result.fields)}}</span>
                                <span class="checkin-btn disabled"
                                    *ngIf="search_result.fields['estimatedtime_det']['showToken'] && (!search_result.fields['estimatedtime_det']['onlineCheckIn'] || !search_result.fields['estimatedtime_det']['isAvailableToday'] || !search_result.fields['estimatedtime_det']['availableToday']) && (!search_result.fields['estimatedtime_det']['cdate'] || search_result.fields.future_checkins==0)">{{get_token_btn}}</span>

                                <!-- <div class="future-date-link checkin-future">
                                    <span class="bt10" (click)="checkinClicked(search_result, true)"
                                        *ngIf="search_result.fields['estimatedtime_det']['cdate'] && search_result.fields.hasOwnProperty('future_checkins') && search_result.fields.future_checkins==1">{{do_you_want_to_cap}}
                                        <span
                                            *ngIf="search_result.fields['estimatedtime_det']['showToken']">{{get_token_btn}}</span>
                                        <span
                                            *ngIf="!search_result.fields['estimatedtime_det']['showToken']">{{getTerminologyTerm('waitlist', search_result.fields)}}</span>
                                        {{for_cap}} <span>{{different_date}}</span></span>
                                </div> -->
                            </div>
                        </div>
                        <!-- <div class="bottom-sect pdetail"
                            *ngIf="search_result.fields.apptAllowed && search_result.fields.online_profile == 1"> -->
                            <div class="bottom-sect pdetail"
                            *ngIf="showButton(search_result) === 'appt'">
                            <div class="bt-l">
                                <div class="wt-tme">
                                    <div class="donat-service" *ngIf="!search_result.fields.departments">
                                        <span class="sub-title-donate">Appointment Service(s)</span>
                                        <ul *ngIf="!search_result.fields.appointmentServiceList">
                                            <li *ngFor="let appointmentService of search_result.fields.appt_services"
                                                (click)="!btn_clicked && checkserviceClicked(appointmentService,search_result, 'appointent')">
                                                {{appointmentService}}</li>
                                        </ul>
                                        <ul *ngIf="search_result.fields.appointmentServiceList">
                                            <li *ngFor="let appointmentService of search_result.fields.appointmentServiceList"
                                                (click)="!btn_clicked && checkserviceClicked(appointmentService,search_result, 'appointmentList')">
                                                {{appointmentService.name}}
                                                <span *ngIf="appointmentService.serviceType == 'virtualService'">
                                                    (<i class="fa fa-video-camera cal-mod-font" aria-hidden="true"></i>)
                                                </span></li>
                                        </ul>
                                    </div>
                                    <div class="donat-service" *ngIf="search_result.fields.departments">
                                        <span class="sub-title-donate">Department(s)</span>
                                        <ul>
                                            <li [class.active]="selectedDepartment==departments"
                                                *ngFor="let departments of search_result.fields.departments">
                                                {{departments | capitalizeFirst}}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div style="flex-grow:1"></div>
                            <div class="bottom-actions-root">
                                <span (click)="appointmentClicked(search_result, false)"
                                    class="checkin-btn">Appointment</span>
                            </div>
                        </div>
                        <!-- <div class="bottom-sect pdetail"
                            *ngIf="search_result.fields.donation_status == 1 && search_result.fields.donationlength >= 1 && search_result.fields.donation_services && search_result.fields.online_profile == 1"> -->
                            <div class="bottom-sect pdetail"
                            *ngIf="showButton(search_result) === 'donation'">
                            <div class="bt-l">
                                <div class="wt-tme">
                                    <div class="donat-service">
                                        <span class="sub-title-donate">Donation Service(s)</span>
                                        <ul *ngIf="!search_result.fields.donationServices">
                                            <li *ngFor="let donationService of search_result.fields.donation_services"
                                                (click)="!btn_clicked && checkserviceClicked(donationService,search_result, 'donation')">
                                                {{donationService}}</li>
                                        </ul>
                                        <ul *ngIf="search_result.fields.donationServices">
                                            <li *ngFor="let donationService of search_result.fields.donationServices"
                                                (click)="!btn_clicked && checkserviceClicked(donationService,search_result, 'donationList')">
                                                {{donationService.name}}
                                                <span *ngIf="donationService.serviceType == 'virtualService'">
                                                    (<i class="fa fa-video-camera cal-mod-font" aria-hidden="true"></i>)
                                                </span></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div style="flex-grow:1"></div>
                            <div class="bottom-actions-root">
                                <span (click)="payClicked(search_result)" class="checkin-btn">Donate</span>
                            </div>
                        </div>
                    </div>
                    <div class="search_paging">
                        <app-pager [total_pages]="pass_totalpages()" [pagesize]="pass_pagesize()"
                            (pagerclick)="handle_pageclick($event)" [curpage]="startpageval"></app-pager>
                    </div>
                </div>
                <div *ngIf="nosearch_results" class="no-search-result">{{no_ynw_results_found}}</div>
            </div>
        </div>
    </div>
</section>
<app-footer></app-footer>