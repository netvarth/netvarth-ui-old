<section class="content search-details-list p0">
    <div class="container ">
        <div class="row">
            <div class="panel panel-default">
                <div class="panel-heading top-row ">
                    <app-header *ngIf="showsearchsection && obtainedRefined" [headerTitle]="'Header'"
                        [includedfrom]="'details'"></app-header>
                    <div class="mgn-up-20 col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <app-search-form *ngIf="showsearchsection && obtainedRefined"
                            (searchclick)="handlesearchClick($event)" [passedDomain]="domain" [passedkwdet]="kwdet"
                            [passedRefine]="searchcommononlyrefine_arr"></app-search-form>
                    </div>
                </div>
                <div class="panel-body no-padding">                   
                    <div class="col-md-12 col-xs-12 col-sm-12 no-padding">
                        <div class="c-outer">
                            <div class="sidebar-overlay" *ngIf="showrefinedsection && additionalRefineCondition()"
                                (click)="togger_refinesection()"></div>
                            <div class="left-pane" [class.show]="showrefinedsection"
                                *ngIf="showrefinedsection && additionalRefineCondition()">

                                <div class="rs-box">
                                    <div class="refine-srch"
                                        *ngIf="searchrefine_arr.length>0 && arraycreatedfromquerystring && additionalRefineCondition()">

                                        <span class="ttle" *ngIf="showrefinedsection">{{refine_search_cap}}</span>
                                        <span class="pull-right mgn-rt-10 hide-refine pointer-cursor"
                                            (click)="showrefinedsection = false"><i class="fa fa-angle-left"></i>
                                        </span>
                                    </div>
                                    <div *ngIf="searchrefine_arr.length>0 && arraycreatedfromquerystring">
                                        <div class="bx-block"
                                            *ngIf="domainlist_data && (domain =='' || domain =='All')">
                                            <mat-accordion>
                                                <mat-expansion-panel [expanded]="true">
                                                    <mat-expansion-panel-header [collapsedHeight]="'50px'"
                                                        [expandedHeight]="'50px'">
                                                        <mat-panel-title>
                                                            <span class="refine-head">{{select_domain_cap}} </span>
                                                        </mat-panel-title>
                                                    </mat-expansion-panel-header>
                                                    <mat-form-field>
                                                        <div>
                                                            <mat-select placeholder="" [(ngModel)]="refined_domain"
                                                                #refineddomain
                                                                (selectionChange)="handlerefineddomainchange(refineddomain.value)">
                                                                <mat-option value="">{{select_cap}}</mat-option>
                                                                <mat-option *ngFor="let domain of domainlist_data"
                                                                    [value]="domain.domain">
                                                                    {{ domain.displayName }}
                                                                </mat-option>
                                                            </mat-select>
                                                        </div>
                                                    </mat-form-field>
                                                </mat-expansion-panel>
                                            </mat-accordion>
                                        </div>
                                        <div class="bx-block"
                                            *ngIf="subdomainlist_data && (subsector=='' || subsector == undefined)  && (subdomainlist_data.length>1)">
                                            <mat-accordion *ngIf="refined_domain || (domain !='' && domain != 'All')">
                                                <mat-expansion-panel [expanded]="true">
                                                    <mat-expansion-panel-header [collapsedHeight]="'50px'"
                                                        [expandedHeight]="'60px'">
                                                        <mat-panel-title>
                                                            <span class="refine-head">{{select_subdomain_cap}}</span>
                                                        </mat-panel-title>
                                                    </mat-expansion-panel-header>
                                                    <mat-form-field>
                                                        <div>
                                                            <mat-select placeholder="" [(ngModel)]="refined_subdomain"
                                                                #refinedsubdomain
                                                                (selectionChange)="handlerefinedsubdomainchange(refinedsubdomain.value)">
                                                                <mat-option value="">{{select_cap}}</mat-option>
                                                                <mat-option *ngFor="let sdomain of subdomainlist_data"
                                                                    [value]="sdomain.subDomain">
                                                                    {{ sdomain.displayName }}
                                                                </mat-option>
                                                            </mat-select>
                                                        </div>
                                                    </mat-form-field>
                                                </mat-expansion-panel>
                                            </mat-accordion>
                                        </div>
                                        <ng-container *ngFor="let refine_data of searchrefine_arr; let refindx=index">
                                            <div class="bx-block"
                                                *ngIf="refine_data.dataType!='DataGrid' && refine_data.dataType!='Boolean' && refine_data.dataType!='URL'">
                                                <ng-container *ngIf="refine_data.cloudSearchIndex!='specialization'">
                                                    <mat-accordion>
                                                        <mat-expansion-panel
                                                            [expanded]="isExpanded(refine_data.dataType, refine_data.cloudSearchIndex)">
                                                            <mat-expansion-panel-header [collapsedHeight]="'50px'"
                                                                [expandedHeight]="'50px'">
                                                                <mat-panel-title>
                                                                    <span
                                                                        class="refine-head">{{refine_data.displayName}}</span>
                                                                </mat-panel-title>
                                                            </mat-expansion-panel-header>

                                                            <div
                                                                *ngIf="refine_data.dataType=='TEXT' || refine_data.dataType=='TEXT_MED'">
                                                                <mat-form-field class="example-full-width">
                                                                    <span class="glyphicon glyphicon-search"
                                                                        style="float:right;"></span>
                                                                    <input matInput autocomplete="off"
                                                                        [value]="returnRefineCheckboxRetainValue(refine_data.cloudSearchIndex, '', refine_data.dataType)"
                                                                        (keyup)="handleTextrefineKeypress($event, refine_data.cloudSearchIndex,$event.target.value,refine_data.dataType, false)"
                                                                        (blur)="handleTextrefinefieldBlur($event, refine_data.cloudSearchIndex,$event.target.value,refine_data.dataType, false)">
                                                                </mat-form-field>
                                                            </div>

                                                            <div
                                                                *ngIf="refine_data.dataType=='EnumList' || refine_data.dataType=='Enum' || refine_data.dataType=='Gender'">
                                                                <div *ngIf="refine_data.enumeratedConstants.length>0">
                                                                    <ng-container
                                                                        *ngFor="let refine_field of refine_data.enumeratedConstants; let i=index">
                                                                        <div class="refine_field_subouter">
                                                                            <ng-container *ngIf="i<showmore_defaultcnt">
                                                                                <mat-checkbox
                                                                                    [checked]="returnRefineCheckboxRetainValue(refine_data.cloudSearchIndex, refine_field.name, refine_data.dataType)"
                                                                                    class="example-margin"
                                                                                    (change)="handle_optionclick(refine_data.cloudSearchIndex	,refine_data.dataType,refine_field.name,false)">
                                                                                    {{refine_field.displayName}}
                                                                                </mat-checkbox>
                                                                            </ng-container>
                                                                            <ng-container
                                                                                *ngIf="i==showmore_defaultcnt && (refine_data.showhiddendet == undefined || !refine_data.showhiddendet)">
                                                                                <div class="refinemore"
                                                                                    (click)="showmore(refindx)">
                                                                                    {{show_more_cap}}</div>
                                                                            </ng-container>

                                                                            <ng-container
                                                                                *ngIf="refine_data.showhiddendet != undefined && refine_data.showhiddendet">
                                                                                <ng-container
                                                                                    *ngIf="i>=showmore_defaultcnt">
                                                                                    <mat-checkbox
                                                                                        [checked]="returnRefineCheckboxRetainValue(refine_data.cloudSearchIndex, refine_field.name, refine_data.dataType)"
                                                                                        class="example-margin"
                                                                                        (change)="handle_optionclick(refine_data.cloudSearchIndex	,refine_data.dataType,refine_field.name,false)">
                                                                                        {{refine_field.displayName}}
                                                                                    </mat-checkbox>
                                                                                </ng-container>
                                                                                <ng-container
                                                                                    *ngIf="i==(refine_data.enumeratedConstants.length-1)">
                                                                                    <div class="refinemore showless"
                                                                                        (click)="hidemore(refindx)">
                                                                                        {{show_less_cap}}</div>
                                                                                </ng-container>
                                                                            </ng-container>
                                                                        </div>
                                                                    </ng-container>
                                                                </div>
                                                            </div>
                                                            <div *ngIf="refine_data.dataType=='Rating'">
                                                                <app-rating-star
                                                                    [cloudindex]="refine_data.cloudSearchIndex"
                                                                    [ratingval]="returnRefineCheckboxRetainValue(refine_data.cloudSearchIndex, '', refine_data.dataType)"
                                                                    (ratingreturn)="handleratingClick($event)"
                                                                    [includedFrom]="'refined'"></app-rating-star>
                                                            </div>
                                                        </mat-expansion-panel>
                                                    </mat-accordion>
                                                </ng-container>
                                                <ng-container
                                                    *ngIf="refine_data.cloudSearchIndex=='specialization' && !specialization_hide">
                                                    <mat-accordion>
                                                        <mat-expansion-panel [expanded]="true">
                                                            <mat-expansion-panel-header [collapsedHeight]="'50px'"
                                                                [expandedHeight]="'50px'">
                                                                <mat-panel-title>
                                                                    <span
                                                                        class="refine-head">{{refine_data.displayName}}</span>
                                                                </mat-panel-title>
                                                            </mat-expansion-panel-header>
                                                            <div
                                                                *ngIf="refine_data.dataType=='EnumList' || refine_data.dataType=='Enum'">
                                                                <div *ngIf="refine_data.enumeratedConstants.length>0">

                                                                    <ng-container
                                                                        *ngFor="let refine_field of refine_data.enumeratedConstants; let i=index">
                                                                        <div class="refine_field_subouter">
                                                                            <ng-container *ngIf="i<showmore_defaultcnt">
                                                                                <mat-checkbox
                                                                                    [checked]="returnRefineCheckboxRetainValue(refine_data.cloudSearchIndex, refine_field.name, refine_data.dataType)"
                                                                                    class="example-margin"
                                                                                    (change)="handle_optionclick(refine_data.cloudSearchIndex	,refine_data.dataType,refine_field.name,false)">
                                                                                    {{refine_field.displayName}}
                                                                                </mat-checkbox>
                                                                            </ng-container>
                                                                            <ng-container
                                                                                *ngIf="i==showmore_defaultcnt && (refine_data.showhiddendet == undefined || !refine_data.showhiddendet)">
                                                                                <div class="refinemore"
                                                                                    (click)="showmore(refindx)">
                                                                                    {{show_more_cap}}</div>
                                                                            </ng-container>
                                                                            <ng-container
                                                                                *ngIf="refine_data.showhiddendet != undefined && refine_data.showhiddendet">
                                                                                <ng-container
                                                                                    *ngIf="i>=showmore_defaultcnt">
                                                                                    <mat-checkbox
                                                                                        [checked]="returnRefineCheckboxRetainValue(refine_data.cloudSearchIndex, refine_field.name, refine_data.dataType)"
                                                                                        class="example-margin"
                                                                                        (change)="handle_optionclick(refine_data.cloudSearchIndex	,refine_data.dataType,refine_field.name,false)">
                                                                                        {{refine_field.displayName}}
                                                                                    </mat-checkbox>
                                                                                </ng-container>
                                                                                <ng-container
                                                                                    *ngIf="i==(refine_data.enumeratedConstants.length-1)">
                                                                                    <div class="refinemore showless"
                                                                                        (click)="hidemore(refindx)">
                                                                                        {{show_less_cap}}</div>
                                                                                </ng-container>
                                                                            </ng-container>
                                                                        </div>
                                                                    </ng-container>
                                                                </div>
                                                            </div>
                                                        </mat-expansion-panel>
                                                    </mat-accordion>
                                                </ng-container>
                                            </div>
                                        </ng-container>
                                        <div class="bx-block">
                                            <mat-accordion>
                                                <mat-expansion-panel [expanded]="true">
                                                    <mat-expansion-panel-header [collapsedHeight]="'50px'"
                                                        [expandedHeight]="'50px'">
                                                        <mat-panel-title>
                                                            <span class="refine-head">{{other_filters_cap}}</span>
                                                        </mat-panel-title>
                                                    </mat-expansion-panel-header>

                                                    <ng-container *ngFor="let refine_data of searchrefine_arr">
                                                        <div *ngIf="refine_data.dataType=='Boolean'">
                                                            <mat-slide-toggle #{{refine_data.name}}
                                                                [checked]="returnRefineCheckboxRetainValue(refine_data.cloudSearchIndex, '', refine_data.dataType)"
                                                                (change)="handle_optionclick(refine_data.cloudSearchIndex,refine_data.dataType,1,false)">
                                                                {{refine_data.displayName}}</mat-slide-toggle>
                                                        </div>
                                                    </ng-container>
                                                </mat-expansion-panel>
                                            </mat-accordion>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="c-body right-pane" [class.hideme]="showrefinedsection"
                                *ngIf="search_result_count || (!search_result_count && nosearch_results)">
                                <div class="ct2" [class.ct2pad]="!showrefinedsection">
                                    <div class="ct-l">
                                        <div class="rslts" *ngIf="search_data.hits.found > 0">
                                            {{ (search_data.hits.found>10) ? 'Over': ''}}
                                            <strong>{{search_data.hits.found}}</strong>
                                            {{(search_data.hits.found>1) ? 'results': ''}} {{(search_data.hits.found==1) ?
                                'result': ''}} {{found_cap}}
                                        </div>
                                    </div>
                                    <div class="ct-r ml-auto">
                                        <div class="fltr">
                                            <div class="search_sort_display">
                                                <button class="pull-right" *ngIf="search_data.hits.found > 1"
                                                    style="display:flex;justify-content:center;align-items:center;margin-top: 3px;"
                                                    mat-icon-button>
                                                    <i class="icon-filter-one" style="font-size: large"
                                                        (click)="togger_refinesection()" [matTooltipClass]="tooltipcls"
                                                        [matTooltip]="refTooltip"></i>
                                                </button>
                                                <button *ngIf="search_data.hits.found > 1"
                                                    style="display:flex;justify-content:center;align-items:center;"
                                                    [matTooltipClass]="tooltipcls" [matTooltip]="sortTooltip"
                                                    mat-icon-button [matMenuTriggerFor]="menu">
                                                    <mat-icon>swap_vert</mat-icon>
                                                </button>
                                                <mat-menu class="sort-menu" #menu="matMenu">
                                                    <button class="sort-menu-item"
                                                        [class.active]="activeDistanceSort==false"
                                                        (click)="selected_sortfield(false)"
                                                        mat-menu-item>{{jaldee_verified}}</button>
                                                    <button class="sort-menu-item"
                                                        [class.active]="activeDistanceSort==true"
                                                        (click)="selected_sortfield(true)"
                                                        mat-menu-item>{{distance_cap}}</button>
                                                </mat-menu>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="!search_result_count && nosearch_results" class="no-search-result">
                                    {{no_ynw_results_found}}</div>
                                <div class="srlst" *ngFor="let search_result of search_data.hits.hit">
                                    <div class="panel-body pad-lt-0 pad-rt-0 pad-bt-5 pad-up-5">
                                        <div class="col-md-3 col-xs-3 col-sm-3 col-lg-2 no-padding centeralign ">
                                            <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 pro-img1 no-padding">
                                                <img [src]="search_result.fields.logo" id="profile-image1"
                                                    *ngIf="search_result.fields.logo"
                                                    class=" img-circle img-responsive pointer-cursor"
                                                    (click)="openImageModalRow(image_list_popup[0])">
                                                <img src="assets/images/img-null.svg" id="profile-image1"
                                                    *ngIf="!search_result.fields.logo"
                                                    class=" img-circle img-responsive pointer-cursor"
                                                    (click)="openImageModalRow(image_list_popup[0])">
                                            </div>
                                            <div class="rating-stars col-md-12 col-xs-12 col-sm-12 centeralign">
                                                <ng-container *ngIf="search_result.fields.rating>0">
                                                    <ng-container *ngIf="search_result.fields.rating==.5">
                                                        <img class="ratingstar" src="./assets/images/star-half.svg"
                                                            alt="" />
                                                        <img class="ratingstar" *ngFor="let number of [1,2,3,4]"
                                                            src="./assets/images/star-disabled.svg" alt="" />
                                                    </ng-container>

                                                    <ng-container *ngIf="search_result.fields.rating==1">
                                                        <img class="ratingstar" src="./assets/images/star.svg" alt="" />
                                                        <img class="ratingstar" *ngFor="let number of [1,2,3,4]"
                                                            src="./assets/images/star-disabled.svg" alt="" />
                                                    </ng-container>

                                                    <ng-container *ngIf="search_result.fields.rating==1.5">
                                                        <img class="ratingstar" src="./assets/images/star.svg" alt="" />
                                                        <img class="ratingstar" src="./assets/images/star-half.svg"
                                                            alt="" />
                                                        <img class="ratingstar" *ngFor="let number of [1,2,3]"
                                                            src="./assets/images/star-disabled.svg" alt="" />
                                                    </ng-container>
                                                    <ng-container *ngIf="search_result.fields.rating==2">
                                                        <img class="ratingstar" *ngFor="let number of [1,2]"
                                                            src="./assets/images/star.svg" alt="" />
                                                        <img class="ratingstar" *ngFor="let number of [1,2,3]"
                                                            src="./assets/images/star-disabled.svg" alt="" />
                                                    </ng-container>

                                                    <ng-container *ngIf="search_result.fields.rating==2.5">
                                                        <img class="ratingstar" *ngFor="let number of [1,2]"
                                                            src="./assets/images/star.svg" alt="" />
                                                        <img class="ratingstar" src="./assets/images/star-half.svg"
                                                            alt="" />
                                                        <img class="ratingstar" *ngFor="let number of [1,2]"
                                                            src="./assets/images/star-disabled.svg" alt="" />
                                                    </ng-container>

                                                    <ng-container *ngIf="search_result.fields.rating==3">
                                                        <img class="ratingstar" *ngFor="let number of [1,2,3]"
                                                            src="./assets/images/star.svg" alt="" />
                                                        <img class="ratingstar" *ngFor="let number of [1,2]"
                                                            src="./assets/images/star-disabled.svg" alt="" />
                                                    </ng-container>

                                                    <ng-container *ngIf="search_result.fields.rating==3.5">
                                                        <img class="ratingstar" *ngFor="let number of [1,2,3]"
                                                            src="./assets/images/star.svg" alt="" />
                                                        <img class="ratingstar" src="./assets/images/star-half.svg"
                                                            alt="" />
                                                        <img class="ratingstar" src="./assets/images/star-disabled.svg"
                                                            alt="" />
                                                    </ng-container>
                                                    <ng-container *ngIf="search_result.fields.rating==4">
                                                        <img class="ratingstar" *ngFor="let number of [1,2,3,4]"
                                                            src="./assets/images/star.svg" alt="" />
                                                        <img class="ratingstar" src="./assets/images/star-disabled.svg"
                                                            alt="" />
                                                    </ng-container>
                                                    <ng-container *ngIf="search_result.fields.rating==4.5">
                                                        <img class="ratingstar" *ngFor="let number of [1,2,3,4]"
                                                            src="./assets/images/star.svg" alt="" />
                                                        <img class="ratingstar" src="./assets/images/star-half.svg"
                                                            alt="" />
                                                    </ng-container>
                                                    <ng-container *ngIf="search_result.fields.rating==5">
                                                        <ng-container *ngFor="let number of [1,2,3,4,5]">
                                                            <img class="ratingstar" src="./assets/images/star.svg"
                                                                alt="" />
                                                        </ng-container>
                                                    </ng-container>
                                                </ng-container>
                                                <ng-container *ngIf="search_result.fields.rating==0">
                                                    <ng-container *ngFor="let number of [1,2,3,4,5]">
                                                        <img class="ratingstar" src="./assets/images/star-disabled.svg"
                                                            alt="" />
                                                    </ng-container>
                                                </ng-container>
                                            </div>
                                        </div>
                                        <div
                                            class="col-md-9 col-xs-9 col-sm-9 col-lg-10 bus-title-content no-padding-small">
                                            <div class="col-md-8 col-sm-8 col-lg-8 no-padding"
                                                [ngClass]="{'col-xs-10':(search_result.fields.ynw_verified_level > 1)?true:false}">
                                                <div class="pointer-cursor" (click)="providerDetClicked(search_result)">
                                                    <h3>{{search_result.fields.title | capitalizeFirst}} <span
                                                            class="mgn-lt-10" *ngIf="search_result.fields.jdn == 1"
                                                            (click)="openJdn(search_result)"
                                                            [matTooltip]="jdnTooltip"><img height="30" width="30"
                                                                src="./assets/images/JDN.png"></span></h3>
                                                    <div
                                                        class="col-md-12 col-xs-12 col-sm-12 col-lg-12 mgn-up-3 no-padding">
                                                        <h6><a [href]="'https://www.google.com/maps/place/'+search_result.fields.location1+'/@'+search_result.fields.location1+',15z'"
                                                                target="_blank"
                                                                *ngIf="search_result.fields.location1"><i
                                                                    class="fa fa-map-marker"></i>&nbsp;{{search_result.fields.place1 | capitalizeFirst }}</a>
                                                        </h6>
                                                    </div>
                                                    <div
                                                        *ngIf="search_result.fields.account_type && search_result.fields.account_type == 1">
                                                        <b>{{search_result.fields.branch_name}}</b>
                                                    </div>
                                                    <div *ngIf="search_result && search_result.fields.specializationFiltered && search_result.fields.specializationFiltered.length == 1"
                                                        class="question-header mgn-up-3">
                                                        Specialization
                                                    </div>
                                                    <div *ngIf="search_result && search_result.fields.specializationFiltered && search_result.fields.specializationFiltered.length > 1"
                                                        class="question-header mgn-up-3">
                                                        Specializations
                                                    </div>
                                                    <div class="question-value1"
                                                        *ngIf="search_result && search_result.fields.specializationFiltered && search_result.fields.specializationFiltered.length > 0">
                                                        <span
                                                            *ngFor="let spec of (search_result.fields.specializationFiltered)"
                                                            style="margin-right:10px">
                                                            {{spec}}
                                                        </span>
                                                        <span *ngIf="search_result.fields.specializationMore"
                                                            class="link pointer-cursor"
                                                            (click)="providerDetClicked(search_result)">...</span>
                                                    </div>
                                                    <div *ngIf="search_result.fields.userCount" class="mgn-up-5">
                                                        <h6 class="prov-name"><a>{{search_result.fields.userCount}}
                                                                {{search_result.fields.provider_label}} </a></h6>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4 col-xs-2 col-sm-4 col-lg-4 no-padding ">
                                                <div class="col-sm-12 col-xs-12 col-md-12 no-padding">
                                                    <span class="img pic_align pull-right"
                                                        *ngIf="search_result.fields.ynw_verified_level==2"
                                                        [matTooltipClass]="tooltipcls"
                                                        [matTooltip]="'Jaldee verified-basic'">
                                                        <img src="./assets/images/basic.png" alt="Basic"></span>
                                                    <span class="img pic_align pull-right"
                                                        *ngIf="search_result.fields.ynw_verified_level==3"
                                                        [matTooltipClass]="tooltipcls"
                                                        [matTooltip]="'Jaldee verified-basic plus'"><img
                                                            src="./assets/images/basicpls.png" alt="Basic Plus"></span>
                                                    <span class="img pic_align pull-right"
                                                        *ngIf="search_result.fields.ynw_verified_level==4"
                                                        [matTooltipClass]="tooltipcls"
                                                        [matTooltip]="'Jaldee verified-advanced'"><img
                                                            src="./assets/images/premium.png" alt="Advanced"></span>
                                                    <span class="pull-right hidden-xs">
                                                        <a class="search-action"
                                                            (click)="communicateHandler(search_result)">
                                                            <img class="img" src="./assets/images/enquiry.jpeg"
                                                                alt="Enquiry" [matTooltip]="'Enquiry'"/>
                                                            <!-- <span style="display:block">{{send_messages}}</span> -->
                                                        </a>
                                                    </span>
                                                    <span class="pull-right hidden-xs" *ngIf="search_result.fields.claimable!=1 && (stringToInt(search_result.fields.first_checkin_coupon_count))!=0 && isfirstCheckinOffer" >
                                                        <a class="search-action"
                                                        (click)="!btn_clicked && openCoupons(search_result,true)">
                                                            <img class="img" src="./assets/images/first_coupon.png"
                                                            alt="First Time Coupons" [matTooltip]="'First Time Coupons'"/>
                                                            <!-- <span style="display:block">{{first_time_coupon}}</span> -->
                                                        </a>
                                                    </span>
                                                    <span class="pull-right hidden-xs" *ngIf="search_result.fields.claimable!=1 && (stringToInt(search_result.fields.coupon_enabled))!=0">
                                                        <a class="search-action"
                                                        (click)="!btn_clicked && openCoupons(search_result,true)">
                                                        <img class="img" src="./assets/images/jcoupon.png"
                                                        alt="Jaldee Coupon" [matTooltip]="'Jaldee Coupons'"/>
                                                            <!-- <span style="display:block">{{jaldee_coupon}}</span> -->
                                                        </a>
                                                    </span>
                                                </div>                                               
                                                <!-- <div class="col-sm-12 col-xs-6 col-md-12 hidden-xs">
                                                    <ul class="bus-actions no-padding">
                                                        
                                                    </ul>
                                                </div> -->
                                                
                                                <div class="col-sm-12 col-xs-6 col-md-12 hidden-xs" *ngIf="search_result.fields.claimable==1">
                                                    <ul class="bus-actions no-padding">
                                                        <li>
                                                            <a class="like-btn"
                                                            (click)="claimBusiness(search_result)">
                                                            <img class="img" src="./assets/images/claim.png"
                                                            alt="Claim your Business" />
                                                        <span style="display:block">{{claim_my_business_cap}}</span>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12 smalldevicebx mgn-up-10 link visible-xs">
                                            <span (click)="communicateHandler(search_result)"
                                                *ngIf="search_result.fields.claimable!=1" [matTooltipClass]="tooltipcls"
                                                [matTooltip]="commTooltip" class=" pic_align pull-left centeralign">
                                                <img class="enquiry" src="./assets/images/enquiry.jpeg" alt="Enquiry" />
                                                <span style="display:block">{{send_messages}}</span>
                                            </span>
                                            <span class="pic_align pull-left centeralign mgn-lt-20"
                                                *ngIf="search_result.fields.claimable!=1 && (stringToInt(search_result.fields.first_checkin_coupon_count))!=0 && isfirstCheckinOffer"
                                                (click)="!btn_clicked && openCoupons(search_result,true)">
                                                <img class="img2" src="./assets/images/first_coupon.png"
                                                    alt="First Time Coupons" />
                                                <span style="display:block">{{first_time_coupon}}</span>
                                            </span>
                                            <span class=" pic_align pull-left centeralign mgn-lt-20"
                                                *ngIf="search_result.fields.claimable!=1 && (stringToInt(search_result.fields.coupon_enabled))!=0"
                                                (click)="!btn_clicked && openCoupons(search_result)"
                                                [matTooltipClass]="tooltipcls" [matTooltip]="couponTooltip">
                                                <img class="img1" src="./assets/images/jcoupon.png"
                                                    alt="Jaldee Coupon" />
                                                <span style="display:block">{{jaldee_coupon}}</span>
                                            </span>

                                            <span class=" pic_align pull-left centeralign mgn-lt-20"
                                                (click)="claimBusiness(search_result)"
                                                *ngIf="search_result.fields.claimable==1">
                                                <img class="img1" src="./assets/images/claim.png"
                                                    alt="Claim your Business" />
                                                <span style="display:block">{{claim_my_business_cap}}</span>
                                            </span>
                                        </div>
                                        <ks-modal-gallery *ngIf="image_list_popup && image_list_popup.length>0"
                                            [modalImages]="image_list_popup"
                                            [plainGalleryConfig]="customPlainGalleryRowConfig"
                                            [buttonsConfig]="customButtonsFontAwesomeConfig"
                                            (buttonBeforeHook)="onButtonBeforeHook($event)"
                                            (buttonAfterHook)="onButtonAfterHook($event)"></ks-modal-gallery>

                                        <!-- Book Service button start -->
                                        <div class="clearfix"></div>
                                        <div class="bottom-sect pdetail"
                                            *ngIf="showButton(search_result) === 'bookservice'">
                                            <div class="bt-l">
                                                <div class="wt-tme notallowed" *ngIf="search_result.fields['apptMessage'] && search_result.fields['estimatedtime_det']['message']">
                                                    {{search_result.fields['estimatedtime_det']['message']}}
                                                 </div>
                                                <div class="wt-tme" *ngIf="!search_result.fields.departments && search_result.fields.allServices && search_result.fields.allServices.length > 0">
                                                    <div class="search-services"
                                                        >
                                                        <span class="question-header">Services Count: </span>
                                                        <span
                                                            class="question-value1">{{search_result.fields.allServices.length}}</span>
                                                        </div>
                                                        <div class="search-services"
                                                            *ngIf="search_result.fields.departments">
                                                            <span class="question-header">Departments Count: </span>
                                                            <span
                                                                class="question-value1">{{search_result.fields.departments.length}}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div style="flex-grow:1"></div>
                                                <div class="bottom-actions-root">                                                                                                       
                                                    <div class="checkin-est nrm"
                                                        *ngIf="search_result.fields.waitlist && !search_result.fields['estimatedtime_det']['message'] && search_result.fields['estimatedtime_det']['calculationMode']!='NoCalc'">
                                                        <span class="est-time"
                                                            *ngIf="search_result.fields['estimatedtime_det']['caption']">{{search_result.fields['estimatedtime_det']['caption']}}</span>
                                                        <span class="time-data"
                                                            *ngIf="search_result.fields['estimatedtime_det']['time']">{{search_result.fields['estimatedtime_det']['time']}}
                                                        </span>
                                                    </div>
                                                    <div class="checkin-est"
                                                        *ngIf="search_result.fields.waitlist && search_result.fields['estimatedtime_det']['calculationMode']=='NoCalc' && search_result.fields['estimatedtime_det']['showToken']">
                                                        <span class=""
                                                            *ngIf="search_result.fields['estimatedtime_det']['personAhead'] > 1"><b>{{search_result.fields['estimatedtime_det']['personAhead']}}</b>&nbsp;{{people_ahead}}</span>
                                                        <span class=""
                                                            *ngIf="search_result.fields['estimatedtime_det']['personAhead'] == 1"><b>{{search_result.fields['estimatedtime_det']['personAhead']}}</b>&nbsp;{{one_person_ahead}}</span>
                                                        <span class=""
                                                            *ngIf="search_result.fields['estimatedtime_det']['personAhead'] == 0">Be
                                                            the first in line</span>
                                                    </div>
                                                    <div class="checkin-est" *ngIf="!search_result.fields.waitlist && search_result.fields.apptAllowed && !search_result.fields['apptMessage']">
                                                    <span class="est-time"
                                                            >{{search_result.fields['appttime_det']['caption']}}</span>
                                                        <span class="time-data"
                                                            >{{search_result.fields['appttime_det']['date']}}
                                                        </span>
                                                        </div>
                                                    <span (click)="providerDetClicked(search_result)" *ngIf="!search_result.fields['apptMessage'] && search_result.fields['estimatedtime_det'] || !search_result.fields['estimatedtime_det']['message']"
                                                        class="checkin-btn">Book
                                                        Service</span>
                                                    
                                                </div>
                                            </div>
                                            <!-- Book service butoon ends -->

                                            <div class="bottom-sect" *ngIf="showButton(search_result) === 'waitlist'">
                                                <div class="bt-l">
                                                    <div class="wt-tme"
                                                        *ngIf="search_result.fields['estimatedtime_det'] && search_result.fields['estimatedtime_det']['message']!='No active services'">
                                                        <div class="wt-tme notallowed">
                                                            <ng-container
                                                                *ngIf="search_result.fields['estimatedtime_det']['message']">
                                                                {{search_result.fields['estimatedtime_det']['message']}}
                                                            </ng-container>
                                                        </div>
                                                        <div
                                                            *ngIf="search_result.fields['estimatedtime_det']['calculationMode']!='NoCalc' ||(search_result.fields['estimatedtime_det']['calculationMode']=='NoCalc' && search_result.fields['estimatedtime_det']['showToken'])">
                                                            <div
                                                                *ngIf="search_result.fields['estimatedtime_det']['personAhead'] && search_result.fields['estimatedtime_det']['personAhead'] >= 0">
                                                                <b>{{search_result.fields['estimatedtime_det']['personAhead']}}
                                                                </b><span class="people-ahead"
                                                                    *ngIf="search_result.fields['estimatedtime_det']['personAhead'] > 1">{{people_ahead}}</span>
                                                                <span class="people-ahead"
                                                                    *ngIf="search_result.fields['estimatedtime_det']['personAhead'] == 1">{{one_person_ahead}}</span>
                                                                <span class="people-ahead"
                                                                    *ngIf="search_result.fields['estimatedtime_det']['personAhead'] == 0">Be
                                                                    the first in line</span>
                                                            </div>
                                                            <div class="search-services"
                                                                *ngIf="!search_result.fields.departments && search_result.fields.serviceList && search_result.fields.serviceList.length > 0 && search_result.fields['estimatedtime_det'] && !search_result.fields['estimatedtime_det']['message']">
                                                                <span
                                                                    class="question-header checkin-service-group">Services Count: </span>
                                                                <span
                                                                    class="question-value1">{{search_result.fields.serviceList.length}}</span>                                                                
                                                            </div>

                                                            <div class="search-services"
                                                                *ngIf="search_result.fields.departments">
                                                                <span
                                                                    class="question-header checkin-service-group">Departments Count: </span>
                                                                <span
                                                                    class="question-value1">{{search_result.fields.departments.length}}</span>                                                                
                                                            </div>

                                                            <div class="search-services"
                                                                *ngIf="!search_result.fields.departments && !search_result.fields.serviceList && search_result.fields.services">
                                                                <ul>
                                                                    <li class="question-value1 link"
                                                                        *ngFor="let serv of search_result.fields.services"
                                                                        (click)="!btn_clicked && checkserviceClicked(serv,search_result, 'serviceClick')">{{serv
                                                | capitalizeFirst}}</li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div style="flex-grow:1"></div>
                                                <div class="bottom-actions-root"
                                                    *ngIf="search_result.fields['estimatedtime_det'] && (search_result.fields['estimatedtime_det']['onlineCheckIn'] || search_result.fields.future_checkins==1)">
                                                    <div class="checkin-est nrm"
                                                        *ngIf="!search_result.fields['estimatedtime_det']['message'] && search_result.fields['estimatedtime_det']['calculationMode']!='NoCalc'">
                                                        <span class="est-time"
                                                            *ngIf="search_result.fields['estimatedtime_det']['caption']">{{search_result.fields['estimatedtime_det']['caption']}}</span>
                                                        <span class="time-data"
                                                            *ngIf="search_result.fields['estimatedtime_det']['time']">{{search_result.fields['estimatedtime_det']['time']}}
                                                        </span>
                                                    </div>
                                                    <div class="checkin-est"
                                                        *ngIf="search_result.fields['estimatedtime_det']['calculationMode']=='NoCalc' && search_result.fields['estimatedtime_det']['showToken']">                                                       
                                                        <span class=""
                                                            *ngIf="search_result.fields['estimatedtime_det']['personAhead'] > 1"><b>{{search_result.fields['estimatedtime_det']['personAhead']}}</b>&nbsp;{{people_ahead}}</span>
                                                        <span class=""
                                                            *ngIf="search_result.fields['estimatedtime_det']['personAhead'] == 1"><b>{{search_result.fields['estimatedtime_det']['personAhead']}}</b>&nbsp;{{one_person_ahead}}</span>
                                                        <span class=""
                                                            *ngIf="search_result.fields['estimatedtime_det']['personAhead'] == 0">Be
                                                            the first in line</span>
                                                    </div>
                                                    <div class="checkin-est nrm"
                                                        *ngIf="!search_result.fields.waitlist && search_result.fields.apptAllowed && search_result.fields['appttime_det']">
                                                        <span class="est-time"
                                                            >{{search_result.fields['appttime_det']['caption']}}</span>
                                                        <span class="time-data"
                                                            >{{search_result.fields['appttime_det']['date']}}
                                                        </span>
                                                    </div>
                                                    <span class="checkin-btn"
                                                        (click)="providerDetClicked(search_result)"
                                                        *ngIf="((search_result.fields['estimatedtime_det']['onlineCheckIn'] && search_result.fields['estimatedtime_det']['isAvailableToday'] && search_result.fields['estimatedtime_det']['availableToday']) || (search_result.fields['estimatedtime_det']['cdate'] && search_result.fields.future_checkins==1)) && !search_result.fields['estimatedtime_det']['showToken']">{{getTerminologyTerm('waitlist',
                                search_result.fields)}}</span>
                                                    <span class="checkin-btn"
                                                        (click)="providerDetClicked(search_result)"
                                                        *ngIf="((search_result.fields['estimatedtime_det']['onlineCheckIn'] && search_result.fields['estimatedtime_det']['isAvailableToday'] && search_result.fields['estimatedtime_det']['availableToday']) || (search_result.fields['estimatedtime_det']['cdate'] && search_result.fields.future_checkins==1)) && search_result.fields['estimatedtime_det']['showToken']">{{get_token_btn}}</span>
                                                    <span class="checkin-btn disabled"
                                                        *ngIf="!search_result.fields['estimatedtime_det']['showToken'] && (!search_result.fields['estimatedtime_det']['onlineCheckIn'] || !search_result.fields['estimatedtime_det']['isAvailableToday'] || !search_result.fields['estimatedtime_det']['availableToday']) && (!search_result.fields['estimatedtime_det']['cdate'] || search_result.fields.future_checkins==0)">{{getTerminologyTerm('waitlist',
                                search_result.fields)}}</span>
                                                    <span class="checkin-btn disabled"
                                                        *ngIf="search_result.fields['estimatedtime_det']['showToken'] && (!search_result.fields['estimatedtime_det']['onlineCheckIn'] || !search_result.fields['estimatedtime_det']['isAvailableToday'] || !search_result.fields['estimatedtime_det']['availableToday']) && (!search_result.fields['estimatedtime_det']['cdate'] || search_result.fields.future_checkins==0)">{{get_token_btn}}</span>
                                                </div>
                                            </div>
                                            <div class="bottom-sect pdetail"
                                                *ngIf="showButton(search_result) === 'appt' && !search_result.fields['apptMessage']">
                                                <div class="bt-l">
                                                    <div class="wt-tme">
                                                        <div class="search-services"
                                                            *ngIf="!search_result.fields.departments">
                                                            <span class="question-header">Services Count: </span>
                                                            <span class="question-value1"
                                                                *ngIf="!search_result.fields.appointmentServiceList">{{search_result.fields.appt_services.length}}</span>
                                                            <span class="question-value1"
                                                                *ngIf="search_result.fields.appointmentServiceList">{{search_result.fields.appointmentServiceList.length}}</span>                                                            
                                                        </div>
                                                        <div class="search-services"
                                                            *ngIf="search_result.fields.departments">
                                                            <span class="question-header">Departments Count: </span>
                                                            <span
                                                                class="question-value1">{{search_result.fields.departments.length}}</span>                                                           
                                                        </div>
                                                    </div>
                                                </div>
                                                <div style="flex-grow:1"></div>
                                                <div class="bottom-actions-root">
                                                    <div class="checkin-est">
                                                        <span class="est-time"
                                                            >{{search_result.fields['appttime_det']['caption']}}</span>
                                                        <span class="time-data"
                                                            >{{search_result.fields['appttime_det']['date']}}
                                                        </span>
                                                    </div>
                                                    <span (click)="providerDetClicked(search_result)"
                                                        class="checkin-btn">Appointment</span>
                                                </div>
                                            </div>
                                            <div class="bottom-sect pdetail pad-up-10"
                                                *ngIf="showButton(search_result) === 'appt' && search_result.fields['apptMessage']">
                                                {{search_result.fields['apptMessage']}}
                                            </div>
                                            <div class="bottom-sect pdetail"
                                                *ngIf="showButton(search_result) === 'donation'">
                                                <div class="bt-l">
                                                    <div class="wt-tme">
                                                        <div
                                                            *ngIf="(!search_result.fields.donationServices && search_result.fields.donation_services.length > 1) || search_result.fields.donationServices && search_result.fields.donationServices.length > 1">
                                                            <span class="question-header">Donation Services</span>
                                                            <ul
                                                                *ngIf="!search_result.fields.donationServices && search_result.fields.donation_services.length > 1">
                                                                <li class="question-value1 link"
                                                                    *ngFor="let donationService of search_result.fields.donation_services"
                                                                    (click)="!btn_clicked && checkserviceClicked(donationService,search_result, 'donation')">
                                                                    {{donationService}}</li>
                                                            </ul>
                                                            <ul
                                                                *ngIf="search_result.fields.donationServices && search_result.fields.donationServices.length > 1">
                                                                <li class="question-value1 link"
                                                                    *ngFor="let donationService of search_result.fields.donationServices"
                                                                    (click)="!btn_clicked && checkserviceClicked(donationService,search_result, 'donationList')">
                                                                    {{donationService.name}}
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div style="flex-grow:1"></div>
                                                <div class="bottom-actions-root">
                                                    <div class="checkin-est">
                                                        <span
                                                            *ngIf="!search_result.fields.donationServices && search_result.fields.donation_services.length == 1">
                                                            <span
                                                                (click)="!btn_clicked && checkserviceClicked(search_result.fields.donation_services[0],search_result, 'donation')">
                                                                {{search_result.fields.donation_services[0]}}</span>
                                                        </span>
                                                        <span
                                                            *ngIf="search_result.fields.donationServices && search_result.fields.donationServices.length == 1">
                                                            <span
                                                                (click)="!btn_clicked && checkserviceClicked(search_result.fields.donationServices[0],search_result, 'donation')">
                                                                {{search_result.fields.donationServices[0].name}}
                                                            </span>
                                                        </span>
                                                    </div>
                                                    <span (click)="providerDetClicked(search_result)"
                                                        class="checkin-btn">Donate</span>
                                                </div>
                                            </div>
                                            <div class="bottom-sect pad-bt-0"
                                                *ngIf="!showButton(search_result) && search_result.fields['estimatedtime_det'] && (search_result.fields['estimatedtime_det']['message'] || search_result.fields['apptMessage'])">
                                                <div class="bt-l">
                                                    <div class="wt-tme">
                                                        <div class="wt-tme notallowed">
                                                            <ng-container
                                                                *ngIf="search_result.fields['estimatedtime_det']['message']">
                                                                {{search_result.fields['estimatedtime_det']['message']}}
                                                            </ng-container>
                                                            <ng-container
                                                                *ngIf="!search_result.fields['estimatedtime_det']['message'] && search_result.fields['apptMessage']">
                                                                {{search_result.fields['apptMessage']}}
                                                            </ng-container>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="search_paging">
                                        <app-pager [total_pages]="pass_totalpages()" [pagesize]="pass_pagesize()"
                                            (pagerclick)="handle_pageclick($event)" [curpage]="startpageval">
                                        </app-pager>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
        </div>
</section>
<app-consumer-footer></app-consumer-footer>