<app-header [headerTitle]="" [includedfrom]="'phome'" id="pro_home"></app-header>
<section class="signup">
    <!-- <form [formGroup]="signupForm" class="signup-form" novalidate (ngSubmit)="signupForm.valid &&
onSubmit()" (keyup)="resetApiErrors()"> -->
    <div class="container1">
        <div *ngIf="active_step==0">
            <div class="signup-content">
                <div class="signup-form">
                    <h2 class="form-title">Service Provider Sign up</h2>
                    <form [formGroup]="signupForm" class="register-form" novalidate (keyup)="resetApiErrors()"
                        id="register-form">
                        <div class="form-group">
                            <label for="name"><i class="zmdi zmdi-account material-icons-name"></i></label>
                            <div class="input-group-prepend mob-prefix">
                                <span class="input-group-text" id="">{{mob_prefix_cap}}</span>

                                <input type="text" formControlName="phonenumber" name="phone" id="phone"
                                    placeholder="Mobile number" maxlength=10 />
                                <app-field-error-display
                                    [displayError]="fed_service.isFieldValid(signupForm,'phonenumber')" [errorMsgs]="fed_service.getErrorMessage(signupForm,'phonenumber',
                                {
                                  'required' : 'Mobile number is required',
                                  'minlength' : 'Enter a 10 digit mobile number',
                                  'maxlength' : 'Enter a 10 digit mobile number',
                                  'pattern' : 'Only numbers are allowed'
                                })">
                                </app-field-error-display>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="Firstname"><i class="zmdi zmdi-email"></i></label>
                            <input type="text" formControlName="first_name" name="Firstname" id="Firstname"
                                placeholder="First name*" />
                            <app-field-error-display [displayError]="fed_service.isFieldValid(signupForm,'first_name')"
                                [errorMsgs]="fed_service.getErrorMessage(signupForm,'first_name',
{
  'required' : 'First name is required',
  'minlength' : 'First name is too short',
  'pattern' : 'Only alphabets are allowed'
})">
                            </app-field-error-display>
                        </div>
                        <div class="form-group">
                            <label for="Lastname"><i class="zmdi-account material-icons-name"></i></label>
                            <input type="text" formControlName="last_name" name="Lastname" id="Lastname"
                                placeholder="Last name" />
                            <app-field-error-display [displayError]="fed_service.isFieldValid(signupForm,'last_name')"
                                [errorMsgs]="fed_service.getErrorMessage(signupForm,'last_name',
                                {
                                  'required' : 'Last name is required',
                                  'pattern' : 'Only alphabets are allowed'
                                })">
                            </app-field-error-display>
                        </div>
                        <div class="form-group agree">
                            <mat-checkbox class="terms-margin" formControlName="terms_condition" [value]=true>
                            </mat-checkbox> <span class="mgn-lt-5 terms-link">{{i_agree_cap}}
                                <a rel="noopener" [routerLink]="['/terms']"
                                    target="_blank">{{terms_cond_cap}}</a></span>
                        </div>
                        <div class="form-group form-button">
                            <input type="submit" name="signup" id="signup" class="form-submit" value="Register"
                                [disabled]="signupForm.get('terms_condition').value == '' || signupForm.get('terms_condition').value == false || !signupForm.valid"
                                (click)="registerClicked()">
                        </div>
                    </form>
                </div>
                <div class="signup-image">
                    <figure><img src="../../../../assets/images/home/signup-image.jpg"></figure>
                    <!-- <a href="#" class="signup-image-link">I am already member</a> -->
                </div>
            </div>
        </div>
    </div>
    <!-- step1 domain -->
    <div *ngIf="active_step==1">
        <section class="signup">
            <div class="container1">
                <div class="signup-content">
                    <!-- <div class="signup-form"> -->
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <h2 class="form-title">Select your area of specialization </h2>
                        <div class="col-md-7 col-sm-12 col-xs-12 no-padding-small">
                            <mat-accordion class="acc-btn acc-doms">
                                <mat-expansion-panel [expanded]="false" *ngFor="let domain of business_domains"
                                    [class.active]="domain===selectedDomain">
                                    <mat-expansion-panel-header [collapsedHeight]="'50px'" [expandedHeight]="'50px'"
                                        class="acc-header">
                                        <mat-panel-title class="block-level">
                                            <div class="subdom_img {{domainSettings[domain.domain].iconClass}}"
                                                *ngIf="domainSettings[domain.domain]">
                                            </div>
                                            <h6>{{domain.displayName}}</h6>
                                        </mat-panel-title>
                                    </mat-expansion-panel-header>
                                    <div class="acc-subdoms" *ngIf="domain && domain.subDomains">
                                        <ul>
                                            <li *ngFor="let subdomain of domain.subDomains"
                                                [class.subdomainstyle]="subdomain.subDomain==selectedSubDomain.subDomain"
                                                (click)="subdomSelection(subdomain,domain)">
                                                {{subdomain.displayName}} <i class="fa fa-check pull-right"
                                                    *ngIf="subdomain.subDomain==selectedSubDomain.subDomain"></i>
                                            </li>
                                        </ul>
                                    </div>
                                </mat-expansion-panel>
                            </mat-accordion>
                            <div class="col-md-12 col-xs-12 col-sm-12 control">
                                <div class="form-group form-button">
                                    <input type="submit" name="signup" id="signup" class="form-submitback" value="Back"
                                        (click)="showregistersection()">&nbsp;
                                    <input type="submit" name="signup" id="signup" class="form-submit" value="Continue"
                                        (click)="subDomainSelected()">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-5 col-xs-12 col-sm-12">
                            <div class="">
                                <figure><img *ngIf="images[selectedDomain.domain]" [src]="images[selectedDomain.domain]"
                                        [alt]="selectedDomain.displayName" class="img-fluid mt-5"></figure>
                                <!-- <a href="#" class="signup-image-link">I am already member</a> -->
                            </div>
                        </div>
                        <!-- </div>                         -->
                    </div>
                </div>

            </div>
        </section>
    </div>
    <!-- step4 otp section -->
    <div *ngIf="active_step==3">
        <section class="signup">
            <div class="container1">
                <div class="signup-content">
                    <div class="signup-form">
                        <h1 _ngcontent-qyo-c1="" class="form-title" style="
                            color: green;
                        ">Congratulations!</h1>
                        <!-- <h2 class="form-title">You have become a Jaldee partner.</h2> -->
                        <h3 class="form-title">Please set your password and enter otp to finish sign up process.</h3>
                        <form method="POST" [formGroup]="spForm" class="register-form" id="register-form">
                            <div class="form-group">
                                <label for="password"></label>
                                <input type="password" formControlName="new_password" name="name" id="name"
                                    placeholder="Enter password" />
                                <app-field-error-display
                                    [displayError]="fed_service.isFieldValid(spForm,'new_password')"
                                    [errorMsgs]="fed_service.getErrorMessage(spForm,'new_password',
                                    {'required' : 'Password is required',
                                    'pattern' : 'Use minimum 8 characters with atleast one uppercase, lowercase and number'})">
                                </app-field-error-display>
                            </div>
                            <div class="form-group">
                                <label for="re-enter"></label>
                                <input type="password" formControlName="confirm_password" name="passsword" id="password"
                                    placeholder="Re-enter password*" (keyup)="keyPressed($event)" />
                                <app-field-error-display
                                    [displayError]="fed_service.isFieldValid(spForm,'confirm_password')" [errorMsgs]="fed_service.getErrorMessage(spForm,'confirm_password',
                                    {'required' : 'Re-enter Password'})">
                                </app-field-error-display>
                                <app-field-error-display [displayError]="!isValidConfirm_pw"
                                    errorMsg="Enter Password and Re-entered Password do not match">
                                </app-field-error-display>
                            </div>

                            <div class="otpsection ynw-common-form-nm">
                                <div *ngIf="showOTPContainer">
                                    <!-- <div class="form-row">
                                        <label>OTP is sent to Your Mobile Number</label>
                                    </div> -->
                                    <div class="form-group">
                                        <mat-form-field>
                                            <input class="number-ip-sm" matInput placeholder="Enter OTP"
                                                [(ngModel)]="otp" [ngModelOptions]="{standalone: true}"
                                                autocomplete="off" (keypress)="removSpecChar($event)" maxlength="5">
                                        </mat-form-field>
                                    </div>
                                    <mat-dialog-actions>
                                        <div class="resendouter" *ngIf="resetCounterVal==0">
                                            <span (click)="resendOTPMobile()" mat-button> {{resend_otp_to_cap}}
                                                <ng-container *ngIf="type=='change_email'">
                                                    Email</ng-container></span>
                                            <ul class="info-lst">
                                                <span class="black">Having a problem with your phone? &nbsp;<span
                                                        (click)="setResendViaEmail()"
                                                        mat-button>{{resend_otp_email}}</span></span>
                                            </ul>
                                        </div>
                                        <div class="counter-outer" *ngIf="resetCounterVal>0">
                                            {{resend_otp_opt_active_cap}} <span
                                                class="counter">{{resetCounterVal}}</span>
                                            {{seconds_cap}}
                                        </div>
                                    </mat-dialog-actions>
                                    <div class="form-group form-button">
                                        <input type="submit" [disabled]="!spForm.valid" name="signup" id="signup"
                                            class="form-submit" value="join Jaldee" (click)="onPasswordSubmit()">
                                    </div>
                                </div>
                            </div>
                            <ng-container *ngIf="showOTPEmailContainer">
                                <div class="ynw-common-form-nm otpemailsection">
                                    <div class="form-group pholder">
                                        <mat-form-field>
                                            <input type="email" matInput [(ngModel)]="email"
                                                [ngModelOptions]="{standalone: true}" placeholder="Enter your email id"
                                                autocomplete="off" />
                                        </mat-form-field>
                                    </div>
                                    <mat-dialog-actions>
                                        <div class="col-md-12" style="margin-top: 15px;display: inline-flex;">
                                            <button type="button" class="cs-btn bt2"
                                                (click)="doCancelEmailOTP()">{{cancel_btn_cap}}</button>
                                            <button (click)="resendViaEmail()" mat-button
                                                class="cs-btn bt1">{{resend_btn_cap}}</button>
                                        </div>
                                    </mat-dialog-actions>
                                </div>
                            </ng-container>
                        </form>

                    </div>
                    <div class="signup-image">
                        <figure><img src="../../../../assets/images/home/signup/password.png"></figure>
                    </div>

                </div>
            </div>
        </section>
    </div>
    <!-- step4 -->
    <div *ngIf="active_step==2">
        <section class="signup">
            <div class="container1 ynw-common-form-nm hearus-p">
                <div class="signup-content">
                    <div class="signup-form">
                        <h1 class="form-title"><strong>How did you hear us?</strong></h1>
                        <div>
                            <ul>
                                <li [class.active]="hearus=='SalesReps'" (click)="saleschannelselection('SalesReps')">
                                    <img src="../../../../assets/images/home/signup/sales.png" width="25" height="25" />
                                    <h6>Sales Reps</h6>
                                    <div class="sc-frm" *ngIf="hearus=='SalesReps'">
                                        <app-saleschannel (retfromSC)="onReferalSubmit($event)"
                                            (resetApiErrors)="resetApiErrors()">
                                        </app-saleschannel>
                                    </div>
                                </li>

                                <!-- <app-saleschannel (retfromSC)="onReferalSubmit($event)"
                                        (resetApiErrors)="resetApiErrors()">
                                    </app-saleschannel> -->
                                <!-- <li [class.active]="hearus=='Jaldee'" (click)="saleschannelselection('Jaldee')">
                                    <img src="../../../../assets/images/home/signup/jaldee.png" width="25"
                                        height="25" />
                                    <h6>Jaldee</h6>
                                </li> -->
                                <li [class.active]="hearus=='Facebook'" (click)="saleschannelselection('Facebook')">
                                    <img src="../../../../assets/images/home/signup/facebook-01.png" width="25"
                                        height="25" />
                                    <h6>Facebook</h6>
                                </li>
                                <li [class.active]="hearus=='Friend'" (click)="saleschannelselection('Friend')">
                                    <img src="../../../../assets/images/home/signup/Friend-01.png" width="25"
                                        height="25" />
                                    <h6>Friend</h6>
                                </li>
                                <li [class.active]="hearus=='GoogleSearch'"
                                    (click)="saleschannelselection('GoogleSearch')">
                                    <img src="../../../../assets/images/home/signup/Google.png" width="25"
                                        height="25" />
                                    <h6>Google</h6>
                                </li>
                                <li [class.active]="hearus=='Twitter'" (click)="saleschannelselection('Twitter')">
                                    <img src="../../../../assets/images/home/signup/Twitter.png" width="25"
                                        height="25" />
                                    <h6>Twitter</h6>
                                </li>
                                <li [class.active]="hearus=='Other'" (click)="saleschannelselection('Other')">
                                    <img src="../../../../assets/images/home/signup/Other-01.png" width="25"
                                        height="25" />
                                    <h6>Other</h6>
                                </li>
                            </ul>
                        </div>
                        <div class="form-group form-button">
                            <input type="submit" name="signup" id="signup" class="form-submit" value="Next"
                                (click)="submitHearus()">
                        </div>
                    </div>
                    <div class="signup-image">
                        <figure><img src="../../../../assets/images/home/signup/how.png" alt="sin up image" width="1800"
                                height="1792">
                        </figure>
                        <a (click)="submitHearus()" class="signup-image-link">Skip</a>
                    </div>
                </div>
            </div>
        </section>
    </div>
</section>