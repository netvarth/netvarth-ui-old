<section class="content bus-page">
    <div class="container">
        <div class="row pad-bt-10">
            <div class="panel panel-default">
                <!-- <div class="panel-heading top-row ">
                    <a class="pull-left back-btn mgn-up-5" *ngIf="userId && pSource" (click)="goBack()"><i
                            class="fa fa-arrow-left"></i></a>
                    <a href="https://play.google.com/store/apps/details?id=com.jaldeeinc.jaldee"
                        class="pull-right mgn-lt-10 mgn-up-10"><i
                            class="fa playstore-icon ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i><span
                            class="apptext">Get it on Google Play</span></a>
                    <a href="https://apps.apple.com/in/app/jaldee-com/id1478246665" class="pull-right mgn-up-10"><i
                            class="fa appstore-icon">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i><span
                            class="apptext">Available on the
                            App store</span></a>
                </div> -->
                <!-- Cover Foto -->
                <div *ngIf="bgCover" class="cvr-ht" [ngStyle]="{ 'background-image': 'url(' + bgCover + ')'}">
                </div>
                <div class="panel-body">
                    <div class="col-md-3 col-xs-12 col-sm-3 col-lg-3">
                        <div class="badge-smalldv  visible-xs">
                            <span class="pull-right" *ngIf="businessjson.verifyLevel == 'BASIC'"><img
                                    class="img_sizenew" src="./assets/images/BasicOrg.png" alt="Basic"></span>
                            <span class="pull-right" *ngIf="businessjson.verifyLevel == 'BASIC_PLUS'"><img
                                    class="img_sizenew" src="./assets/images/BasicPlsOrg.png" alt="Basic Plus"></span>
                            <span class="pull-right" *ngIf="businessjson.verifyLevel == 'ADVANCED'"><img
                                    class="img_sizenew" src="./assets/images/PremiumOrg.png" alt="Advanced"></span>
                        </div>
                        <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12" [ngClass]="{'cvr-dp-mgn': bgCover}">
                            <img alt="Profile Image" src="{{bLogo}}" id="profile-image1"
                                class="img-circle img-responsive pointer-cursor" [ngClass]="{'cvr-dp-bdr': bgCover}"
                                (click)="galleryExists && openImageModalRow(image_list_popup[0])">
                        </div>
                        <div class="gal col-md-12 col-xs-12 col-sm-12 col-lg-12" *ngIf="galleryenabledArr.length > 0">
                            <div class="gallery-bullet centeralign pointer-cursor"
                                (click)="openImageModalRow(image_list_popup[0])">
                                <i class="fa fa-circle" *ngFor="let enable of galleryenabledArr"></i>
                                <span class="extra-count" *ngIf="tempgalleryjson.length > 5">+{{extra_img_count}}</span>
                                <!-- <i class="fa fa-circle-o" *ngFor="let i of gallerydisabledArr"></i> -->
                            </div>
                        </div>
                    </div>
                    <div class="col-md-9 col-xs-12 col-sm-9 col-lg-9 no-padding bus-title-content" *ngIf="businessjson">
                        <div class="col-md-8 col-xs-12 col-sm-12 col-lg-9 no-padding">
                            <div class="no-padding"
                                [ngClass]="{'col-md-9 col-sm-9':(businessjson.verifyLevel == 'BASIC' ||
                            businessjson.verifyLevel == 'BASIC_PLUS' || businessjson.verifyLevel == 'ADVANCED')?true:false}">
                                <h3 *ngIf="businessjson.businessName">{{businessjson.businessName | capitalizeFirst}}
                                </h3>
                                <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 mgn-up-5 no-padding single-loc"
                                    *ngIf="locationjson && locationjson.length == 1">
                                    <h6 *ngIf="!locationjson[0].isPlaceisSame"><a [href]="locationjson[0].googleMapUrl"
                                            target="_blank" *ngIf="locationjson[0].googleMapUrl!=''"><i
                                                class="fa fa-map-marker"></i>&nbsp;{{locationjson[0].place | capitalizeFirst}}</a>
                                    </h6>
                                    <h6 *ngIf="locationjson[0].isPlaceisSame"><a [href]="locationjson[0].googleMapUrl"
                                            target="_blank" *ngIf="locationjson[0].googleMapUrl!=''"><i
                                                class="fa fa-map-marker"></i>
                                            {{locationjson[0].address.substr(0, locationjson[0].address.split(',', 2).join(',').length)}}</a>
                                    </h6>
                                </div>
                                <div class="question-main-outer col-md-12 col-xs-12 col-sm-12 no-padding"
                                    *ngIf="bNameStart!='' || bNameEnd!=''">
                                    <div class="question-outer">
                                        <ng-container>
                                            <div class="question-header">About Us
                                            </div>
                                            <div class="question-value1 ">
                                                <span *ngIf="bNameStart!=''"
                                                    [innerHTML]="bNameStart | nl2br"></span><span
                                                    *ngIf="bNameEnd!='' && showmoreDesc"
                                                    [innerHTML]="bNameEnd | nl2br"></span>
                                                <span class="more" *ngIf="!showmoreDesc && bNameEnd!=''"
                                                    (click)="showDesc()">...more</span>
                                                <span class="more" *ngIf="showmoreDesc" (click)="showDesc()">less</span>
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div *ngIf="specializationslist.length == 1" class="question-header mgn-up-5">
                                    Specialization
                                </div>
                                <div *ngIf="specializationslist.length > 1" class="question-header mgn-up-5">
                                    Specializations
                                </div>
                                <div class="question-value1">
                                    <ul class="comma-list">
                                        <li class="item" *ngFor="let spec of specializationslist">{{spec}}</li>
                                        <ng-container *ngIf="showmoreSpec  && specializationslist_more.length>0">
                                            <li class="item" *ngFor="let spec of specializationslist_more">{{spec}}</li>
                                        </ng-container>
                                        <li class="more pointer-cursor"
                                            *ngIf="!showmoreSpec && specializationslist_more.length>0"
                                            (click)="showSpec()">...more</li>
                                        <!-- <li class="more" *ngIf="showmoreSpec && specializationslist_more.length>0"
                                            (click)="showSpec()">less</li> -->
                                    </ul>
                                </div>
                            </div>
                            <div class="col-sm-3 visible-sm">
                                <span class="pull-right" *ngIf="businessjson.verifyLevel == 'BASIC'"><img
                                        class="img_sizenew" src="./assets/images/BasicOrg.png" alt="Basic"></span>
                                <span class="pull-right" *ngIf="businessjson.verifyLevel == 'BASIC_PLUS'"><img
                                        class="img_sizenew" src="./assets/images/BasicPlsOrg.png"
                                        alt="Basic Plus"></span>
                                <span class="pull-right" *ngIf="businessjson.verifyLevel == 'ADVANCED'"><img
                                        class="img_sizenew" src="./assets/images/PremiumOrg.png" alt="Advanced"></span>
                            </div>
                        </div>
                        <div class="col-md-4 col-xs-12 col-sm-12 col-lg-3 no-padding">
                            <div class="verify hidden-xs hidden-sm">
                                <span class="pull-right" *ngIf="businessjson.verifyLevel == 'BASIC'"><img
                                        class="img_sizenew" src="./assets/images/BasicOrg.png" alt="Basic"></span>
                                <span class="pull-right" *ngIf="businessjson.verifyLevel == 'BASIC_PLUS'"><img
                                        class="img_sizenew" src="./assets/images/BasicPlsOrg.png"
                                        alt="Basic Plus"></span>
                                <span class="pull-right" *ngIf="businessjson.verifyLevel == 'ADVANCED'"><img
                                        class="img_sizenew" src="./assets/images/PremiumOrg.png" alt="Advanced"></span>
                            </div>
                            <ul class="bus-actions no-padding mgn-up-10" *ngIf="settings_exists && business_exists">
                                <!-- <li *ngIf="!isInFav && !userId">
                                    <a class='like-btn' (click)="handle_Fav('add')">
                                        {{add_to_fav_cap}}
                                    </a>
                                </li> -->
                                <li>
                                    <a class="like-btn" (click)="communicateHandler()">
                                        <span *ngIf="provider_bussiness_id">
                                            {{send_msgs_cap}}
                                        </span>
                                    </a>
                                </li>
                                <li class="more_less centeralign pull-right" *ngIf="!showMore"><a class="mgn-lt-3 lnk pointer-cursor"
                                    (click)="showMoreInfo()">More Info</a></li>
                            <li class="more_less centeralign pull-right" *ngIf="showMore"><a class="mgn-lt-3 lnk pointer-cursor"
                                    (click)="showMoreInfo()">Less Info</a></li>
                            </ul>
                        </div>
                        <!-- <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 no-padding">
                            <ul class="bus-actions bus-actions-horiz no-padding">

                            </ul>
                        </div> -->
                    </div>

                    <ks-modal-gallery [id]="0" *ngIf="image_list_popup && image_list_popup.length>0"
                        [modalImages]="image_list_popup" [plainGalleryConfig]="customPlainGalleryRowConfig"
                        [buttonsConfig]="customButtonsFontAwesomeConfig" (buttonBeforeHook)="onButtonBeforeHook()"
                        (buttonAfterHook)="onButtonAfterHook()"></ks-modal-gallery>
                    <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 no-padding mgn-up-10 showmoresec"
                        *ngIf="showMore">
                        <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 no-padding mgn-up-10" *ngIf="showMore">
                            <div class="col-md-12 col-xs-12 col-sm-12 no-padding mgn-bt-10">
                                <!-- <div class="question-main-outer col-md-6 col-xs-12 col-sm-6 mgn-up-10">
                                    <div class="question-header">Area of Specialization</div>
                                    <div class="question-value1">{{businessjson.serviceSubSector.displayName |
                                        capitalizeFirst}}</div>
                                </div> -->
                                <div class="question-main-outer col-md-6 col-xs-12 col-sm-6 mgn-up-10"
                                    *ngFor="let vfield of virtualfieldsCombinedjson">
                                    <div class="question-outer" *ngIf="vfield.value">
                                        <ng-container>
                                            <div class="question-header">{{vfield.displayName}}</div>
                                            <div class="question-value1" *ngIf="vfield.type!= 'object'"
                                                [innerHTML]="sharedFunctionobj.firstToUpper(vfield.value) | nl2br">
                                            </div>
                                            <div class="question-valuearr" *ngIf="vfield.type== 'object'">
                                                <ul class="virtual-field-ul" *ngFor="let vals of vfield.value">
                                                    <li class="vfield-row" *ngIf="vals.length">
                                                        <span *ngFor="let field of vals" class="morevalspan">
                                                            {{field}}
                                                        </span>
                                                    </li>
                                                </ul>
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                                <div class="question-main-outer col-md-6 col-xs-12 col-sm-6 mgn-up-10"
                                    *ngIf="socialMedialist.length>0">
                                    <div class="question-header">Social Media</div>
                                    <div class="question-value1">
                                        <ul class="details socialmedia m0 no-padding">
                                            <li *ngFor="let soc of socialMedialist"><a rel="noopener" [href]="soc.value"
                                                    target="_blank"><i [class]="getSocialdet(soc.resource, 'iconClass')"
                                                        [matTooltip]="getSocialdet(soc.resource, 'displayName')"></i></a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="question-main-outer col-md-6 col-lg-6 col-xs-12 col-sm-6 mgn-up-10" *ngIf="(locationjson[0].parkingType && locationjson[0].parkingType!=='' && locationjson[0].parkingType != undefined && locationjson[0].parkingType != 'none') ||
                                (locationjson[0].open24hours && locationjson[0].open24hours==1) || locationjson[0]?.locationVirtualFields?.traumacentre=='true' ||
                                locationjson[0]?.locationVirtualFields?.docambulance=='true' || locationjson[0]?.locationVirtualFields?.physiciansemergencyservices=='true' ||
                                locationjson[0]?.locationVirtualFields?.dentistemergencyservices=='true' ||
                                locationjson[0]?.locationVirtualFields?.altemergencyservices=='true' ||
                                locationjson[0]?.locationVirtualFields?.hosemergencyservices=='true' ||
                                locationjson[0]?.locationVirtualFields?.veterinaryemergencyservices=='true' || locationjson[0]?.locationVirtualFields?.firstaid=='true'
                                || locationjson[0]?.locationVirtualFields?.deliveryoptions=='true'">
                                    <div class="question-header">Amenities</div>
                                    <div class="question-value1">
                                        <ul class="details badges m0 no-padding">
                                            <ng-container *ngIf="locationjson && locationjson.length > 0">
                                                <li *ngIf="locationjson[0].parkingType && locationjson[0].parkingType!=='' && locationjson[0].parkingType != undefined && locationjson[0].parkingType != 'none'"
                                                    [matTooltip]="'Parking Type: ' + locationjson[0].parkingType | capitalizeFirst">
                                                    <span class="icon-parking"></span></li>
                                                <li
                                                    *ngIf="locationjson[0].open24hours && locationjson[0].open24hours==1">
                                                    <span class="icon-open-time" [matTooltip]="'24 Hours Open'"></span>
                                                </li>
                                                <li *ngIf="locationjson[0]?.locationVirtualFields?.traumacentre=='true'"
                                                    [matTooltip]="'Trauma Centre'"><span class="icon-trauma"></span>
                                                </li>
                                                <li *ngIf="locationjson[0]?.locationVirtualFields?.docambulance=='true'"
                                                    [matTooltip]="'Ambulance Services'"><span
                                                        class="icon-ambulance"></span>
                                                </li>
                                                <li [matTooltip]="'Emergency Services'" *ngIf="locationjson[0]?.locationVirtualFields?.physiciansemergencyservices=='true' ||
                                    locationjson[0]?.locationVirtualFields?.dentistemergencyservices=='true' ||
                                    locationjson[0]?.locationVirtualFields?.altemergencyservices=='true' ||
                                    locationjson[0]?.locationVirtualFields?.hosemergencyservices=='true' ||
                                    locationjson[0]?.locationVirtualFields?.veterinaryemergencyservices=='true'">
                                                    <span class="icon-emergency"></span></li>
                                                <li *ngIf="locationjson[0]?.locationVirtualFields?.firstaid=='true'"
                                                    [matTooltip]="'First Aid'"><span class="icon-first-aid"></span>
                                                </li>
                                                <li *ngIf="locationjson[0]?.locationVirtualFields?.deliveryoptions=='true'"
                                                    [matTooltip]="'Delivery'"><span class="fa delivery-amenity"></span>
                                                </li>
                                            </ng-container>
                                        </ul>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="question-main-outer col-md-12 col-lg-12 col-xs-12 col-sm-12 mgn-up-10"
                                    *ngIf="phonelist.length > 0 || emaillist.length > 0">
                                    <div class="question-header">Contact Details</div>
                                    <div class="question-value1">
                                        <ul class="details m0 no-padding">
                                            <li *ngIf="phonelist.length > 0">
                                                <span *ngFor="let phone of phonelist">
                                                    <span class="glyphicon glyphicon-user one" style="width:20px"
                                                        [matTooltip]="phone.label | capitalizeFirst">
                                                    </span>{{businessjson.countryCode}} {{phone.instance}}</span>
                                            </li>
                                            <li *ngIf="emaillist.length > 0">
                                                <span *ngFor="let email of emaillist"><span
                                                        class="glyphicon glyphicon-envelope one" style="width:20px"
                                                        [matTooltip]="email.label | capitalizeFirst"></span>{{email.instance}}
                                                </span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Locations -->
        <div class="row info-bar locations" *ngIf="locationjson.length > 1 && !api_loading && !loading">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 pad-top-20 pad-bt-10 bg-col">
                <div class="col-md-7 col-xs-8 no-padding">
                    <h4 *ngIf="!isPlaceisSame"><a [href]="selectedLocation.googleMapUrl" target="_blank"
                            *ngIf="selectedLocation.googleMapUrl!=''"><i
                                class="fa fa-map-marker"></i>&nbsp;{{selectedLocation.place | capitalizeFirst}}</a>
                    </h4>
                    <h4 *ngIf="isPlaceisSame"><a [href]="selectedLocation.googleMapUrl" target="_blank"
                            *ngIf="selectedLocation.googleMapUrl!=''"><i class="fa fa-map-marker"></i>
                            {{selectedLocation.address.substr(0, selectedLocation.address.split(',', 2).join(',').length)}}</a>
                    </h4>
                </div>
                <div class="col-md-5 col-xs-4">
                    <div class="btn-group pull-right">
                        <a  class="dropdown-toggle d-block loc-chg-action" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Change
                        </a>
                        <div class="dropdown-menu dropdown-menu-right">
                          <a class="dropdown-item d-block pad-10" [ngClass]="{'active': selectedLocation.id === loc.id}" (click)="changeLocation(loc)" *ngFor="let loc of locationjson">{{loc.place}}</a>
                        </div>
                      </div>
                </div>
            </div>
        </div>
        <div class="row info-bar locations" *ngIf="locationjson.length > 0 && !api_loading && !loading">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 mgn-bt-50 no-padding">
                <div class="serv-head col-md-12 col-xs-12 col-sm-12 mgn-bt-20" *ngIf="serviceCount > 0" [class.mgn-bt-10]="!showDepartments">
                    <h5 class="mgn-bt-5 primary-color"> {{service_cap}}
                    </h5>
                    <h6 class="question-header">Book online now for your convenience.
                    </h6>
                </div>
                <div class="serv-head col-md-12 col-xs-12 col-sm-12 mgn-bt-20" *ngIf="serviceCount==0 && userCount > 0" [class.mgn-bt-10]="!showDepartments">
                    <h5 class="mgn-bt-5 primary-color"> Doctors and Specializations
                    </h5>
                    <h6 class="question-header">You select a specialty and the doctor you would like to book services for.
                    </h6>
                </div>
                <div class="clearfix"></div>
                <!-- *ngFor="let loc of locationjson; let i = index">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 no-padding loc-card"
                        *ngIf="locationjson.length > 1">
                        <div class="loc-accor">
                            <div class="location-accord">
                                <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 mgn-bt-20">
                                    <h3 *ngIf="!isPlaceisSame"><a [href]="loc.googleMapUrl" target="_blank"
                                            *ngIf="loc.googleMapUrl!=''"><i
                                                class="fa fa-map-marker"></i>&nbsp;{{loc.place | capitalizeFirst}}</a>
                                    </h3>
                                    <h3 *ngIf="isPlaceisSame"><a [href]="loc.googleMapUrl" target="_blank"
                                            *ngIf="loc.googleMapUrl!=''"><i class="fa fa-map-marker"></i>
                                            {{loc.address.substr(0, loc.address.split(',', 2).join(',').length)}}</a>
                                    </h3>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div> -->
                <!-- Departments True-->
                <ng-container *ngIf="showDepartments && !this.userId">
                    <ng-container *ngFor="let sps of servicesAndProviders">
                        <h4 class="p-2 d-block m0 sp-head" *ngIf="sps['departmentItems'].length > 0">
                            {{sps.departmentName}}
                        </h4>
                        <div class="bus-item-N" *ngFor="let sp of sps['departmentItems']">
                            <app-card [item]="sp" [terminology]='terminologiesjson' [loc]="selectedLocation"
                                (actionPerformed)="cardClicked($event)"></app-card>
                        </div>
                        <div class="clearfix"></div>
                        <hr class="my-4" *ngIf="sps['departmentItems'].length > 0" />
                    </ng-container>
                </ng-container>
                <ng-container *ngIf="!showDepartments || (showDepartments && this.userId)">
                    <div class="bus-item-N" *ngFor="let sp of servicesAndProviders">
                        <app-card [item]="sp" [terminology]='terminologiesjson' [loc]="selectedLocation"
                            (actionPerformed)="cardClicked($event)"></app-card>
                    </div>
                </ng-container>
                <ng-container *ngIf="donationServices.length >0">
                    <div class="bus-item-N" *ngFor="let sp of donationServices">
                        <app-card [item]="sp" [terminology]='terminologiesjson' [loc]="selectedLocation"
                            (actionPerformed)="cardClicked($event)"></app-card>
                    </div>
                </ng-container>

                <!-- Order Catalog-->
                <div class="serv-head col-md-12 col-xs-12 col-sm-12 mgn-bt-20" *ngIf="orderItems.length > 0">
                    <div class="col-md-8 col-sm-6 col-xs-12 no-padding">
                        <h5 class="mgn-bt-5 primary-color">{{activeCatalog.catalogName}}</h5>
                        <p class="module-nomargin line-clamp">{{activeCatalog.catalogDesc}}</p>
                    </div>
                    <div class="col-md-4 col-sm-6 col-xs-12 catalog-icons no-padding-small">
                        <span class="pull-left">
                            <span class="mgn-rt-10" *ngIf="activeCatalog.homeDelivery && activeCatalog.homeDelivery.homeDelivery"><img class="ordericon home"
                                    src="../../../../assets/images/Delivery.svg" />&nbsp;Home Delivery</span>
                            <span class=""  *ngIf="activeCatalog.pickUp && activeCatalog.pickUp.orderPickUp"><img class="ordericon pickup"
                                    src="../../../../assets/images/Store pick up.svg" />&nbsp;Store Pickup</span>
                        </span>
                    </div>
                </div>
                <ng-container *ngIf="orderItems.length >0">
                    <div class="bus-item-O" *ngFor="let item of orderItems">
                        <app-card [item]="item" [terminology]='terminologiesjson' [extras]="orderList"
                            [loc]="selectedLocation" (actionPerformed)="cardClicked($event)"></app-card>
                    </div>
                    <div class="shopping-cart-footer" *ngIf="showOrderFooter()">
                        <div>Your Order ({{ order_count }})
                            <span class="rupee-font">SubTotal :&#8377;{{ price }}&nbsp;</span>
                            <button class="btn btn-primary" (click)="checkout();">Checkout</button>
                        </div>
                    </div>
                </ng-container>
            </div>
        </div>
    </div>
</section>
<div id="popup" #popupforApp class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <span class="close" (click)="closeModal()">&times;</span>
      </div>
      <div class="modal-body">
        <div class="section-app text-center">
            <p>Download Jaldee App</p>
            <a class="button1" href="https://play.google.com/store/apps/details?id=com.jaldeeinc.jaldee"><img
                    src="assets/images/img-glplay.png"></a>
            <a class="button2 mgn-lt-10" href="https://apps.apple.com/in/app/jaldee-com/id1478246665"><img
                    src="assets/images/img-aplstore.png"></a>
        </div>
      </div>
    </div>

  </div>
<!-- <app-consumer-footer></app-consumer-footer> -->
