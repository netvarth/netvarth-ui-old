<h1 class="mat-dialog-title" *ngIf="step!=1 && step!=2  && step!=3">&nbsp;<button (click)="onCancelPass()"
    class="modal_close" tabindex="-1"><i class="fa fa-window-close" aria-hidden="true"></i></button></h1>
<h1 class="mat-dialog-title custom-login-form" *ngIf="step==1"><span *ngIf="step==1">{{heading}}</span><button
    mat-dialog-close class="modal_close" tabindex="-1"><i class="fa fa-window-close" aria-hidden="true"></i></button>
</h1>
<h1 class="mat-dialog-title" *ngIf="step==2 || step==3"><button mat-dialog-close class="modal_close" tabindex="-1"><i
      class="fa fa-window-close" aria-hidden="true"></i></button></h1>
<form [formGroup]="signupForm" class="signup-form custom-login-form" novalidate (ngSubmit)="onSubmit()"
  (keyup)="resetApiErrors()">
  <div class="mat-dialog-content" *ngIf="step==1">
    <div class="form-group" *ngIf="!data.moreOptions.isCreateProv">
      <div class="form-group">
        <mat-label for="phone">Enter your Mobile Number</mat-label>
        <ngx-intl-tel-input [cssClass]="'custom'" [preferredCountries]="preferredCountries"
          [enableAutoCountrySelect]="true" [enablePlaceholder]="true" [searchCountryFlag]="true"
          [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]" [selectFirstCountry]="false"
          [maxLength]="15" [phoneValidation]="true" [selectedCountryISO]="selectedCountry"
          [separateDialCode]="separateDialCode" [numberFormat]="PhoneNumberFormat.National" name="phonenumber"
          formControlName="phonenumber" (countryChange)="countryChanged($event)">
        </ngx-intl-tel-input>
        <div class="sts-msg error" *ngIf="phoneError">{{phoneError}}</div>
      </div>
      <div class="clearfix"></div>
      <div class="form-group">
        <mat-label for="phone">First Name</mat-label>
        <input type="text" class="form-control" id="first_name" placeholder="" formControlName="first_name"
          autocomplete="off" (blur)="onFieldBlur('first_name')">
        <app-field-error-display [displayError]="fed_service.isFieldValid(signupForm,'first_name')" [errorMsgs]="fed_service.getErrorMessage(signupForm,'first_name',
{
'required' : 'First name is required',
'pattern' : 'Only alphabets are allowed'
})">
        </app-field-error-display>
      </div>
      <div class="form-group">
        <mat-label for="phone">Last Name</mat-label>
        <input type="text" class="form-control" id="last_name" placeholder="" formControlName="last_name"
          autocomplete="off" (blur)="onFieldBlur('last_name')">
        <app-field-error-display [displayError]="fed_service.isFieldValid(signupForm,'last_name')" [errorMsgs]="fed_service.getErrorMessage(signupForm,'last_name',
{
  'required' : 'Last name is required',
  'pattern' : 'Only alphabets are allowed'
})">
        </app-field-error-display>
      </div>
      <div class="form-group" *ngIf="countrySelected != 'in'">
        <mat-label for="phone">Email</mat-label>
        <input type="text" class="form-control" id="last_name" placeholder="" formControlName="email" autocomplete="off"
          (blur)="onFieldBlur('email')">
      </div>
    </div>
    <div class="form-group agree">
      <mat-checkbox class="terms-margin" formControlName="terms_condition" [value]=true></mat-checkbox> <span
        class="terms-link">{{i_agree_cap}}
        <a rel="noopener" [routerLink]="['/terms']" target="_blank">{{terms_cond_cap}}</a></span>
    </div>
  </div>
  <div class="mat-dialog-actions" *ngIf="step==1">
    <button type="submit" mat-button
      [disabled]="signupForm.get('terms_condition').value == '' || signupForm.get('terms_condition').value == false">Send
      OTP</button>
    <div *ngIf="is_provider=='false'" style="padding-top:10px;">If you are a Service Provider / Business Owner
      <div><a style="cursor:pointer" class="normal-link" (click)="goBusinessClicked()">Go to Jaldee Business</a></div>
    </div>
  </div>
</form>
<div class="example-container otpouter" *ngIf="step==2">
  <app-otp-form [type]="'signup'" [submitdata]="user_details" (retonOtpSubmit)="onOtpSubmit($event)"
    (resetApiErrors)="resetApiErrors()" [actionstarted]="actionstarted" (resendOtp)="resendOtp($event)"
    [resendemailotpsuccess]="resendemailotpsuccess">
  </app-otp-form>
</div>
<div class="example-container" *ngIf="step==4">
  <app-sp-form (retonPasswordSubmit)="onPasswordSubmit($event)" (resetApiErrors)="resetApiErrors()"
    (onCancelBtn)="onCancelPass()" [checkConsumerOrProvider]="'consumer'"></app-sp-form>
</div>
<div class="example-container" *ngIf="step==5">
  <mat-dialog-content class="pwd_cancel_scr">
    <p class="col-form-label col-md-12 no-padding" for="otp">{{close_message}}</p>
  </mat-dialog-content>
  <mat-dialog-actions>
    <button tabindex="-1" (click)="continuetoPwd()" class="cs-btn bt2">{{cancel_btn_cap}}</button>
    <button tabindex="2" (click)="closePwdScreen()" class="cs-btn bt1 reddelete">{{ok_btn_cap}}</button>
  </mat-dialog-actions>
</div>
<div *ngIf="api_error">
  <app-field-error-display [displayError]="true" errorMsg="{{api_error}}"></app-field-error-display>
</div>
<div *ngIf="api_success">
  <app-form-success-display [displayMsg]="true" successMsg="{{api_success}}"></app-form-success-display>
</div>