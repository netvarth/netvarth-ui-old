<app-header *ngIf="page_source === 'pro-details'" [headerTitle]="'Header'" (searchclick)="handlesearchClick()"
  [passedDomain]="domain" [passedkwdet]="kwdet" [source]="source">
</app-header>
<!-- <section class="content">
  <div class="container">
    <div class="row">
      <div class="c-outer">
        <div class="c-body prov-detail-outer"> -->
<div class="card sp no-padding">
  <div class="c-ot" style="margin-bottom: 10px;
        margin-top: 10px" *ngIf="selectedDepartment && fiterByDept">
    <!-- <div class="item col-md-4 col-xs-12 mgn-bt-10" *ngIf="selectedDepartment.departmentName" style="font-weight: 600;">
      <span class="ttle" style="color: #999999;
                display: block;
                font-weight: 500;">Department Name</span>
      <span>{{selectedDepartment.departmentName}}</span>
    </div> -->
    <div class="item col-md-8 col-xs-12" *ngIf="selectedDepartment.departmentDescription" style="font-weight: 600;">
      <!-- <span class="ttle" style="color: #999999;
                display: block;
                font-weight: 500;">Description</span> -->
      <span> {{selectedDepartment.departmentDescription}}</span>
    </div>
  </div>
  <div class="dept-services col-xs-12 col-md-12 col-sm-12 col-lg-12" *ngIf="!api_loading && showService && serviceJson && serviceJson.length > 0">
    <h6 >{{services_offered}}</h6>
    <ul>
      <li *ngFor="let service of serviceJson" (click)="showServiceDetail(service, businessjson.businessName)">
        <span *ngIf="service.serviceType === 'virtualService'">
          <i class="fa fa-phone"
            *ngIf="service.virtualCallingModes && service.virtualCallingModes[0].callingMode === 'Phone'"></i>
          <i class="fa meet-icon"
            *ngIf="service.virtualCallingModes && service.virtualCallingModes[0].callingMode === 'GoogleMeet'"></i>
          <i class="fa zoom-icon"
            *ngIf="service.virtualCallingModes && service.virtualCallingModes[0].callingMode === 'Zoom'"></i>
          <i class="fa fa-whatsapp whtsap-ic font-bolder"
            *ngIf="service.virtualCallingModes[0].callingMode === 'WhatsApp'"></i>
        </span>
        &nbsp;{{service.name | capitalizeFirst}}</li>
    </ul>
  </div>
  <app-common-innerloading-spinner *ngIf="api_loading"></app-common-innerloading-spinner>
  <ng-container *ngIf="!api_loading && !showService">
    <div class="col-md-12 no-padding" *ngIf="businessjson.accountType === 'BRANCH' && usersList && usersList.length > 0"
      style="padding: 0px">
      <div class="srlst provider-det col-md-12 col-lg-12 col-xs-12 col-xs-12 no-padding" *ngFor="let search_result of usersList">


        <div class="panel-body">
          <div class="col-md-3 col-xs-12 col-sm-4 col-lg-3">
            <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 centresmall">
              <img alt="Profile Image" *ngIf="search_result.bProfile?.logo && search_result.bProfile?.logo?.url"
                [src]="search_result.bProfile.logo.url" id="profile-image1" class="img-circle img-responsive">
            </div>
            <!-- <div class="gal col-md-12 col-xs-12 col-sm-12 col-lg-12">
                    <div class="gallery-bullet centeralign pointer-cursor"
                        (click)="openImageModalRow(image_list_popup[1])">
                        <i class="fa fa-circle" *ngFor="let enable of galleryenabledArr"></i>
                        <i class="fa fa-circle-o" *ngFor="let i of gallerydisabledArr"></i>
                    </div>
                </div> -->
          </div>
          <div class="col-md-9 col-xs-12 col-sm-8 col-lg-9 no-padding bus-title-content">
            <div class="col-md-8 col-xs-12 col-sm-12 col-lg-9 no-padding">
              <div class="no-padding">
                <h3 (click)="providerDetClicked(search_result)">
                  {{search_result.bProfile?.businessName | capitalizeFirst}}</h3>
                <div class="clearfix"></div>
                <div *ngIf="search_result.bProfile?.specialization.length == 1" class="question-header">Specialization
                </div>
                <div *ngIf="search_result.bProfile?.specialization.length > 1" class="question-header">Specializations
                </div>
                <div class="question-value1">
                  <span *ngFor="let spec of search_result.bProfile?.specialization; let i = index;"
                    style="display: inline-block;margin-right:10px">
                    {{spec}}
                  </span>
                </div>
              </div>
            </div>
          </div>

          <!-- <ks-modal-gallery *ngIf="image_list_popup && image_list_popup.length>0" [modalImages]="image_list_popup"
            [plainGalleryConfig]="customPlainGalleryRowConfig" [buttonsConfig]="customButtonsFontAwesomeConfig"
            (buttonBeforeHook)="onButtonBeforeHook($event)" (buttonAfterHook)="onButtonAfterHook($event)">
          </ks-modal-gallery> -->
        </div>









        <!-- <div class="top-sect"> -->
        <!-- <div class="tp-l"> -->
        <!-- <div class="tp1"> -->
        <!-- <div class="pro-img" (click)="providerDetClicked(search_result)">
                <img class="crop-img-fit" *ngIf="search_result.bProfile?.logo && search_result.bProfile?.logo?.url"
                  [src]="search_result.bProfile.logo.url" alt="">
              </div> -->
        <!-- <ul class="gal" *ngIf="search_result.gallery_thumb_nails">
                <li>
                  <div class="galbx">
                    <div class="overlay" (click)="providerDetClicked(search_result)">
                      +{{(search_result.gallery_thumb_nails.length)}}</div>
                    <img [src]="search_result.gallery_thumb_nails[0]" alt="" style="width:50px;height:auto;">
                  </div>
                </li>
              </ul> -->
        <!-- <div class="rating-stars">
                <img class="ratingstar" *ngFor="let enable of search_result.ratingenabledArr"
                  src="./assets/images/star.svg" alt="" />
                <img class="ratingstar" *ngIf="search_result.ratingenabledHalf" src="./assets/images/star-half.svg"
                  alt="" />
                <img class="ratingstar" *ngFor="let enable of search_result.ratingdisabledArr"
                  src="./assets/images/star-disabled.svg" alt="" />
              </div> -->
        <!-- </div> -->
        <!-- <div class="tp2"> -->
        <!-- <h3 [matTooltipClass]="tooltipcls" [matTooltip]="bNameTooltip">
                <span >
                  {{search_result.bProfile?.businessName | capitalizeFirst}} -->
        <!-- <sup class="font-open-now"
                    *ngIf="search_result['opennow'] || search_result['apptopennow']">&nbsp;{{open_now_cap}}
                  </sup> -->
        <!-- </span> -->
        <!-- <span class="mgn-lt-10 pointer-cursor" *ngIf="jdnlength > 0" (click)="openJdn()"
                  [matTooltip]="jdnTooltip"><img height="35" width="35" src="./assets/images/JDN.png"></span> -->
        <!-- </h3> -->
        <!-- <span *ngIf="locationjson[0].place">{{locationjson[0].place | capitalizeFirst }}
                <span class="consumr-loc-icon"> <a rel="noopener" class="directions mgn-lt-20"
                    [href]="locationjson[0].googleMapUrl" target="_blank"
                    *ngIf="locationjson[0].googleMapUrl!=''">{{get_directions_cap}}</a></span>
              </span> -->
        <!-- <div class="clr">
                <div class="otr-elements"> -->
        <!-- <span class="category">{{search_result.bProfile?.userSubSector?.displayName}}</span> -->
        <!-- <span *ngIf="search_result.bProfile?.specialization">
                    <div class="sub-title-donate">Specializations</div><span class="categoryspec"
                      *ngFor="let spec of "><span *ngIf="i>0"
                        class="spacer"></span>{{spec}}</span>
                  </span>
                </div> -->
        <!-- <div class="schedule" *ngIf="locationjson[0]?.display_schedule">
                  <ul> 
                    <li *ngFor="let schedule of locationjson[0]?.display_schedule">
                      <div class="day">{{schedule.dstr}}&nbsp;:</div>
                      <div class="time">{{schedule.time}}
                        <span class="form-level-settings" *ngIf="schedule.recurrtype === 'Once'">(only for
                          today)</span>
                      </div>
                    </li>
                  </ul>
                </div> -->
        <!-- <div class="donat-service"
                  *ngIf="search_result.wtlstservices && search_result.wtlstservices.length > 0">
                  <span class="sub-title-donate checkin-service-group">
                    Services</span>
                  <ul>
                    <li *ngFor="let serv of search_result.wtlstservices"
                      (click)="!btn_clicked && checkserviceClicked(serv,search_result)"><span
                        *ngIf="serv.serviceType == 'virtualService'">
                        <i class="fa fa-phone"
                          *ngIf="serv.virtualCallingModes && serv.virtualCallingModes[0].callingMode === 'Phone'"></i>
                        <i class="fa meet-icon"
                          *ngIf="serv.virtualCallingModes && serv.virtualCallingModes[0].callingMode === 'GoogleMeet'"></i>
                        <i class="fa zoom-icon"
                          *ngIf="serv.virtualCallingModes && serv.virtualCallingModes[0].callingMode === 'Zoom'"></i>
                        <i class="fa fa-whatsapp whtsap-ic font-bolder"
                          *ngIf="serv.virtualCallingModes && serv.virtualCallingModes[0].callingMode === 'WhatsApp'"></i>
                      </span>&nbsp;{{serv.name | capitalizeFirst}} -->

        <!-- <span *ngIf="serv.serviceType == 'virtualService' && serv.virtualServiceType == 'audioService'">
                        (<i class="fa fa-volume-up cal-mod-font" aria-hidden="true"></i>)
                      </span> -->
        <!-- 
                    </li>
                  </ul>
                </div>
              </div>
            </div> -->
        <!-- </div> -->
        <!-- <div class="tp-r" style="width: auto;"> -->
        <!-- <ul class="badges">
              <li
                *ngIf="locationjson[0].parkingType && locationjson[0].parkingType!=='' && locationjson[0].parkingType != undefined && locationjson[0].parkingType != 'none'"
                [matTooltip]="'Parking Type: ' + locationjson[0].parkingType">
                <span class="icon-parking"></span></li>
              <li *ngIf="locationjson[0].open24hours && locationjson[0].open24hours==1">
                <span class="icon-open-time" [matTooltip]="'24 Hours Open'"></span></li>
              <li *ngIf="locationjson[0]?.locationVirtualFields?.traumacentre=='true'" [matTooltip]="'Trauma Centre'">
                <span class="icon-trauma"></span>
              </li>
              <li *ngIf="locationjson[0]?.locationVirtualFields?.docambulance=='true'"
                [matTooltip]="'Ambulance Services'"><span class="icon-ambulance"></span>
              </li>
              <li [matTooltip]="'Emergency Services'"
                *ngIf="locationjson[0]?.locationVirtualFields?.physiciansemergencyservices=='true' || 
                                                            locationjson[0]?.locationVirtualFields?.dentistemergencyservices=='true' || 
                                                            locationjson[0]?.locationVirtualFields?.altemergencyservices=='true' ||
                                                            locationjson[0]?.locationVirtualFields?.hosemergencyservices=='true' || 
                                                            locationjson[0]?.locationVirtualFields?.veterinaryemergencyservices=='true'">
                <span class="icon-emergency"></span></li>
              <li *ngIf="locationjson[0]?.locationVirtualFields?.firstaid=='true'" [matTooltip]="'First Aid'">
                <span class="icon-first-aid"></span>
              </li>
            </ul> -->
        <!-- <span class="first-time-jc" *ngIf="s3CouponList.length>0 && isfirstCheckinOffer && frstChckinCupnCunt>0"
              (click)="openCoupons('first')"><i class="fa fa-tag red"></i>
              {{first_time_coupon}}</span>
            <span class="other-jcs" *ngIf="s3CouponList.length>0" (click)="openCoupons()"><i class="fa fa-tag blue"></i>
              {{jaldee_coupon}}</span> -->
        <!-- <ul class="bus-actions no-padding">
              <li>
                <a class="like-btn" (click)="communicateHandler(search_result)" [matTooltip]="commTooltip"
                  [matTooltipClass]="tooltipcls">
                  <span>
                    {{send_messages}}
                  </span>
                </a>
              </li>
            </ul> -->
        <!-- </div> -->
        <!-- </div> -->
        <div class="bottom-sect"
          *ngIf="search_result['estimatedtime_det'] && search_result['estimatedtime_det']['waitlist'] && businessjson.onlinePresence">
          <div class="bt-l">
            <div class="wt-tme"
              *ngIf="search_result['estimatedtime_det'] && search_result['estimatedtime_det']['message']!='No active services'">
              <div class="wt-tme notallowed">
                <ng-container *ngIf="search_result['estimatedtime_det']['message']">
                  {{search_result['estimatedtime_det']['message']}}</ng-container>
              </div>
              <div
                *ngIf="search_result['estimatedtime_det']['calculationMode']!='NoCalc' ||(search_result['estimatedtime_det']['calculationMode']=='NoCalc' && search_result['estimatedtime_det']['showToken'])">
                <div *ngIf="search_result['estimatedtime_det']['personAhead']">
                  <b>{{search_result['estimatedtime_det']['personAhead']}} </b><span class="people-ahead"
                    *ngIf="search_result['estimatedtime_det']['personAhead'] > 1">{{people_ahead}}</span>
                  <span class="people-ahead"
                    *ngIf="search_result['estimatedtime_det']['personAhead'] == 1">{{one_person_ahead}}</span>
                </div>
                <div *ngIf="search_result['estimatedtime_det']['personAhead'] === 0">
                  <div class="time-data">
                    {{search_result['estimatedtime_det']['personAhead']}}
                    {{people_ahead}} </div>Be the first in line
                </div>
                <!-- <div class="donat-service"
                  *ngIf="search_result.wtlstservices && search_result.wtlstservices.length > 0">
                  <span class="sub-title-donate checkin-service-group">Check-in
                    Service(s)</span>
                  <ul>
                    <li *ngFor="let serv of search_result.wtlstservices"
                      (click)="!btn_clicked && checkserviceClicked(serv,search_result)">{{serv.name
                                            | capitalizeFirst}}
                      <span *ngIf="serv.serviceType == 'virtualService'">
                        (<i class="fa fa-video-camera cal-mod-font" aria-hidden="true"></i>)
                      </span></li>
                  </ul>
                </div> -->
              </div>
            </div>
          </div>
          <div style="flex-grow:1"></div>
          <div class="bottom-actions-root"
            *ngIf="search_result['estimatedtime_det'] && (search_result['estimatedtime_det']['onlineCheckIn'] || search_result['estimatedtime_det']['futureWaitlist'])">
            <div class="checkin-est nrm"
              *ngIf="!search_result['estimatedtime_det']['message'] && search_result['estimatedtime_det']['calculationMode']!='NoCalc'">
              <span class="est-time"
                *ngIf="search_result['estimatedtime_det']['caption']">{{search_result['estimatedtime_det']['caption']}}</span>
              <span class="time-data"
                *ngIf="search_result['estimatedtime_det']['time']">{{search_result['estimatedtime_det']['time']}}
              </span>
            </div>
            <ng-container
              *ngIf="search_result['estimatedtime_det']['calculationMode']=='NoCalc' && search_result['estimatedtime_det']['showToken']">
              <ng-container
                *ngIf="search_result['estimatedtime_det']['personAhead'] || search_result['estimatedtime_det']['personAhead'] === 0">
                <div class="checkin-est" style="margin-bottom: 5px" *ngIf="!search_result['opennow']">
                  <span class="est-time">Next Available Time</span>
                  <span class="time-data">{{search_result['estimatedtime_det']['nextAvailDate']}}</span>
                </div>
              </ng-container>
            </ng-container>
            <span class="checkin-btn" (click)="checkinClicked(search_result)"
              *ngIf="((search_result['estimatedtime_det']['onlineCheckIn'] && search_result['estimatedtime_det']['isAvailableToday'] && search_result['estimatedtime_det']['availableToday'])
              || (search_result['estimatedtime_det']['cdate'] && search_result['estimatedtime_det']['futureWaitlist'])) && !search_result['estimatedtime_det']['showToken']">{{getTerminologyTerm('waitlist',
                            search_result)}}</span>
            <span class="checkin-btn" (click)="checkinClicked(search_result)"
              *ngIf="((search_result['estimatedtime_det']['onlineCheckIn'] && search_result['estimatedtime_det']['isAvailableToday'] && search_result['estimatedtime_det']['availableToday'])
              || (search_result['estimatedtime_det']['cdate'] && search_result['estimatedtime_det']['futureWaitlist'])) && search_result['estimatedtime_det']['showToken']">{{get_token_btn}}</span>
            <span class="checkin-btn disabled"
              *ngIf="!search_result['estimatedtime_det']['showToken'] && 
              (!search_result['estimatedtime_det']['onlineCheckIn'] || !search_result['estimatedtime_det']['isAvailableToday'] || 
              !search_result['estimatedtime_det']['availableToday']) && (!search_result['estimatedtime_det']['cdate'] || !search_result['estimatedtime_det']['futureWaitlist'])">{{getTerminologyTerm('waitlist',
                            search_result)}}</span>
            <span class="checkin-btn disabled"
              *ngIf="search_result['estimatedtime_det']['showToken'] && (!search_result['estimatedtime_det']['onlineCheckIn'] || !search_result['estimatedtime_det']['isAvailableToday'] || !search_result['estimatedtime_det']['availableToday'])
              && (!search_result['estimatedtime_det']['cdate'] || !search_result['estimatedtime_det']['futureWaitlist'])">{{get_token_btn}}</span>
            <!-- <div class="future-date-link checkin-future">
              <span class="bt10" (click)="checkinClicked(search_result, true)"
                *ngIf="search_result['estimatedtime_det']['cdate'] && search_result['estimatedtime_det']['futureWaitlist']">{{do_you_want_to_cap}}
                <span *ngIf="search_result['estimatedtime_det']['showToken']">{{get_token_btn}}</span>
                <span
                  *ngIf="!search_result['estimatedtime_det']['showToken']">{{getTerminologyTerm('waitlist', search_result)}}</span>
                {{for_cap}} <span>{{different_date}}</span></span>
            </div> -->
          </div>
        </div>
        <div class="bottom-sect pdetail" *ngIf="search_result.apptAllowed && businessjson.onlinePresence">
          <!-- <div class="bt-l" *ngIf="search_result.apptServices && search_result.apptServices.length > 0">
            <div class="wt-tme">
              <div class="donat-service">
                <span class="sub-title-donate">Appointment Service(s)</span>
                <ul>
                  <li *ngFor="let appointmentService of search_result.apptServices"
                    (click)="checkserviceClicked(appointmentService,search_result)">
                    {{appointmentService.name}}
                    <span *ngIf="appointmentService.serviceType == 'virtualService'">
                      (<i class="fa fa-video-camera cal-mod-font" aria-hidden="true"></i>)
                    </span></li>
                </ul>
              </div>
            </div>
          </div> -->
          <div style="flex-grow:1"></div>
          <div class="bottom-actions-root">
            <span (click)="appointmentClicked(search_result)" class="checkin-btn">Appointment</span>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
</div>
<!-- </div>
      </div>
    </div>
  </div>
</section> -->