<!-- Card -->
<div class="card booking-card pointer-cursor service" [ngClass]="theme?theme:''"
    *ngIf="(service && service.serviceAvailability) || item.type=='donation'"
    (click)="cardActionPerformed(item.type, null, service, loc, null, $event)">
    <!-- Card content -->
    <div class="card-body">
        <!-- Title -->
        <!-- <div class="card-head"> -->
        <div style="height:100px;">
            <div class="text-center service-image"
                *ngIf="service.serviceType && service.serviceType == 'virtualService'">
                <i class="fa phon-icon"
                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'Phone'"></i>
                <i class="fa meet-icon"
                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'GoogleMeet'"></i>
                <i class="fa zoom-icon"
                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'Zoom'"></i>
                <i class="fa wtsapaud-icon"
                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='audioService'"></i>
                <i class="fa wtsapvid-icon"
                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'WhatsApp' && service.virtualServiceType ==='videoService'"></i>
                <i class="fa jaldeevideo-icon"
                    *ngIf="service.virtualCallingModes && service.virtualCallingModes.length > 0 && service.virtualCallingModes[0].callingMode === 'VideoCall'"></i>
            </div>
            <div class="text-center service-image"
                *ngIf="service.serviceType && service.serviceType != 'virtualService' && service.serviceType == 'donationService'">
                <img class="card-img img-responsive" src="assets/images/donation.png" alt="Donation Image">
            </div>
            <div class="text-center service-image"
                *ngIf="service.serviceType && service.serviceType != 'virtualService' && service.serviceType == 'physicalService' && domain != 'religiousPriests'"
                style="width: 140px !important;">
                <img class="card-img img-responsive" src="assets/images/meeting_Artboard.png"
                    alt="Physical Service Image">
            </div>
            <div class="text-center service-image"
                *ngIf="service.serviceType && service.serviceType != 'virtualService' && service.serviceType == 'physicalService' && domain == 'religiousPriests'"
                style="width: 140px !important;">
                <img class="card-img img-responsive" src="assets/images/hindu-temple-clipart.jpg"
                    alt="Physical Service Image">
            </div>
        </div>
        <div class="service-details">
            <div class="module line-clamp m-0"
                [ngClass]="{'no-padding':service.serviceType && service.serviceType == 'virtualService'}">
                <h4 class="card-title font-weight-bold service-title">
                    <a>{{service.name | capitalizeFirst}}</a>
                </h4>
            </div>
            <!-- </div>
        <div class="card-content"> -->
            <!-- <h6 class="service-type" *ngIf="item.type!='donation'">{{getServiceType()}}</h6> -->
            <!-- <h6 class="service-type" *ngIf="item.type!='donation'">&nbsp;</h6>
            <h6 class="service-type" *ngIf="item.type=='donation'">&nbsp;</h6>  -->
            <p class="card-text donationAmount" *ngIf="item.type=='donation'">
                <span class="rupee-font bold">Donate <i class="fa fa-inr"></i> {{service.minDonationAmount}}</span>
                <span class="rupee-font bold" *ngIf="service.maxDonationAmount != service.minDonationAmount"> or more</span>
            </p>
            <p class="card-text peopleAhead font-normal" *ngIf="personsAheadText">{{personsAheadText}}</p>
            <p class="card-text emptySpace" *ngIf="item.type!='donation' && !personsAheadText"></p>
            <p class="card-text availability" *ngIf="timings">{{timingCaption}}
                <br /><b>{{timings}}</b>
            </p>
            <p class="card-text availability" *ngIf="!timings"></p>
            <!-- </div>
        <div class="card-footer"> -->
            <div class="service-buttons">
                <button type="button" class="hf-btn btn btn-outline-warning bookingButton">{{buttonCaption}}</button>
                <button type="button" (click)="cardActionPerformed(item.type, 'view', service, loc, null, $event)"
                    class="btn pointer-cursor btn-warning moreDetails">. . .</button>
            </div>
            <!-- </div> -->
        </div>
    </div>
</div>
<div *ngIf="item.type=='catalog' || item.type=='item' || item.type=='pitem'">
    <div [id]="'item-' + service.itemId" class="card booking-card pointer-cursor order items height-301"
        [class.disabled]="service['status'] && service['status']=='INACTIVE' || (!service.isStockAvailable && item.type=='item')"
        *ngIf="item.type=='catalog' || item.type=='item' || item.type=='pitem'"
        (click)="cardActionPerformed(item.type, 'view', item, loc, null, $event)">
        <!-- <div class="ribbon ribbon-top-right" *ngIf="service.promotionLabel && item.type=='item'"><span>{{service.promotionLabel}}</span></div> -->
        <span class="ribbon-new" *ngIf="service.promotionLabel && item.type=='item'">{{service.promotionLabel}}</span>
        <div class="card-item-head" >
            <button class="fxmenu" mat-icon-button [matMenuTriggerFor]="appMenu" *ngIf="item.actions"
                (click)="stopProp($event)">
                <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #appMenu="matMenu">
                <button mat-menu-item *ngFor="let action of item.actions"
                    (click)="cardActionPerformed(item.type, action.action, item, null, null, $event)">
                    <i class="{{action.iconClass}}"></i>{{action.displayName}}</button>
            </mat-menu>
            <img class="card-img img-responsive" [src]="getItemImg(service)" alt="Profile Pic" />
        </div>
        <!-- <div class="card-item-head" *ngIf="!service.itemImages"
            style="height: 0 !important; padding-top: 140px;"></div> -->
        <!-- <div class="outstock" *ngIf="!service.isStockAvailable && item.type=='item'">
            Out of stock
        </div> -->
        <div class="card-item-content">
            <!-- <button class="fxmenu1" mat-icon-button [matMenuTriggerFor]="appMenu"
                *ngIf="!service.itemImages && item.actions" (click)="stopProp($event)">
                <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #appMenu="matMenu">
                <button mat-menu-item *ngFor="let action of item.actions"
                    (click)="cardActionPerformed(item.type, action.action, item, null, null, $event)">
                    <i class="{{action.iconClass}}"></i>{{action.displayName}}</button>
            </mat-menu> -->
            <h4 class="card-title font-weight-bold d-block">
                <a class="d-block name module1 twoline-break">{{service.displayName}}</a>
                <!-- <p class="module1 line-clamp1">{{service.shortDesc}}</p> -->
            </h4>
            <div style="height: 22px !important;">
                <div *ngIf="service.shortDesc" class="short-description module1 line-clamp1">{{service.shortDesc.trim()
                    | capitalizeFirst}}</div>
            </div>
            <div class="col-md-12 no-padding">
                <!-- <div class="col-md-5 no-padding">

            </div> -->
                <div class="col-md-12 d-flex mgn-up-10 no-padding">
                    <div class="amount" *ngIf="item.showpric">
                        <div *ngIf="service.showPromotionalPrice">
                            <!-- <div class="amount-label">RETAIL PRICE</div> -->
                            <div class="amount-value strikeMe">
                                <i class="fa fa-inr"></i> {{service.price | currency:'':''}}
                            </div>
                        </div>
                        <div>
                            <!-- <div class="amount-label">
                                {{ service.showPromotionalPrice ? 'OFFER PRICE' : 'RETAIL PRICE'}}
                            </div> -->
                            <div class="amount-value">
                                <i class="fa fa-inr"></i>
                                {{(service.showPromotionalPrice ? service.promotionalPrice : service.price) |
                                currency:'':''}}
                            </div>
                        </div>
                    </div>
                    <div class="amount" style="height: 44px !important;" *ngIf="!item.showpric">&nbsp;</div>
                    <div class="quantity">
                        <div class="outstock" *ngIf="!service.isStockAvailable && item.type=='item'">
                            Sold Out
                        </div>
                        <button (click)="cardActionPerformed(item.type, 'add', item, loc, null, $event)"
                            class="add-to-cart"
                            *ngIf="service.isStockAvailable && item.type=='item' && getItemQty(item)==0">
                            <i class="fa fa-shopping-bag"></i> Add
                        </button>
                        <div *ngIf="service.isStockAvailable && item.type=='item' && getItemQty(item)!=0">
                            <div [class.disableall]="item.maxqty === getItemQty(item)" class="btn-rt"
                                *ngIf="item.type=='item'">
                                <button (click)="cardActionPerformed(item.type, 'add', item, loc, null, $event)">
                                    <i class="fa fa-chevron-up"></i>
                                </button>
                            </div>
                            <div class="count-o" *ngIf="item.type=='item'">
                                {{getItemQty(item)}}
                            </div>
                            <div class="btn-lt" *ngIf="item.type=='item'">
                                <button (click)="cardActionPerformed(item.type, 'remove', item, loc, null, $event)">
                                    <i class="fa fa-chevron-down"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="item-expand-flex" *ngIf="service.itemImages">
                        <button type="button" class="btn pointer-cursor item-expand" 
                            (click)="openCard('item-'+service.itemId, $event)">
                            <i class='fa fa-chevron-up chevron'></i>
                        </button>
                    </div> -->
                </div>

            </div>
        </div>
    </div>
    <!-- <div class="outstock" *ngIf="!service.isStockAvailable && item.type=='item'">
        Out of stock</div> -->
</div>
<div class="card booking-card booking-card-user pointer-cursor user" *ngIf="item.type=='provider'"
    (click)="cardActionPerformed(item.type, null, null, null, user.id, $event)">
    <div class="card-item-head">
        <img class="card-img img-circle img-responsive" [src]="getPic(user)" alt="Profile Pic">
    </div>
    <div class="card-item-content" style="display: block !important;">
        <h4 class="user-name card-title font-weight-bold module line-clamp">
            <a *ngIf="user.businessName">{{user.businessName}}</a>
            <!-- <a *ngIf="!user.businessName && user.firstName && user.firstName!='undefined'">{{user.firstName |
                capitalizeFirst | limitTo: [14, '...']}}</a>
            <a *ngIf="!user.businessName && user.lastName && user.lastName!='undefined'">&nbsp;{{user.lastName |
                capitalizeFirst | limitTo: [14, '...']}}</a> -->
        </h4>
        <h6 class="qualification font-normal" *ngIf="user.qualifications && user.qualifications.length>0">
            {{user.qualifications[0] | limitTo: [20, '...']}}
        </h6>
        <h6 class="qualification" *ngIf="!user.qualifications || (user.qualifications && user.qualifications.length==0)"
            style="height:17px;"></h6>
        <div class="specialization-parent" *ngIf="user.businessUserName">
            <label class="specialization" *ngIf="user.businessUserName">{{user.businessUserName}}</label>
        </div>
        <label *ngIf="!user.businessUserName" style="padding: 2px 6px; margin:0 !important;">&nbsp;</label>
        <p class="availability user-available">
            <ng-container *ngIf="user.apptTime && user.apptTime.caption && user.apptTime.availableSchedule.availableDate === todayDate">
                {{user.apptTime.caption}}<br />{{user.apptTime.date}}
            </ng-container>
            <ng-container
                *ngIf="(!user.apptTime || (user.apptTime && (!user.apptTime.caption || user.apptTime.availableSchedule.availableDate !== todayDate))) && user.waitingTime && user.waitingTime.caption">
                {{user.waitingTime.caption}}<br />{{user.waitingTime.date}}
            </ng-container>
        </p>
        <!-- <p class="availability user-available" *ngIf="user.locationName">{{user.locationName}}</p> -->
        <!-- <p class="availability user-available" *ngIf="!user.locationName"></p> -->
        <button type="button" class="btn btn-outline-warning">Book Now</button>
    </div>
</div>
<div class="card booking-card pointer-cursor order head" *ngIf="item.type==='item-head'"
    (click)="cardActionPerformed(item.type, 'add', null, null, null, $event)">
    <div class="card-item-head">
        <img class="card-img img-responsive" src="assets/images/add.svg" alt="Profile Pic">
    </div>
    <div class="card-item-content">
        <h4 class="card-title font-weight-bold text-center">
            <a class="pointer-cursor"><b>Add Item</b> </a>
        </h4>
    </div>
</div>
<div class="card booking-card order" *ngIf="item.type=='order-details-item'">
    <div class="card-item-head">
        <img class="card-img img-responsive" [src]="getItemImg(service)" alt="Profile Pic" />
    </div>
    <div class="card-item-content">
        <h4 class="card-title font-weight-bold d-block">
            <span class="d-block name module1 line-clamp1">{{service.name}}</span>
            <p class="module1 line-clamp1">Qty - {{service.quantity}}</p>
        </h4>
        <div class="col-md-12 no-padding">
            <div class="col-md-12 no-padding">
                <span class="price rupee-font pull-left">{{service.totalPrice | currency:'&#8377;'}}</span>
                <i *ngIf="service.consumerNote" [matTooltip]="'Notes'" class="icon-note pointer-cursor pull-right"
                    (click)="showConsumerNote(service)"></i>
            </div>
        </div>
    </div>
</div>
<ng-container *ngIf="item.type=='checkin-dashboard' || item.type=='appt-dashboard'">
    <div class="col-xs-12 col-sm-12 no-padding" (click)="gotoDetails()" [class.history]="time_type==3">
        <div class="main-sec">
            <div class="token" *ngIf="time_type!==3 && waitlist.token && !waitlist.provider">
                {{waitlist.token}}
            </div>
            <div class="user-token" *ngIf="time_type!==3 && waitlist.token && waitlist.provider">
                {{waitlist.token}}
            </div>
            <div class="box1 mgn-lt-5" [class.mgn-bt-minus]="waitlist.provider">
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding consumer-name"
                    *ngIf="item.type=='checkin-dashboard' && (waitlist.waitlistingFor[0].firstName || waitlist.waitlistingFor[0].lastName)">
                    {{waitlist.waitlistingFor[0].firstName}}
                    {{waitlist.waitlistingFor[0].lastName}}
                </div>
                
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding consumer-name"
                    *ngIf="item.type=='checkin-dashboard' && !waitlist.waitlistingFor[0].firstName && !waitlist.waitlistingFor[0].lastName && waitlist.providerConsumer && waitlist.providerConsumer.jaldeeId">
                    {{customer_label | capitalizeFirst}} id:&nbsp; {{waitlist.providerConsumer.jaldeeId}}</div>
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding dash-item" *ngIf="time_type == 3 && waitlist.waitlistStatus">
                    <span class="started_status_clr" *ngIf="waitlist.waitlistStatus == 'started' || waitlist.waitlistStatus == 'arrived'">
                        {{waitlist.waitlistStatus | capitalizeFirst}}
                    </span>
                    <span class="cancelled_status_clr" *ngIf="waitlist.waitlistStatus == 'cancelled'">
                        {{waitlist.waitlistStatus | capitalizeFirst}}
                    </span>
                    <span class="" *ngIf="waitlist.waitlistStatus !== 'started' && waitlist.waitlistStatus !== 'arrived' && waitlist.waitlistStatus !== 'cancelled'">
                        {{waitlist.waitlistStatus | capitalizeFirst}}
                    </span>   
                    </div>
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding dash-item user-txt-clr" *ngIf="waitlist.provider">
                    Assigned: {{(waitlist.provider.businessName) ? waitlist.provider.businessName : waitlist.provider.firstName + ' ' + waitlist.provider.lastName}}
                </div>
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding dash-item user-txt-clr"  *ngIf="waitlist.teamId !== 0">
                     {{getUsersList(waitlist.teamId)}}
                </div>
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding dash-item user-txt-clr" *ngIf=" waitlist.internalStatus">
                   - {{waitlist.internalStatus}}
                </div>
                <!-- <div class="col-md-12 col-xs-12 col-sm-12 no-padding dash-item" *ngIf="!waitlist.provider">
                    Not assigned
                </div> -->
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding consumer-name" *ngIf="waitlist.waitlistingFor[0].bookingLocation && (waitlist.waitlistingFor[0].bookingLocation.district || waitlist.waitlistingFor[0].bookingLocation.state)">
                    <!-- <span class="b1">Location : </span> -->
                    <span>{{waitlist.waitlistingFor[0].bookingLocation.district}}, 
                        {{waitlist.waitlistingFor[0].bookingLocation.state}}</span>
                </div>
                <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="waitlist.waitlistingFor[0].age || waitlist.waitlistingFor[0].gender">
                    <span *ngIf="waitlist.waitlistingFor[0].age">{{getAge(waitlist.waitlistingFor[0].age)}} yrs</span>
                    <span *ngIf="waitlist.waitlistingFor[0].age && waitlist.waitlistingFor[0].gender">&nbsp;,</span>
                    <span *ngIf="waitlist.waitlistingFor[0].gender">{{waitlist.waitlistingFor[0].gender | capitalizeFirst}}</span>
                </div>
                <div class="col-xs-12 col-sm-12 no-padding view-details"
                    *ngIf="waitlist.waitlistingFor[0].preferredLanguage && waitlist.waitlistingFor[0].preferredLanguage.length > 0">
                    {{waitlist.waitlistingFor[0].preferredLanguage}}
                </div>
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding dash-item"> 
                    <i class="fa meet-icon"
                        *ngIf="waitlist.service.serviceType === 'virtualService' && waitlist.service.virtualCallingModes[0].callingMode === 'GoogleMeet'"></i>
                    <i class="fa zoom-icon"
                        *ngIf="waitlist.service.serviceType === 'virtualService' && waitlist.service.virtualCallingModes[0].callingMode === 'Zoom'"></i>
                    <i class="fa fa jvideo-icon jvideo-icon-s jvideo-icon-mgm5"
                        *ngIf="waitlist.service.serviceType === 'virtualService' && waitlist.service.virtualCallingModes[0].callingMode === 'VideoCall'"></i>
                    <i class="fa phon-icon"
                        *ngIf="waitlist.service.serviceType === 'virtualService' && waitlist.service.virtualCallingModes[0].callingMode === 'Phone'"></i>
                    <i class="fa wtsapaud-icon"
                        *ngIf="waitlist.service.serviceType === 'virtualService' && waitlist.service.virtualCallingModes[0].callingMode === 'WhatsApp' && waitlist.service.virtualServiceType === 'audioService'"></i>
                    <i class="fa wtsapvid-icon"
                        *ngIf="waitlist.service.serviceType === 'virtualService' && waitlist.service.virtualCallingModes[0].callingMode === 'WhatsApp' && waitlist.service.virtualServiceType === 'videoService'"></i>
                    {{waitlist.service.name}}
                </div>
                <div>
                    <!-- <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="item.type=='checkin-dashboard' && selQIds.length > 1">
                        <span class="b1">Time Window : </span>
                        <span class="b2"> {{waitlist.queue.queueStartTime + ' - ' + waitlist.queue.queueEndTime}}</span>
                    </div> -->
                    <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="time_type!=1 && item.type=='checkin-dashboard'">
                        <span class="b1">Date : </span> <span class="b2">{{waitlist.date | date: newTimeDateFormat}}</span>
                    </div>
                    <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="getLabels(waitlist)">
                        <span class="b1">Label : </span> <span class="b2"> {{getLabels(waitlist)}}</span>
                    </div>
                   
                      <!-- <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="waitlist.waitlistingFor[0].gender">
                        Gender: {{waitlist.waitlistingFor[0].gender | capitalizeFirst}}
                      </div> -->
                   
                    <!-- <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="waitlist.waitlistingFor[0].preferredLanguage">
                        <span class="b1">Language : </span>
                        <span class="b2">{{waitlist.waitlistingFor[0].preferredLanguage}} </span>
                    </div> -->
                </div>
                
            </div>
            <div class="box4">
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding mgn-lt-5">
                    <!-- <span class="dashboardrescheduled-icon mgn-rt-10" *ngIf="waitlist.isRescheduled">
                    </span>
                    <span class="online-icon mgn-rt-10"
                        *ngIf="(item.type=='checkin-dashboard' && waitlist.waitlistMode == 'ONLINE_CHECKIN') || (item.type=='appt-dashboard' && waitlist.appointmentMode == 'ONLINE_APPOINTMENT')">
                    </span>
                    <span class="phonein-icon mgn-rt-10"
                        *ngIf="(item.type=='checkin-dashboard' && waitlist.waitlistMode == 'PHONE_CHECKIN') || (item.type=='appt-dashboard' && waitlist.appointmentMode == 'PHONE_IN_APPOINTMENT')">
                    </span>
                    <span class="walkin-icon mgn-rt-10"
                        *ngIf="(item.type=='checkin-dashboard' && waitlist.waitlistMode == 'WALK_IN_CHECKIN') || (item.type=='appt-dashboard' && waitlist.appointmentMode == 'WALK_IN_APPOINTMENT')">
                    </span>
                    <span class="dashboardarrived-icon checkin_status mgn-rt-10"
                        *ngIf="(item.type=='checkin-dashboard' && waitlist.waitlistStatus == 'arrived') || (item.type=='appt-dashboard' && waitlist.apptStatus == 'Arrived') && !waitlist.virtualService"></span> -->
                    <span class="cnote  pointer-cursor mgn-rt-10" *ngIf="waitlist.consumerNote"
                        (click)="stopProp($event);checkinActions(waitlist, 'note')">
                        <i class="icon-note"></i>
                    </span>
                    <span (click)="stopProp($event);checkinActions(waitlist, 'attachment')"
                        class="cnote pointer-cursor mgn-rt-10" *ngIf="waitlist.hasAttachment"><i
                            style="font-size: 20px;" class="material-icons">attach_file</i></span>
                </div>
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding mgn-lt-5 mgn-up-10">
                    <a class="action-btn" (click)="stopProp($event);checkinActions(waitlist, 'actions')">
                        Actions
                    </a>
                </div>
            </div>
        </div>
        <div class="mgn-up-5 mgn-lt-5 mgn-bt-5 mgn-rt-5">
            <!-- <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="item.type=='checkin-dashboard' && selQIds.length > 1">
                <span class="b1">Time Window : </span>
                <span class="b2"> {{waitlist.queue.queueStartTime + ' - ' + waitlist.queue.queueEndTime}}</span>
            </div>
            <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="time_type!=1 && item.type=='checkin-dashboard'">
                <span class="b1">Date : </span> <span class="b2">{{waitlist.date | date: newTimeDateFormat}}</span>
            </div>
            <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="getLabels(waitlist)">
                <span class="b1">Label : </span> <span class="b2"> {{getLabels(waitlist)}}</span>
            </div>
            <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="waitlist.waitlistingFor[0].age">
                Age: {{getAge(waitlist.waitlistingFor[0].age)}}</div>
              <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="waitlist.waitlistingFor[0].gender">
                Gender: <span><i *ngIf="waitlist.waitlistingFor[0].gender == 'male'" class="fa fa-mars"></i>
                  <i *ngIf="waitlist.waitlistingFor[0].gender == 'Female'" class="fa fa-venus"></i>
                  <i *ngIf="waitlist.waitlistingFor[0].gender == 'others'" class="fa fa-transgender"></i>
                </span> {{waitlist.waitlistingFor[0].gender | capitalizeFirst}}
              </div>
            <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="waitlist.waitlistingFor[0].bookingLocation">
                <span class="b1">Location : </span>
                <span class="b2">{{waitlist.waitlistingFor[0].bookingLocation.localArea}},
                    {{waitlist.waitlistingFor[0].bookingLocation.district}} </span>
            </div>
            <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="waitlist.waitlistingFor[0].preferredLanguage">
                <span class="b1">Language : </span>
                <span class="b2">{{waitlist.waitlistingFor[0].preferredLanguage}} </span>
            </div> -->
            <!-- <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="waitlist.waitlistingFor[0].dob">
                <span class="b1">Date of Birth : </span>
                <span class="b2">{{waitlist.waitlistingFor[0].dob | date: newTimeDateFormat}} </span>
            </div> -->
        </div>
    </div>
    <!-- <div class="col-sm-12 col-xs-12 view-more" (click)="showMoreorLess(waitlist, 'more')" *ngIf="!showDetails(waitlist)">
        View More <i class="fa fa-caret-down"></i>
    </div>
    <div class="col-sm-12 col-xs-12 view-more" (click)="showMoreorLess(waitlist, 'less')" *ngIf="showDetails(waitlist)">
        View Less <i class="fa fa-caret-up"></i>
    </div> -->
</ng-container>

<ng-container *ngIf="type=='appointment-dashboard'">
    <div class="col-xs-12 col-sm-12 no-padding mgn-lt-5" (click)="gotoDetails()" [class.history]="time_type==3">
        <div class="main-sec">
            <!-- <div class="token" *ngIf="time_type!==3 && waitlist.token && !waitlist.provider">
                {{waitlist.token}}
            </div>
            <div class="user-token" *ngIf="time_type!==3 && waitlist.token && waitlist.provider">
                {{waitlist.token}}
            </div> -->
            <div class="date mgn-lt-5" *ngIf="time_type!=1">
                        {{appointment.appmtDate | date: newTimeDateFormat}}</div>
                      <div class="mgn-lt-5 date" *ngIf="time_type!=3">
                        <span class="greenc bold font11">{{getSingleTime(appointment.appmtTime)}}</span>
                        <!-- <div *ngIf="this.selQIds.length > 1">S{{getScheduleIndex(appointment.schedule.id) + 1}}</div> -->
                      </div>
            <div class="box1 mgn-lt-5" [class.mgn-bt-minus]="appointment.provider">
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding consumer-name"
                    *ngIf="item.type=='appointment-dashboard' && (appointment.appmtFor[0].firstName || appointment.appmtFor[0].lastName)">
                    {{appointment.appmtFor[0].firstName}}
                    {{appointment.appmtFor[0].lastName}}
                </div>
                
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding consumer-name"
                    *ngIf="item.type=='appointment-dashboard' && !appointment.appmtFor[0].firstName && !appointment.appmtFor[0].lastName && appointment.providerConsumer && appointment.providerConsumer.jaldeeId">
                    {{customer_label | capitalizeFirst}} id:&nbsp; {{appointment.providerConsumer.jaldeeId}}</div>
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding dash-item" *ngIf="time_type == 3 && appointment.apptStatus">
                    <span class="started_status_clr" *ngIf="appointment.apptStatus == 'started' || appointment.apptStatus == 'arrived'">
                        {{appointment.apptStatus | capitalizeFirst}}
                    </span>
                    <span class="cancelled_status_clr" *ngIf="appointment.apptStatus == 'cancelled'">
                        {{appointment.apptStatus | capitalizeFirst}}
                    </span>
                    <span class="" *ngIf="appointment.apptStatus !== 'started' && appointment.apptStatus !== 'arrived' && appointment.apptStatus !== 'cancelled'">
                        {{appointment.apptStatus | capitalizeFirst}}
                    </span>   
                    </div>
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding dash-item user-txt-clr" *ngIf="appointment.provider">
                    Assigned: {{(appointment.provider.businessName) ? appointment.provider.businessName : appointment.provider.firstName + ' ' + appointment.provider.lastName}}
                </div>
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding dash-item user-txt-clr" *ngIf="appointment.internalStatus">
                  - {{appointment.internalStatus}}
                </div>
                <!-- <div class="col-md-12 col-xs-12 col-sm-12 no-padding dash-item" *ngIf="!waitlist.provider">
                    Not assigned
                </div> -->
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding consumer-name" *ngIf="appointment.appmtFor[0].bookingLocation && (appointment.appmtFor[0].bookingLocation.district || appointment.appmtFor[0].bookingLocation.state)">
                    <!-- <span class="b1">Location : </span> -->
                    <span>{{appointment.appmtFor[0].bookingLocation.district}}, 
                        {{appointment.appmtFor[0].bookingLocation.state}}</span>
                </div>
                <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="appointment.appmtFor[0].age || appointment.appmtFor[0].gender">
                    <span *ngIf="appointment.appmtFor[0].age">{{getAge(appointment.appmtFor[0].age)}} yrs</span>
                    <span *ngIf="appointment.appmtFor[0].age && appointment.appmtFor[0].gender">&nbsp;,</span>
                    <span *ngIf="appointment.appmtFor[0].gender">{{appointment.appmtFor[0].gender | capitalizeFirst}}</span>
                </div>
                <div class="col-xs-12 col-sm-12 no-padding view-details"
                    *ngIf="appointment.appmtFor[0].preferredLanguage && appointment.appmtFor[0].preferredLanguage.length > 0">
                    {{appointment.appmtFor[0].preferredLanguage}}
                </div>
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding dash-item"> 
                    <i class="fa meet-icon"
                        *ngIf="appointment.service.serviceType === 'virtualService' && appointment.service.virtualCallingModes[0].callingMode === 'GoogleMeet'"></i>
                    <i class="fa zoom-icon"
                        *ngIf="appointment.service.serviceType === 'virtualService' && appointment.service.virtualCallingModes[0].callingMode === 'Zoom'"></i>
                    <i class="fa fa jvideo-icon jvideo-icon-s jvideo-icon-mgm5"
                        *ngIf="appointment.service.serviceType === 'virtualService' && appointment.service.virtualCallingModes[0].callingMode === 'VideoCall'"></i>
                    <i class="fa phon-icon"
                        *ngIf="appointment.service.serviceType === 'virtualService' && appointment.service.virtualCallingModes[0].callingMode === 'Phone'"></i>
                    <i class="fa wtsapaud-icon"
                        *ngIf="appointment.service.serviceType === 'virtualService' && appointment.service.virtualCallingModes[0].callingMode === 'WhatsApp' && appointment.service.virtualServiceType === 'audioService'"></i>
                    <i class="fa wtsapvid-icon"
                        *ngIf="appointment.service.serviceType === 'virtualService' && appointment.service.virtualCallingModes[0].callingMode === 'WhatsApp' && appointment.service.virtualServiceType === 'videoService'"></i>
                    {{appointment.service.name}}
                </div>
                <div>
                    <!-- <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="item.type=='checkin-dashboard' && selQIds.length > 1">
                        <span class="b1">Time Window : </span>
                        <span class="b2"> {{waitlist.queue.queueStartTime + ' - ' + waitlist.queue.queueEndTime}}</span>
                    </div> -->
                    <!-- <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="time_type!=1 && item.type=='appointment-dashboard'">
                        <span class="b1">Date : </span> <span class="b2">{{appointment.date | date: newTimeDateFormat}}</span>
                    </div> -->
                    <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="getLabels(appointment)">
                        <span class="b1">Label : </span> <span class="b2"> {{getLabels(appointment)}}</span>
                    </div>
                   
                      <!-- <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="waitlist.waitlistingFor[0].gender">
                        Gender: {{waitlist.waitlistingFor[0].gender | capitalizeFirst}}
                      </div> -->
                   
                    <!-- <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="waitlist.waitlistingFor[0].preferredLanguage">
                        <span class="b1">Language : </span>
                        <span class="b2">{{waitlist.waitlistingFor[0].preferredLanguage}} </span>
                    </div> -->
                </div>
                
            </div>
            <div class="box4">
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding mgn-lt-5">
                    <!-- <span class="dashboardrescheduled-icon mgn-rt-10" *ngIf="waitlist.isRescheduled">
                    </span>
                    <span class="online-icon mgn-rt-10"
                        *ngIf="(item.type=='checkin-dashboard' && waitlist.waitlistMode == 'ONLINE_CHECKIN') || (item.type=='appt-dashboard' && waitlist.appointmentMode == 'ONLINE_APPOINTMENT')">
                    </span>
                    <span class="phonein-icon mgn-rt-10"
                        *ngIf="(item.type=='checkin-dashboard' && waitlist.waitlistMode == 'PHONE_CHECKIN') || (item.type=='appt-dashboard' && waitlist.appointmentMode == 'PHONE_IN_APPOINTMENT')">
                    </span>
                    <span class="walkin-icon mgn-rt-10"
                        *ngIf="(item.type=='checkin-dashboard' && waitlist.waitlistMode == 'WALK_IN_CHECKIN') || (item.type=='appt-dashboard' && waitlist.appointmentMode == 'WALK_IN_APPOINTMENT')">
                    </span>
                    <span class="dashboardarrived-icon checkin_status mgn-rt-10"
                        *ngIf="(item.type=='checkin-dashboard' && waitlist.waitlistStatus == 'arrived') || (item.type=='appt-dashboard' && waitlist.apptStatus == 'Arrived') && !waitlist.virtualService"></span> -->
                    <span class="cnote  pointer-cursor mgn-rt-10" *ngIf="appointment.consumerNote"
                        (click)="stopProp($event);checkinActions(appointment, 'note')">
                        <i class="icon-note"></i>
                    </span>
                    <span (click)="stopProp($event);checkinActions(appointment, 'attachment')"
                        class="cnote pointer-cursor mgn-rt-10" *ngIf="appointment.hasAttachment"><i
                            style="font-size: 20px;" class="material-icons">attach_file</i></span>
                </div>
                <div class="col-md-12 col-xs-12 col-sm-12 no-padding mgn-lt-5 mgn-up-10">
                    <a class="action-btn" (click)="stopProp($event);checkinActions(appointment, 'actions')">
                        Actions
                    </a>
                </div>
            </div>
        </div>
        <div class="mgn-up-5 mgn-lt-5 mgn-bt-5 mgn-rt-5">
            <!-- <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="item.type=='checkin-dashboard' && selQIds.length > 1">
                <span class="b1">Time Window : </span>
                <span class="b2"> {{waitlist.queue.queueStartTime + ' - ' + waitlist.queue.queueEndTime}}</span>
            </div>
            <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="time_type!=1 && item.type=='checkin-dashboard'">
                <span class="b1">Date : </span> <span class="b2">{{waitlist.date | date: newTimeDateFormat}}</span>
            </div>
            <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="getLabels(waitlist)">
                <span class="b1">Label : </span> <span class="b2"> {{getLabels(waitlist)}}</span>
            </div>
            <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="waitlist.waitlistingFor[0].age">
                Age: {{getAge(waitlist.waitlistingFor[0].age)}}</div>
              <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="waitlist.waitlistingFor[0].gender">
                Gender: <span><i *ngIf="waitlist.waitlistingFor[0].gender == 'male'" class="fa fa-mars"></i>
                  <i *ngIf="waitlist.waitlistingFor[0].gender == 'Female'" class="fa fa-venus"></i>
                  <i *ngIf="waitlist.waitlistingFor[0].gender == 'others'" class="fa fa-transgender"></i>
                </span> {{waitlist.waitlistingFor[0].gender | capitalizeFirst}}
              </div>
            <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="waitlist.waitlistingFor[0].bookingLocation">
                <span class="b1">Location : </span>
                <span class="b2">{{waitlist.waitlistingFor[0].bookingLocation.localArea}},
                    {{waitlist.waitlistingFor[0].bookingLocation.district}} </span>
            </div>
            <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="waitlist.waitlistingFor[0].preferredLanguage">
                <span class="b1">Language : </span>
                <span class="b2">{{waitlist.waitlistingFor[0].preferredLanguage}} </span>
            </div> -->
            <!-- <div class="col-xs-12 col-sm-12 no-padding view-details" *ngIf="waitlist.waitlistingFor[0].dob">
                <span class="b1">Date of Birth : </span>
                <span class="b2">{{waitlist.waitlistingFor[0].dob | date: newTimeDateFormat}} </span>
            </div> -->
        </div>
    </div>
    <!-- <div class="col-sm-12 col-xs-12 view-more" (click)="showMoreorLess(waitlist, 'more')" *ngIf="!showDetails(waitlist)">
        View More <i class="fa fa-caret-down"></i>
    </div>
    <div class="col-sm-12 col-xs-12 view-more" (click)="showMoreorLess(waitlist, 'less')" *ngIf="showDetails(waitlist)">
        View Less <i class="fa fa-caret-up"></i>
    </div> -->
</ng-container>
<!-- Card -->