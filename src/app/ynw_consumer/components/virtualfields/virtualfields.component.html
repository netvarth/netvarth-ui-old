<!-- <h1 class="mat-dialog-title service-detail-title"> -->
<div class="modal-header service-detail-header disp-flex">
    <h1 class="modal-title pull-left service-detail-title">
        <span class="name">
            <span class="dispvalue">
                Your Personal Information
            </span>

        </span>
    </h1>
    <button type="button" class="close pull-right" aria-label="Close" (click)="dialogRef.close()">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<div class="modal-body service-detail-content service-popup-content">
    <div class="servicedet_outer">
        <div class="outer">
            <div class="outer1 line">
                <div class="description">
                    <form [formGroup]="virtualForm"
                        class="login-form custom-login-form consumer-join-component virtual-fields" novalidate>
                        <app-common-innerloading-spinner *ngIf="api_loading"></app-common-innerloading-spinner>
                        <div class="cust-loginpge-color" *ngIf="!api_loading">
                            <div *ngIf="hideLanguages">
                                <div class="">
                                    Please provide necessary information (one time setup). This information will be
                                    saved in your profile
                                </div>
                                <div class="mgn-up-10">
                                    <label class="col-form-label" for="name">Consultation is For </label>
                                    <br />
                                    <mat-radio-group formControlName="serviceFor" class="mgn-up-5 userGroup"
                                        (change)="onServiceForChange($event.value)">
                                        <mat-radio-button [value]="customer_data.id">
                                            {{customer_data.userProfile.firstName}}
                                            {{customer_data.userProfile.lastName}}</mat-radio-button>
                                        <mat-radio-button [value]="member.user" *ngFor="let member of familymembers">
                                            {{member.userProfile.firstName}}
                                            {{member.userProfile.lastName}}</mat-radio-button>
                                        <mat-radio-button value="new_member">Someone else</mat-radio-button>
                                    </mat-radio-group>
                                </div>
                                <div class="mgn-up-10">
                                    <label class="col-form-label" for="phone">Phone # </label>
                                    <br />
                                    {{this.details.userProfile.countryCode}}
                                    {{this.details.userProfile.primaryMobileNo}}
                                </div>
                                <div class="form-group col-xs-12"
                                    *ngIf="virtualForm.get('serviceFor').value==='new_member'">
                                    <mat-form-field>
                                        <input matInput placeholder="First Name" formControlName="firstName">
                                    </mat-form-field>
                                </div>
                                <div class="form-group col-xs-12"
                                    *ngIf="virtualForm.get('serviceFor').value==='new_member'">
                                    <mat-form-field>
                                        <input matInput placeholder="Last Name" formControlName="lastName">
                                    </mat-form-field>
                                </div>
                                <div class="form-group col-xs-12 dob no-padding mgn-up-20">
                                    <label class="col-form-label" for="dob">Date of Birth <span
                                            class="red">*</span></label>
                                    <br />
                                    <input type="date" placeholder="dd-mm-yyyy" [max]="maxDate" matInput id="dob"
                                        formControlName="dob" class="vt_dt no-padding mgn-up-5">
                                </div>
                                <div class="form-group">
                                    <label class="col-form-label" for="gender">{{gender_cap}} <span
                                            class="red">*</span></label>
                                    <br />
                                    <mat-radio-group formControlName="gender" class="mgn-up-5">
                                        <mat-radio-button value="male">Male</mat-radio-button>
                                        <mat-radio-button value="female">Female</mat-radio-button>
                                        <mat-radio-button value="other">Other</mat-radio-button>
                                    </mat-radio-group>
                                    <app-field-error-display
                                        [displayError]="fed_service.isFieldValid(virtualForm,'gender')"
                                        errorMsg="Please select the gender.">
                                    </app-field-error-display>
                                </div>
                                <div class="form-group pwd">
                                    <label for="pincode" class="col-form-label">Residing Pincode <span
                                            class="red">*</span></label>
                                    <input type="text" placeholder="xxxxxx"
                                        class="form-control vt_dt no-padding mgn-up-5" id="location"
                                        formControlName="pincode" (keyup)="showLocations($event)">
                                    <div style="display: flex; justify-content: space-between;">
                                        <app-field-error-display
                                            [displayError]="fed_service.isFieldValid(virtualForm,'pincode')"
                                            errorMsg="Pincode is required">
                                        </app-field-error-display>
                                    </div>
                                    <app-common-innerloading-spinner *ngIf="loading">
                                    </app-common-innerloading-spinner>
                                    <div *ngIf="!loading && locations" class="mgn-up-10">
                                        <mat-radio-group aria-label="Select your location" class="mgn-up-5"
                                            formControlName='location'>
                                            <mat-radio-button *ngFor="let location of locations.PostOffice"
                                                [value]="location">
                                                {{location.Name}}, {{location.State}}</mat-radio-button>
                                        </mat-radio-group>
                                    </div>
                                </div>
                                <div class="form-group" id="plng">
                                    <label class="col-form-label" for="v">Select your preferred language <span
                                            class="red">*</span></label>
                                    <br />
                                    <mat-radio-group aria-label="Select an option" (change)="onChange($event)"
                                        class="mgn-up-5" formControlName="islanguage">
                                        <mat-radio-button value="yes">English</mat-radio-button>
                                        <mat-radio-button value="no">Other Languages</mat-radio-button>
                                    </mat-radio-group>
                                    <div style="display: flex; justify-content: space-between;">
                                        <app-field-error-display
                                            [displayError]="fed_service.isFieldValid(virtualForm,'islanguage') "
                                            errorMsg="please choose one">
                                        </app-field-error-display>
                                    </div>
                                </div>
                            </div>
                            <div
                                *ngIf="hideLanguages && virtualForm.get('preferredLanguage').value.length >0 && lngknown==='no'">
                                <label class="col-form-label" for="preferredLanguage">Your preferred language
                                </label><br />
                                <div class="col-form-label"><span
                                        style="word-wrap: break-word;">{{virtualForm.get('preferredLanguage').value}}</span>
                                    <span class="pull-right" (click)="editLanguage()"><i class="fa fa-edit fa-1x"
                                            style="font-size: large;"></i></span>
                                </div>
                            </div>
                            <div *ngIf="!hideLanguages && lngknown=='no'" class="form-group">
                                <div class="form-group" *ngIf="lngknown==='no'">
                                    <label class="col-form-label" for="preferredLanguage">Choose your preferred
                                        language
                                        <span class="red">*</span></label>
                                    <div class="form-group">
                                        <div class="languagesouter" *ngIf="languages.length >0">
                                            <div *ngFor="let lang of languages">
                                                <mat-checkbox style="padding-left: 10px;" (change)="langSel(lang)"
                                                    [checked]="checklangExists(lang)">{{lang}}</mat-checkbox>
                                            </div>
                                        </div>
                                        <div class="actiondiv col-md-12" style="margin-top: 15px;display: inline-flex;">
                                            <button (click)="saveLanguages()" type="button" mat-button
                                                class="cs-btn bt1" [disabled]="disableButton">Ok</button>&nbsp;&nbsp;
                                            <button (click)="cancelLanguageSelection()" type="button" mat-button
                                                class="cs-btn bt1">Cancel</button>
                                        </div>
                                    </div>
                                    <div style="display: flex; justify-content: space-between;">
                                        <app-field-error-display
                                            [displayError]="fed_service.isFieldValid(virtualForm,'preferredLanguage')"
                                            errorMsg="Language is required">
                                        </app-field-error-display>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group" *ngIf="hideLanguages" class="mgn-bt-50">
                                <button class="cust-logpg-submt mgn-up-20 continue-button" mat-button
                                    (click)="onSubmit(virtualForm.value)">
                                    <span>Save</span>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>