<section class="container no-padding cons-payments no-padding-small" [ngClass]="theme">
   
    <div class="bill-section">
        <div class="panel panel-default">
            <div class="panel-heading col-xs-12 col-sm-12 co-md-12 col-lg-12 no-padding top-row ">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 no-padding">
                    <app-header *ngIf="shared_functions.checkLogin()" [accountId]="accountId" [customId]="customId" [showHeaderAction]="true"></app-header>
                </div>
            </div>
            <div class="panel-body no-padding">
                <div class="c-outer">
                    <div class="c-body">
                        <div class="card title-gb">
                            <h5 class="col-xs-12 col-md-12 col-sm-12 col-lg-12 mgn-up-10 no-padding">{{'Payments Log' | translate}}
                                <a class="pull-left mgn-rt-20 back-btn" (click)="backToDashboard()"><i
                                        class="fa fa-arrow-left"></i></a>
                            </h5>
                        </div>
                        <app-common-innerloading-spinner *ngIf="loading"></app-common-innerloading-spinner>
                        <div class="c-outer bill-section-content" *ngIf="!loading">
                            <div class="c-body bill-wrapper">
                                <div class="card history one section-four no-padding">
                                    <div class="list-outer consumer-pay">
                                        <div class="clearfix"></div>
                                        <div *ngIf="payments && payments.length === 0" class="no-payment">
                                            {{'No payments' | translate}}
                                        </div>
                                        <div class="listing" *ngFor="let payment of payments; let i = index">
                                            <div class="wrap pointer-cursor" (click)="gotoPayment(payment.id)">
                                                <div class="td one consumer-appthistory" style="flex-basis: 10% !important">
                                                    <span *ngIf="payment.txnType==='Appointment'"
                                                        [matTooltip]="'Appointment'" class="fa appt-icon"></span>
                                                    <span *ngIf="payment.txnType==='Waitlist' && !payment.showTokenId" [matTooltip]="'Waitlist'"
                                                        class="fa chckn-icon"></span>
                                                        <span *ngIf="payment.txnType==='Waitlist' && payment.showTokenId" [matTooltip]="'Token'"
                                                        class="fa token-icon"></span>
                                                    <span *ngIf="payment.txnType==='Donation'" [matTooltip]="'Donation'"
                                                        class="fa donate-icon"></span>
                                                    <span *ngIf="payment.txnType==='Order'" [matTooltip]="'Order'"
                                                        class="fa fa-shopping-cart shop_cart_icon"></span>
                                                </div>
                                                <div class="td one proname" style="flex-basis: 70% !important">
                                                    <div class="accname"
                                                        (click)="providerDetail(payment.accountEncodedId,$event)">
                                                        {{payment.accountName}}</div>
                                                    <div class="mode"> {{payment.acceptPaymentBy}} </div>
                                                    <div class="mode">{{stringtoDate(payment.paymentOn,
                                                        'date')}} {{stringtoDate(payment.paymentOn,
                                                        'time')}}</div>
                                                </div>
                                                <div class="td three"
                                                    style="flex-basis: 30% !important;padding: 10px !important;">
                                                    <div class="th three amount rupee-font">{{payment.amount |
                                                        currency:'&#8377; ' }}</div>
                                                    <div class="th one">{{payment.status
                                                        | capitalizeFirst}} <p><a (click)="gotoPayment(payment.id)" class="pointer-cursor">Details</a></p></div>
                                                </div>
                                            </div>                                           
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>